"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=233,exports.ids=[233],exports.modules={87233:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{FutureStockModule:()=>FutureStockModule});var core=__webpack_require__(40305),common=__webpack_require__(89318),spartacus_storefront=__webpack_require__(25907),spartacus_product_future_stock_root=__webpack_require__(18211),spartacus_core=__webpack_require__(46167);function FutureStockAccordionComponent_ng_container_0_ng_container_5_ng_container_1_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",6),core._uU(1),core.ALo(2,"cxTranslate"),core.qZA()),2&rf){const futureStock_r7=ctx.$implicit;core.xp6(1),core.lnq(" ",futureStock_r7.formattedDate," - ",core.lcZ(2,3,"futureStockDropdown.quantity")," ",futureStock_r7.stock.stockLevel," ")}}function FutureStockAccordionComponent_ng_container_0_ng_container_5_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,FutureStockAccordionComponent_ng_container_0_ng_container_5_ng_container_1_div_1_Template,3,5,"div",5),core.BQk()),2&rf){const futureStocks_r1=core.oxw(2).ngIf;core.xp6(1),core.Q6J("ngForOf",futureStocks_r1.futureStocks)}}function FutureStockAccordionComponent_ng_container_0_ng_container_5_ng_template_2_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",6),core._uU(1),core.ALo(2,"cxTranslate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"futureStockDropdown.noFutureStocks")," "))}function FutureStockAccordionComponent_ng_container_0_ng_container_5_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,FutureStockAccordionComponent_ng_container_0_ng_container_5_ng_container_1_Template,2,1,"ng-container",3),core.YNc(2,FutureStockAccordionComponent_ng_container_0_ng_container_5_ng_template_2_Template,3,3,"ng-template",null,4,core.W1O),core.BQk()),2&rf){const _r4=core.MAs(3),futureStocks_r1=core.oxw().ngIf;core.xp6(1),core.Q6J("ngIf",null==futureStocks_r1||null==futureStocks_r1.futureStocks?null:futureStocks_r1.futureStocks.length)("ngIfElse",_r4)}}function FutureStockAccordionComponent_ng_container_0_Template(rf,ctx){if(1&rf){const _r11=core.EpF();core.ynx(0),core.TgZ(1,"button",1),core.NdJ("click",__name(function(){core.CHM(_r11);const ctx_r10=core.oxw();return core.KtG(ctx_r10.toggle())},"FutureStockAccordionComponent_ng_container_0_Template_button_click_1_listener")),core._uU(2),core.ALo(3,"cxTranslate"),core._UZ(4,"cx-icon",2),core.qZA(),core.YNc(5,FutureStockAccordionComponent_ng_container_0_ng_container_5_Template,4,2,"ng-container",0),core.BQk()}if(2&rf){const ctx_r0=core.oxw();core.xp6(1),core.uIk("aria-expanded",ctx_r0.expanded),core.xp6(1),core.hij(" ",core.lcZ(3,4,"futureStockDropdown.header")," "),core.xp6(2),core.Q6J("type",ctx_r0.expanded?ctx_r0.iconType.CARET_UP:ctx_r0.iconType.CARET_DOWN),core.xp6(1),core.Q6J("ngIf",ctx_r0.expanded)}}__name(FutureStockAccordionComponent_ng_container_0_ng_container_5_ng_container_1_div_1_Template,"FutureStockAccordionComponent_ng_container_0_ng_container_5_ng_container_1_div_1_Template"),__name(FutureStockAccordionComponent_ng_container_0_ng_container_5_ng_container_1_Template,"FutureStockAccordionComponent_ng_container_0_ng_container_5_ng_container_1_Template"),__name(FutureStockAccordionComponent_ng_container_0_ng_container_5_ng_template_2_Template,"FutureStockAccordionComponent_ng_container_0_ng_container_5_ng_template_2_Template"),__name(FutureStockAccordionComponent_ng_container_0_ng_container_5_Template,"FutureStockAccordionComponent_ng_container_0_ng_container_5_Template"),__name(FutureStockAccordionComponent_ng_container_0_Template,"FutureStockAccordionComponent_ng_container_0_Template");class FutureStockAccordionComponent{constructor(futureStockService){this.futureStockService=futureStockService,this.futureStocks$=this.futureStockService.getFutureStock(),this.expanded=!1,this.iconType=spartacus_storefront.e1G}toggle(){this.expanded=!this.expanded}}__name(FutureStockAccordionComponent,"FutureStockAccordionComponent"),FutureStockAccordionComponent.\u0275fac=__name(function(t){return new(t||FutureStockAccordionComponent)(core.Y36(spartacus_product_future_stock_root.sU))},"FutureStockAccordionComponent_Factory"),FutureStockAccordionComponent.\u0275cmp=core.Xpm({type:FutureStockAccordionComponent,selectors:[["cx-future-stock-accordion"]],decls:2,vars:3,consts:[[4,"ngIf"],["id","cx-future-stock-accordion-header","aria-controls","cx-future-stock-accordion-content",1,"cx-future-stock-accordion-header",3,"click"],["aria-hidden","true",3,"type"],[4,"ngIf","ngIfElse"],["noStocks",""],["id","cx-future-stock-accordion-content","class","cx-future-stock-accordion-content","aria-labelledby","cx-future-stock-accordion-header",4,"ngFor","ngForOf"],["id","cx-future-stock-accordion-content","aria-labelledby","cx-future-stock-accordion-header",1,"cx-future-stock-accordion-content"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,FutureStockAccordionComponent_ng_container_0_Template,6,6,"ng-container",0),core.ALo(1,"async")),2&rf&&core.Q6J("ngIf",core.lcZ(1,1,ctx.futureStocks$))},"FutureStockAccordionComponent_Template"),dependencies:[common.sg,common.O5,spartacus_storefront.oJW,common.Ov,spartacus_core.X$D],encapsulation:2});class FutureStockAccordionModule{}__name(FutureStockAccordionModule,"FutureStockAccordionModule"),FutureStockAccordionModule.\u0275fac=__name(function(t){return new(t||FutureStockAccordionModule)},"FutureStockAccordionModule_Factory"),FutureStockAccordionModule.\u0275mod=core.oAB({type:FutureStockAccordionModule}),FutureStockAccordionModule.\u0275inj=core.cJS({providers:[(0,spartacus_core.i51)({cmsComponents:{FutureStockComponent:{component:FutureStockAccordionComponent}}})],imports:[common.ez,spartacus_core.LUR,spartacus_storefront.QX1]});class FutureStockComponentsModule{}__name(FutureStockComponentsModule,"FutureStockComponentsModule"),FutureStockComponentsModule.\u0275fac=__name(function(t){return new(t||FutureStockComponentsModule)},"FutureStockComponentsModule_Factory"),FutureStockComponentsModule.\u0275mod=core.oAB({type:FutureStockComponentsModule}),FutureStockComponentsModule.\u0275inj=core.cJS({imports:[common.ez,FutureStockAccordionModule]});var of=__webpack_require__(95202),withLatestFrom=__webpack_require__(49320),switchMap=__webpack_require__(63714);class FutureStockAdapter{}__name(FutureStockAdapter,"FutureStockAdapter");class FutureStockConnector{constructor(adapter){this.adapter=adapter}getFutureStock(userId,productCode){return this.adapter.getFutureStock(userId,productCode)}getFutureStocks(userId,productCodes){return this.adapter.getFutureStocks(userId,productCodes)}}__name(FutureStockConnector,"FutureStockConnector"),FutureStockConnector.\u0275fac=__name(function(t){return new(t||FutureStockConnector)(core.LFG(FutureStockAdapter))},"FutureStockConnector_Factory"),FutureStockConnector.\u0275prov=core.Yz7({token:FutureStockConnector,factory:FutureStockConnector.\u0275fac});const FUTURE_STOCK_NORMALIZER=new core.OlP("FutureStockNormalizer"),FUTURE_STOCK_LIST_NORMALIZER=new core.OlP("FutureStockListNormalizer");class FutureStockService{getFutureStock(){return this.futureStockState$}constructor(userIdService,futureStockConnector,routingService){this.userIdService=userIdService,this.futureStockConnector=futureStockConnector,this.routingService=routingService,this.PRODUCT_KEY="productCode",this.futureStockState$=this.routingService.getRouterState().pipe((0,withLatestFrom.M)(this.userIdService.takeUserId()),(0,switchMap.w)(([{state},userId])=>userId!==spartacus_core.Fds?this.futureStockConnector.getFutureStock(userId,state.params[this.PRODUCT_KEY]):(0,of.of)(void 0)))}}__name(FutureStockService,"FutureStockService"),FutureStockService.\u0275fac=__name(function(t){return new(t||FutureStockService)(core.LFG(spartacus_core.XBV),core.LFG(FutureStockConnector),core.LFG(spartacus_core.Znh))},"FutureStockService_Factory"),FutureStockService.\u0275prov=core.Yz7({token:FutureStockService,factory:FutureStockService.\u0275fac});const facadeProviders=[FutureStockService,{provide:spartacus_product_future_stock_root.sU,useExisting:FutureStockService}];class FutureStockCoreModule{static forRoot(){return{ngModule:FutureStockCoreModule}}}__name(FutureStockCoreModule,"FutureStockCoreModule"),FutureStockCoreModule.\u0275fac=__name(function(t){return new(t||FutureStockCoreModule)},"FutureStockCoreModule_Factory"),FutureStockCoreModule.\u0275mod=core.oAB({type:FutureStockCoreModule}),FutureStockCoreModule.\u0275inj=core.cJS({providers:[...facadeProviders,FutureStockConnector]});var throwError=__webpack_require__(84724),catchError=__webpack_require__(2155),http=__webpack_require__(48664);class OccFutureStockAdapter{constructor(http2,occEndpoints,converter){this.http=http2,this.occEndpoints=occEndpoints,this.converter=converter,this.logger=(0,core.f3M)(spartacus_core.mQy)}getFutureStock(userId,productCode){return this.http.get(this.getFutureStockEndpoint(userId,productCode)).pipe((0,catchError.K)(error=>(0,throwError._)((0,spartacus_core.cxH)(error,this.logger))),this.converter.pipeable(FUTURE_STOCK_NORMALIZER))}getFutureStocks(userId,productCodes){return this.http.get(this.getFutureStocksEndpoint(userId,productCodes)).pipe((0,catchError.K)(error=>(0,throwError._)((0,spartacus_core.cxH)(error,this.logger))),this.converter.pipeable(FUTURE_STOCK_LIST_NORMALIZER))}getFutureStockEndpoint(userId,productCode){return this.occEndpoints.buildUrl("futureStock",{urlParams:{userId,productCode}})}getFutureStocksEndpoint(userId,productCodes){const params={};return params.productCodes=productCodes,this.occEndpoints.buildUrl("futureStocks",{urlParams:{userId},queryParams:params})}}__name(OccFutureStockAdapter,"OccFutureStockAdapter"),OccFutureStockAdapter.\u0275fac=__name(function(t){return new(t||OccFutureStockAdapter)(core.LFG(http.eN),core.LFG(spartacus_core.Lz0),core.LFG(spartacus_core.IXI))},"OccFutureStockAdapter_Factory"),OccFutureStockAdapter.\u0275prov=core.Yz7({token:OccFutureStockAdapter,factory:OccFutureStockAdapter.\u0275fac});const defaultOccFutureStockConfig={backend:{occ:{endpoints:{futureStock:"users/${userId}/futureStocks/${productCode}",futureStocks:"users/${userId}/futureStocks"}}}};class FutureStockOccModule{}__name(FutureStockOccModule,"FutureStockOccModule"),FutureStockOccModule.\u0275fac=__name(function(t){return new(t||FutureStockOccModule)},"FutureStockOccModule_Factory"),FutureStockOccModule.\u0275mod=core.oAB({type:FutureStockOccModule}),FutureStockOccModule.\u0275inj=core.cJS({providers:[(0,spartacus_core.i51)(defaultOccFutureStockConfig),{provide:FutureStockAdapter,useClass:OccFutureStockAdapter}],imports:[common.ez]});class FutureStockModule{}__name(FutureStockModule,"FutureStockModule"),FutureStockModule.\u0275fac=__name(function(t){return new(t||FutureStockModule)},"FutureStockModule_Factory"),FutureStockModule.\u0275mod=core.oAB({type:FutureStockModule}),FutureStockModule.\u0275inj=core.cJS({imports:[FutureStockCoreModule.forRoot(),FutureStockOccModule,FutureStockComponentsModule]})}};