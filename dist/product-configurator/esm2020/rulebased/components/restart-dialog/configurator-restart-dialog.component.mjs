/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { Component } from '@angular/core';
import { CommonConfigurator } from '@spartacus/product-configurator/common';
import { ICON_TYPE, } from '@spartacus/storefront';
import { filter, switchMap } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@spartacus/storefront";
import * as i2 from "../../core/facade/configurator-commons.service";
import * as i3 from "@spartacus/core";
import * as i4 from "@angular/common";
export class ConfiguratorRestartDialogComponent {
    constructor(launchDialogService, configuratorCommonsService, routingService, productService) {
        this.launchDialogService = launchDialogService;
        this.configuratorCommonsService = configuratorCommonsService;
        this.routingService = routingService;
        this.productService = productService;
        this.dialogData$ = this.launchDialogService.data$.pipe(
        // In case conflict solver opens as well we need to filter out is data
        filter((dialogData) => dialogData && dialogData.owner));
        this.product$ = this.dialogData$.pipe(switchMap((dialogData) => this.productService.get(dialogData.owner.id)));
        this.iconTypes = ICON_TYPE;
        this.focusConfig = {
            trap: true,
            block: true,
            autofocus: '.btn-primary',
            focusOnEscape: true,
        };
    }
    /**
     * Closes the dialog
     */
    close() {
        this.launchDialogService.closeDialog('Close restart configuration dialog');
    }
    /**
     * Resume with current configuration
     * @param product owning this configuration
     */
    resume(product) {
        this.close();
        // In case conflict solver was open as well, it was closed by the call above.
        // By navigating again we ensure it will open again.
        this.routingService.go({
            cxRoute: 'configure' + product.configuratorType,
            params: {
                ownerType: CommonConfigurator.OwnerType.PRODUCT,
                entityKey: product.code,
            },
        });
    }
    /**
     * Discards current configuration and requests a new default configuration
     * @param owner owner of the current configuration that will be reused for next configuration
     */
    restart(owner) {
        this.configuratorCommonsService.forceNewConfiguration(owner);
        this.close();
    }
    /**
     * Navigates back to product detail page without making a decision
     * @param product owning this configuration
     */
    backToPDP(product) {
        this.close();
        this.routingService.go({
            cxRoute: 'product',
            params: product,
        });
    }
}
ConfiguratorRestartDialogComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: ConfiguratorRestartDialogComponent, deps: [{ token: i1.LaunchDialogService }, { token: i2.ConfiguratorCommonsService }, { token: i3.RoutingService }, { token: i3.ProductService }], target: i0.ɵɵFactoryTarget.Component });
ConfiguratorRestartDialogComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.9", type: ConfiguratorRestartDialogComponent, selector: "cx-configurator-restart-dialog", ngImport: i0, template: "<div class=\"cx-modal-container\">\n  <ng-container *ngIf=\"dialogData$ | async as dialogData\">\n    <ng-container *ngIf=\"product$ | async as product\">\n      <div\n        class=\"cx-modal-content\"\n        [cxFocus]=\"focusConfig\"\n        (esc)=\"backToPDP(product)\"\n      >\n        <div class=\"cx-dialog-header modal-header\">\n          <div class=\"cx-dialog-title modal-title\">\n            {{ 'configurator.restartDialog.title' | cxTranslate }}\n          </div>\n          <button\n            title=\"{{ 'configurator.a11y.closeRestartDialog' | cxTranslate }}\"\n            type=\"button\"\n            class=\"close\"\n            (click)=\"backToPDP(product)\"\n          >\n            <span aria-hidden=\"true\">\n              <cx-icon [type]=\"iconTypes.CLOSE\"></cx-icon>\n            </span>\n          </button>\n        </div>\n\n        <div class=\"cx-dialog-body modal-body\">\n          <div id=\"cx-configurator-restart-dialog-description\">\n            {{ 'configurator.restartDialog.description' | cxTranslate }}\n          </div>\n          <button\n            class=\"btn btn-primary btn-block\"\n            (click)=\"resume(product)\"\n            aria-describedby=\"cx-configurator-restart-dialog-description\"\n          >\n            {{ 'configurator.restartDialog.resumeButton' | cxTranslate }}\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary btn-block\"\n            (click)=\"restart(dialogData.owner)\"\n            aria-describedby=\"cx-configurator-restart-dialog-description\"\n          >\n            {{ 'configurator.restartDialog.restartButton' | cxTranslate }}\n          </button>\n        </div>\n      </div>\n    </ng-container>\n  </ng-container>\n</div>\n", dependencies: [{ kind: "directive", type: i4.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i1.IconComponent, selector: "cx-icon,[cxIcon]", inputs: ["cxIcon", "type"] }, { kind: "directive", type: i1.FocusDirective, selector: "[cxFocus]", inputs: ["cxFocus"] }, { kind: "pipe", type: i4.AsyncPipe, name: "async" }, { kind: "pipe", type: i3.TranslatePipe, name: "cxTranslate" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: ConfiguratorRestartDialogComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-configurator-restart-dialog', template: "<div class=\"cx-modal-container\">\n  <ng-container *ngIf=\"dialogData$ | async as dialogData\">\n    <ng-container *ngIf=\"product$ | async as product\">\n      <div\n        class=\"cx-modal-content\"\n        [cxFocus]=\"focusConfig\"\n        (esc)=\"backToPDP(product)\"\n      >\n        <div class=\"cx-dialog-header modal-header\">\n          <div class=\"cx-dialog-title modal-title\">\n            {{ 'configurator.restartDialog.title' | cxTranslate }}\n          </div>\n          <button\n            title=\"{{ 'configurator.a11y.closeRestartDialog' | cxTranslate }}\"\n            type=\"button\"\n            class=\"close\"\n            (click)=\"backToPDP(product)\"\n          >\n            <span aria-hidden=\"true\">\n              <cx-icon [type]=\"iconTypes.CLOSE\"></cx-icon>\n            </span>\n          </button>\n        </div>\n\n        <div class=\"cx-dialog-body modal-body\">\n          <div id=\"cx-configurator-restart-dialog-description\">\n            {{ 'configurator.restartDialog.description' | cxTranslate }}\n          </div>\n          <button\n            class=\"btn btn-primary btn-block\"\n            (click)=\"resume(product)\"\n            aria-describedby=\"cx-configurator-restart-dialog-description\"\n          >\n            {{ 'configurator.restartDialog.resumeButton' | cxTranslate }}\n          </button>\n          <button\n            type=\"button\"\n            class=\"btn btn-secondary btn-block\"\n            (click)=\"restart(dialogData.owner)\"\n            aria-describedby=\"cx-configurator-restart-dialog-description\"\n          >\n            {{ 'configurator.restartDialog.restartButton' | cxTranslate }}\n          </button>\n        </div>\n      </div>\n    </ng-container>\n  </ng-container>\n</div>\n" }]
        }], ctorParameters: function () { return [{ type: i1.LaunchDialogService }, { type: i2.ConfiguratorCommonsService }, { type: i3.RoutingService }, { type: i3.ProductService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdG9yLXJlc3RhcnQtZGlhbG9nLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2ZlYXR1cmUtbGlicy9wcm9kdWN0LWNvbmZpZ3VyYXRvci9ydWxlYmFzZWQvY29tcG9uZW50cy9yZXN0YXJ0LWRpYWxvZy9jb25maWd1cmF0b3ItcmVzdGFydC1kaWFsb2cuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL3Byb2R1Y3QtY29uZmlndXJhdG9yL3J1bGViYXNlZC9jb21wb25lbnRzL3Jlc3RhcnQtZGlhbG9nL2NvbmZpZ3VyYXRvci1yZXN0YXJ0LWRpYWxvZy5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHO0FBRUgsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUUxQyxPQUFPLEVBQUUsa0JBQWtCLEVBQUUsTUFBTSx3Q0FBd0MsQ0FBQztBQUM1RSxPQUFPLEVBRUwsU0FBUyxHQUVWLE1BQU0sdUJBQXVCLENBQUM7QUFFL0IsT0FBTyxFQUFFLE1BQU0sRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7Ozs7O0FBT25ELE1BQU0sT0FBTyxrQ0FBa0M7SUFDN0MsWUFDWSxtQkFBd0MsRUFDeEMsMEJBQXNELEVBQ3RELGNBQThCLEVBQzlCLGNBQThCO1FBSDlCLHdCQUFtQixHQUFuQixtQkFBbUIsQ0FBcUI7UUFDeEMsK0JBQTBCLEdBQTFCLDBCQUEwQixDQUE0QjtRQUN0RCxtQkFBYyxHQUFkLGNBQWMsQ0FBZ0I7UUFDOUIsbUJBQWMsR0FBZCxjQUFjLENBQWdCO1FBRzFDLGdCQUFXLEdBQ1QsSUFBSSxDQUFDLG1CQUFtQixDQUFDLEtBQUssQ0FBQyxJQUFJO1FBQ2pDLHNFQUFzRTtRQUN0RSxNQUFNLENBQUMsQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDLFVBQVUsSUFBSSxVQUFVLENBQUMsS0FBSyxDQUFDLENBQ3ZELENBQUM7UUFFSixhQUFRLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQzlCLFNBQVMsQ0FBQyxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUN4RSxDQUFDO1FBRUYsY0FBUyxHQUFHLFNBQVMsQ0FBQztRQUN0QixnQkFBVyxHQUFnQjtZQUN6QixJQUFJLEVBQUUsSUFBSTtZQUNWLEtBQUssRUFBRSxJQUFJO1lBQ1gsU0FBUyxFQUFFLGNBQWM7WUFDekIsYUFBYSxFQUFFLElBQUk7U0FDcEIsQ0FBQztJQWxCQyxDQUFDO0lBb0JKOztPQUVHO0lBQ0gsS0FBSztRQUNILElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxXQUFXLENBQUMsb0NBQW9DLENBQUMsQ0FBQztJQUM3RSxDQUFDO0lBRUQ7OztPQUdHO0lBQ0gsTUFBTSxDQUFDLE9BQWdCO1FBQ3JCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNiLDZFQUE2RTtRQUM3RSxvREFBb0Q7UUFDcEQsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUM7WUFDckIsT0FBTyxFQUFFLFdBQVcsR0FBRyxPQUFPLENBQUMsZ0JBQWdCO1lBQy9DLE1BQU0sRUFBRTtnQkFDTixTQUFTLEVBQUUsa0JBQWtCLENBQUMsU0FBUyxDQUFDLE9BQU87Z0JBQy9DLFNBQVMsRUFBRSxPQUFPLENBQUMsSUFBSTthQUN4QjtTQUNGLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRDs7O09BR0c7SUFDSCxPQUFPLENBQUMsS0FBK0I7UUFDckMsSUFBSSxDQUFDLDBCQUEwQixDQUFDLHFCQUFxQixDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQzdELElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztJQUNmLENBQUM7SUFFRDs7O09BR0c7SUFDSCxTQUFTLENBQUMsT0FBZ0I7UUFDeEIsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUM7WUFDckIsT0FBTyxFQUFFLFNBQVM7WUFDbEIsTUFBTSxFQUFFLE9BQU87U0FDaEIsQ0FBQyxDQUFDO0lBQ0wsQ0FBQzs7K0hBckVVLGtDQUFrQzttSEFBbEMsa0NBQWtDLHNFQ3RCL0MsdXZEQWdEQTsyRkQxQmEsa0NBQWtDO2tCQUo5QyxTQUFTOytCQUNFLGdDQUFnQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiAyMDIzIFNBUCBTcGFydGFjdXMgdGVhbSA8c3BhcnRhY3VzLXRlYW1Ac2FwLmNvbT5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUHJvZHVjdCwgUHJvZHVjdFNlcnZpY2UsIFJvdXRpbmdTZXJ2aWNlIH0gZnJvbSAnQHNwYXJ0YWN1cy9jb3JlJztcbmltcG9ydCB7IENvbW1vbkNvbmZpZ3VyYXRvciB9IGZyb20gJ0BzcGFydGFjdXMvcHJvZHVjdC1jb25maWd1cmF0b3IvY29tbW9uJztcbmltcG9ydCB7XG4gIEZvY3VzQ29uZmlnLFxuICBJQ09OX1RZUEUsXG4gIExhdW5jaERpYWxvZ1NlcnZpY2UsXG59IGZyb20gJ0BzcGFydGFjdXMvc3RvcmVmcm9udCc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBmaWx0ZXIsIHN3aXRjaE1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IENvbmZpZ3VyYXRvckNvbW1vbnNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vY29yZS9mYWNhZGUvY29uZmlndXJhdG9yLWNvbW1vbnMuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2N4LWNvbmZpZ3VyYXRvci1yZXN0YXJ0LWRpYWxvZycsXG4gIHRlbXBsYXRlVXJsOiAnLi9jb25maWd1cmF0b3ItcmVzdGFydC1kaWFsb2cuY29tcG9uZW50Lmh0bWwnLFxufSlcbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0b3JSZXN0YXJ0RGlhbG9nQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIGxhdW5jaERpYWxvZ1NlcnZpY2U6IExhdW5jaERpYWxvZ1NlcnZpY2UsXG4gICAgcHJvdGVjdGVkIGNvbmZpZ3VyYXRvckNvbW1vbnNTZXJ2aWNlOiBDb25maWd1cmF0b3JDb21tb25zU2VydmljZSxcbiAgICBwcm90ZWN0ZWQgcm91dGluZ1NlcnZpY2U6IFJvdXRpbmdTZXJ2aWNlLFxuICAgIHByb3RlY3RlZCBwcm9kdWN0U2VydmljZTogUHJvZHVjdFNlcnZpY2VcbiAgKSB7fVxuXG4gIGRpYWxvZ0RhdGEkOiBPYnNlcnZhYmxlPHsgb3duZXI6IENvbW1vbkNvbmZpZ3VyYXRvci5Pd25lciB9PiA9XG4gICAgdGhpcy5sYXVuY2hEaWFsb2dTZXJ2aWNlLmRhdGEkLnBpcGUoXG4gICAgICAvLyBJbiBjYXNlIGNvbmZsaWN0IHNvbHZlciBvcGVucyBhcyB3ZWxsIHdlIG5lZWQgdG8gZmlsdGVyIG91dCBpcyBkYXRhXG4gICAgICBmaWx0ZXIoKGRpYWxvZ0RhdGEpID0+IGRpYWxvZ0RhdGEgJiYgZGlhbG9nRGF0YS5vd25lcilcbiAgICApO1xuXG4gIHByb2R1Y3QkID0gdGhpcy5kaWFsb2dEYXRhJC5waXBlKFxuICAgIHN3aXRjaE1hcCgoZGlhbG9nRGF0YSkgPT4gdGhpcy5wcm9kdWN0U2VydmljZS5nZXQoZGlhbG9nRGF0YS5vd25lci5pZCkpXG4gICk7XG5cbiAgaWNvblR5cGVzID0gSUNPTl9UWVBFO1xuICBmb2N1c0NvbmZpZzogRm9jdXNDb25maWcgPSB7XG4gICAgdHJhcDogdHJ1ZSxcbiAgICBibG9jazogdHJ1ZSxcbiAgICBhdXRvZm9jdXM6ICcuYnRuLXByaW1hcnknLFxuICAgIGZvY3VzT25Fc2NhcGU6IHRydWUsXG4gIH07XG5cbiAgLyoqXG4gICAqIENsb3NlcyB0aGUgZGlhbG9nXG4gICAqL1xuICBjbG9zZSgpOiB2b2lkIHtcbiAgICB0aGlzLmxhdW5jaERpYWxvZ1NlcnZpY2UuY2xvc2VEaWFsb2coJ0Nsb3NlIHJlc3RhcnQgY29uZmlndXJhdGlvbiBkaWFsb2cnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXN1bWUgd2l0aCBjdXJyZW50IGNvbmZpZ3VyYXRpb25cbiAgICogQHBhcmFtIHByb2R1Y3Qgb3duaW5nIHRoaXMgY29uZmlndXJhdGlvblxuICAgKi9cbiAgcmVzdW1lKHByb2R1Y3Q6IFByb2R1Y3QpOiB2b2lkIHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gICAgLy8gSW4gY2FzZSBjb25mbGljdCBzb2x2ZXIgd2FzIG9wZW4gYXMgd2VsbCwgaXQgd2FzIGNsb3NlZCBieSB0aGUgY2FsbCBhYm92ZS5cbiAgICAvLyBCeSBuYXZpZ2F0aW5nIGFnYWluIHdlIGVuc3VyZSBpdCB3aWxsIG9wZW4gYWdhaW4uXG4gICAgdGhpcy5yb3V0aW5nU2VydmljZS5nbyh7XG4gICAgICBjeFJvdXRlOiAnY29uZmlndXJlJyArIHByb2R1Y3QuY29uZmlndXJhdG9yVHlwZSxcbiAgICAgIHBhcmFtczoge1xuICAgICAgICBvd25lclR5cGU6IENvbW1vbkNvbmZpZ3VyYXRvci5Pd25lclR5cGUuUFJPRFVDVCxcbiAgICAgICAgZW50aXR5S2V5OiBwcm9kdWN0LmNvZGUsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIERpc2NhcmRzIGN1cnJlbnQgY29uZmlndXJhdGlvbiBhbmQgcmVxdWVzdHMgYSBuZXcgZGVmYXVsdCBjb25maWd1cmF0aW9uXG4gICAqIEBwYXJhbSBvd25lciBvd25lciBvZiB0aGUgY3VycmVudCBjb25maWd1cmF0aW9uIHRoYXQgd2lsbCBiZSByZXVzZWQgZm9yIG5leHQgY29uZmlndXJhdGlvblxuICAgKi9cbiAgcmVzdGFydChvd25lcjogQ29tbW9uQ29uZmlndXJhdG9yLk93bmVyKTogdm9pZCB7XG4gICAgdGhpcy5jb25maWd1cmF0b3JDb21tb25zU2VydmljZS5mb3JjZU5ld0NvbmZpZ3VyYXRpb24ob3duZXIpO1xuICAgIHRoaXMuY2xvc2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBOYXZpZ2F0ZXMgYmFjayB0byBwcm9kdWN0IGRldGFpbCBwYWdlIHdpdGhvdXQgbWFraW5nIGEgZGVjaXNpb25cbiAgICogQHBhcmFtIHByb2R1Y3Qgb3duaW5nIHRoaXMgY29uZmlndXJhdGlvblxuICAgKi9cbiAgYmFja1RvUERQKHByb2R1Y3Q6IFByb2R1Y3QpIHtcbiAgICB0aGlzLmNsb3NlKCk7XG4gICAgdGhpcy5yb3V0aW5nU2VydmljZS5nbyh7XG4gICAgICBjeFJvdXRlOiAncHJvZHVjdCcsXG4gICAgICBwYXJhbXM6IHByb2R1Y3QsXG4gICAgfSk7XG4gIH1cbn1cbiIsIjxkaXYgY2xhc3M9XCJjeC1tb2RhbC1jb250YWluZXJcIj5cbiAgPG5nLWNvbnRhaW5lciAqbmdJZj1cImRpYWxvZ0RhdGEkIHwgYXN5bmMgYXMgZGlhbG9nRGF0YVwiPlxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJwcm9kdWN0JCB8IGFzeW5jIGFzIHByb2R1Y3RcIj5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3M9XCJjeC1tb2RhbC1jb250ZW50XCJcbiAgICAgICAgW2N4Rm9jdXNdPVwiZm9jdXNDb25maWdcIlxuICAgICAgICAoZXNjKT1cImJhY2tUb1BEUChwcm9kdWN0KVwiXG4gICAgICA+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjeC1kaWFsb2ctaGVhZGVyIG1vZGFsLWhlYWRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeC1kaWFsb2ctdGl0bGUgbW9kYWwtdGl0bGVcIj5cbiAgICAgICAgICAgIHt7ICdjb25maWd1cmF0b3IucmVzdGFydERpYWxvZy50aXRsZScgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgIHRpdGxlPVwie3sgJ2NvbmZpZ3VyYXRvci5hMTF5LmNsb3NlUmVzdGFydERpYWxvZycgfCBjeFRyYW5zbGF0ZSB9fVwiXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcbiAgICAgICAgICAgIGNsYXNzPVwiY2xvc2VcIlxuICAgICAgICAgICAgKGNsaWNrKT1cImJhY2tUb1BEUChwcm9kdWN0KVwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgICAgIDxjeC1pY29uIFt0eXBlXT1cImljb25UeXBlcy5DTE9TRVwiPjwvY3gtaWNvbj5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImN4LWRpYWxvZy1ib2R5IG1vZGFsLWJvZHlcIj5cbiAgICAgICAgICA8ZGl2IGlkPVwiY3gtY29uZmlndXJhdG9yLXJlc3RhcnQtZGlhbG9nLWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICB7eyAnY29uZmlndXJhdG9yLnJlc3RhcnREaWFsb2cuZGVzY3JpcHRpb24nIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgKGNsaWNrKT1cInJlc3VtZShwcm9kdWN0KVwiXG4gICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiY3gtY29uZmlndXJhdG9yLXJlc3RhcnQtZGlhbG9nLWRlc2NyaXB0aW9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7eyAnY29uZmlndXJhdG9yLnJlc3RhcnREaWFsb2cucmVzdW1lQnV0dG9uJyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tc2Vjb25kYXJ5IGJ0bi1ibG9ja1wiXG4gICAgICAgICAgICAoY2xpY2spPVwicmVzdGFydChkaWFsb2dEYXRhLm93bmVyKVwiXG4gICAgICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwiY3gtY29uZmlndXJhdG9yLXJlc3RhcnQtZGlhbG9nLWRlc2NyaXB0aW9uXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7eyAnY29uZmlndXJhdG9yLnJlc3RhcnREaWFsb2cucmVzdGFydEJ1dHRvbicgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvbmctY29udGFpbmVyPlxuICA8L25nLWNvbnRhaW5lcj5cbjwvZGl2PlxuIl19