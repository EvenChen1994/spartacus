/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { Component, HostBinding, ViewChild } from '@angular/core';
import { filter, switchMap, tap } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@spartacus/storefront";
import * as i2 from "../../core/facade/configurator-commons.service";
import * as i3 from "@spartacus/product-configurator/common";
import * as i4 from "@angular/common";
import * as i5 from "../overview-filter-bar/configurator-overview-filter-bar.component";
import * as i6 from "@spartacus/core";
export class ConfiguratorOverviewFilterButtonComponent {
    constructor(launchDialogService, configuratorCommonsService, configRouterExtractorService) {
        this.launchDialogService = launchDialogService;
        this.configuratorCommonsService = configuratorCommonsService;
        this.configRouterExtractorService = configRouterExtractorService;
        this.ghostStyle = true;
        //TODO(CXSPA-3392) remove this member in next major, it is not used
        /**
         * @deprecated since 6.1. Use configurationWithOv$ instead
         */
        this.config$ = this.configRouterExtractorService.extractRouterData().pipe(switchMap((routerData) => this.configuratorCommonsService.getConfiguration(routerData.owner)), 
        // filter 'strict null check safe'
        filter((configuration) => configuration.overview != null), tap(() => {
            this.ghostStyle = false;
        }));
        this.configurationWithOv$ = this.configRouterExtractorService.extractRouterData().pipe(switchMap((routerData) => this.configuratorCommonsService.getConfiguration(routerData.owner)), 
        // filter 'strict null check safe'
        filter((configuration) => configuration.overview != null), tap(() => {
            this.ghostStyle = false;
        }));
    }
    /**
     * get the number of filters currently applied to the overview page
     *
     * @param {Configurator.Overview} overview - current configuration overview data
     * @returns {number} - number of applied filters
     */
    getNumFilters(overview) {
        return ((overview.attributeFilters?.length ?? 0) +
            (overview.groupFilters?.length ?? 0));
    }
    /**
     * opens the filter modal
     * @param {Configurator.ConfigurationWithOverview} config - current configuration with overview data
     */
    openFilterModal(config) {
        this.launchDialogService.openDialogAndSubscribe("CONFIGURATOR_OV_FILTER" /* LAUNCH_CALLER.CONFIGURATOR_OV_FILTER */, this.filterButton, config);
    }
}
ConfiguratorOverviewFilterButtonComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: ConfiguratorOverviewFilterButtonComponent, deps: [{ token: i1.LaunchDialogService }, { token: i2.ConfiguratorCommonsService }, { token: i3.ConfiguratorRouterExtractorService }], target: i0.ɵɵFactoryTarget.Component });
ConfiguratorOverviewFilterButtonComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.9", type: ConfiguratorOverviewFilterButtonComponent, selector: "cx-configurator-overview-filter-button", host: { properties: { "class.ghost": "this.ghostStyle" } }, viewQueries: [{ propertyName: "filterButton", first: true, predicate: ["filterButton"], descendants: true }], ngImport: i0, template: "<ng-container\n  *ngIf=\"\n    configurationWithOv$ | async as configurationWithOv;\n    else ghostFilterButton\n  \"\n>\n  <button\n    #filterButton\n    class=\"btn btn-secondary cx-config-filter-button\"\n    tabindex=\"0\"\n    (click)=\"openFilterModal(configurationWithOv)\"\n    title=\"{{\n      (getNumFilters(configurationWithOv.overview) > 0\n        ? 'configurator.a11y.filterOverviewWithCount'\n        : 'configurator.a11y.filterOverview'\n      )\n        | cxTranslate\n          : { numAppliedFilters: getNumFilters(configurationWithOv.overview) }\n    }}\"\n  >\n    {{\n      (getNumFilters(configurationWithOv.overview) > 0\n        ? 'configurator.button.filterOverviewWithCount'\n        : 'configurator.button.filterOverview'\n      )\n        | cxTranslate\n          : { numAppliedFilters: getNumFilters(configurationWithOv.overview) }\n    }}\n  </button>\n  <cx-configurator-overview-filter-bar\n    [config]=\"configurationWithOv\"\n  ></cx-configurator-overview-filter-bar>\n</ng-container>\n\n<ng-template #ghostFilterButton>\n  <div class=\"cx-ghost-filter-button ghost\"></div>\n</ng-template>\n", dependencies: [{ kind: "directive", type: i4.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i5.ConfiguratorOverviewFilterBarComponent, selector: "cx-configurator-overview-filter-bar", inputs: ["config"] }, { kind: "pipe", type: i4.AsyncPipe, name: "async" }, { kind: "pipe", type: i6.TranslatePipe, name: "cxTranslate" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: ConfiguratorOverviewFilterButtonComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-configurator-overview-filter-button', template: "<ng-container\n  *ngIf=\"\n    configurationWithOv$ | async as configurationWithOv;\n    else ghostFilterButton\n  \"\n>\n  <button\n    #filterButton\n    class=\"btn btn-secondary cx-config-filter-button\"\n    tabindex=\"0\"\n    (click)=\"openFilterModal(configurationWithOv)\"\n    title=\"{{\n      (getNumFilters(configurationWithOv.overview) > 0\n        ? 'configurator.a11y.filterOverviewWithCount'\n        : 'configurator.a11y.filterOverview'\n      )\n        | cxTranslate\n          : { numAppliedFilters: getNumFilters(configurationWithOv.overview) }\n    }}\"\n  >\n    {{\n      (getNumFilters(configurationWithOv.overview) > 0\n        ? 'configurator.button.filterOverviewWithCount'\n        : 'configurator.button.filterOverview'\n      )\n        | cxTranslate\n          : { numAppliedFilters: getNumFilters(configurationWithOv.overview) }\n    }}\n  </button>\n  <cx-configurator-overview-filter-bar\n    [config]=\"configurationWithOv\"\n  ></cx-configurator-overview-filter-bar>\n</ng-container>\n\n<ng-template #ghostFilterButton>\n  <div class=\"cx-ghost-filter-button ghost\"></div>\n</ng-template>\n" }]
        }], ctorParameters: function () { return [{ type: i1.LaunchDialogService }, { type: i2.ConfiguratorCommonsService }, { type: i3.ConfiguratorRouterExtractorService }]; }, propDecorators: { filterButton: [{
                type: ViewChild,
                args: ['filterButton']
            }], ghostStyle: [{
                type: HostBinding,
                args: ['class.ghost']
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdG9yLW92ZXJ2aWV3LWZpbHRlci1idXR0b24uY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL3Byb2R1Y3QtY29uZmlndXJhdG9yL3J1bGViYXNlZC9jb21wb25lbnRzL292ZXJ2aWV3LWZpbHRlci1idXR0b24vY29uZmlndXJhdG9yLW92ZXJ2aWV3LWZpbHRlci1idXR0b24uY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL3Byb2R1Y3QtY29uZmlndXJhdG9yL3J1bGViYXNlZC9jb21wb25lbnRzL292ZXJ2aWV3LWZpbHRlci1idXR0b24vY29uZmlndXJhdG9yLW92ZXJ2aWV3LWZpbHRlci1idXR0b24uY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUVILE9BQU8sRUFBRSxTQUFTLEVBQWMsV0FBVyxFQUFFLFNBQVMsRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUk5RSxPQUFPLEVBQUUsTUFBTSxFQUFFLFNBQVMsRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7Ozs7Ozs7QUFReEQsTUFBTSxPQUFPLHlDQUF5QztJQUNwRCxZQUNZLG1CQUF3QyxFQUN4QywwQkFBc0QsRUFDdEQsNEJBQWdFO1FBRmhFLHdCQUFtQixHQUFuQixtQkFBbUIsQ0FBcUI7UUFDeEMsK0JBQTBCLEdBQTFCLDBCQUEwQixDQUE0QjtRQUN0RCxpQ0FBNEIsR0FBNUIsNEJBQTRCLENBQW9DO1FBSWhELGVBQVUsR0FBRyxJQUFJLENBQUM7UUFFOUMsbUVBQW1FO1FBQ25FOztXQUVHO1FBQ0gsWUFBTyxHQUNMLElBQUksQ0FBQyw0QkFBNEIsQ0FBQyxpQkFBaUIsRUFBRSxDQUFDLElBQUksQ0FDeEQsU0FBUyxDQUFDLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FDdkIsSUFBSSxDQUFDLDBCQUEwQixDQUFDLGdCQUFnQixDQUFDLFVBQVUsQ0FBQyxLQUFLLENBQUMsQ0FDbkU7UUFDRCxrQ0FBa0M7UUFDbEMsTUFBTSxDQUNKLENBQUMsYUFBYSxFQUFFLEVBQUUsQ0FBQyxhQUFhLENBQUMsUUFBUSxJQUFJLElBQUksQ0FJbEQsRUFDRCxHQUFHLENBQUMsR0FBRyxFQUFFO1lBQ1AsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUM7UUFDMUIsQ0FBQyxDQUFDLENBQ0gsQ0FBQztRQUVKLHlCQUFvQixHQUNsQixJQUFJLENBQUMsNEJBQTRCLENBQUMsaUJBQWlCLEVBQUUsQ0FBQyxJQUFJLENBQ3hELFNBQVMsQ0FBQyxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQ3ZCLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQ25FO1FBQ0Qsa0NBQWtDO1FBQ2xDLE1BQU0sQ0FDSixDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUMsYUFBYSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBSWxELEVBQ0QsR0FBRyxDQUFDLEdBQUcsRUFBRTtZQUNQLElBQUksQ0FBQyxVQUFVLEdBQUcsS0FBSyxDQUFDO1FBQzFCLENBQUMsQ0FBQyxDQUNILENBQUM7SUF6Q0QsQ0FBQztJQTJDSjs7Ozs7T0FLRztJQUNILGFBQWEsQ0FBQyxRQUErQjtRQUMzQyxPQUFPLENBQ0wsQ0FBQyxRQUFRLENBQUMsZ0JBQWdCLEVBQUUsTUFBTSxJQUFJLENBQUMsQ0FBQztZQUN4QyxDQUFDLFFBQVEsQ0FBQyxZQUFZLEVBQUUsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUNyQyxDQUFDO0lBQ0osQ0FBQztJQUVEOzs7T0FHRztJQUNILGVBQWUsQ0FBQyxNQUE4QztRQUM1RCxJQUFJLENBQUMsbUJBQW1CLENBQUMsc0JBQXNCLHNFQUU3QyxJQUFJLENBQUMsWUFBWSxFQUNqQixNQUFNLENBQ1AsQ0FBQztJQUNKLENBQUM7O3NJQXZFVSx5Q0FBeUM7MEhBQXpDLHlDQUF5Qyx3UENsQnRELDJtQ0FxQ0E7MkZEbkJhLHlDQUF5QztrQkFKckQsU0FBUzsrQkFDRSx3Q0FBd0M7b01BVXZCLFlBQVk7c0JBQXRDLFNBQVM7dUJBQUMsY0FBYztnQkFDRyxVQUFVO3NCQUFyQyxXQUFXO3VCQUFDLGFBQWEiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogMjAyMyBTQVAgU3BhcnRhY3VzIHRlYW0gPHNwYXJ0YWN1cy10ZWFtQHNhcC5jb20+XG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIEVsZW1lbnRSZWYsIEhvc3RCaW5kaW5nLCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbmZpZ3VyYXRvclJvdXRlckV4dHJhY3RvclNlcnZpY2UgfSBmcm9tICdAc3BhcnRhY3VzL3Byb2R1Y3QtY29uZmlndXJhdG9yL2NvbW1vbic7XG5pbXBvcnQgeyBMYXVuY2hEaWFsb2dTZXJ2aWNlLCBMQVVOQ0hfQ0FMTEVSIH0gZnJvbSAnQHNwYXJ0YWN1cy9zdG9yZWZyb250JztcbmltcG9ydCB7IE9ic2VydmFibGUsIE9wZXJhdG9yRnVuY3Rpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGZpbHRlciwgc3dpdGNoTWFwLCB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBDb25maWd1cmF0b3JDb21tb25zU2VydmljZSB9IGZyb20gJy4uLy4uL2NvcmUvZmFjYWRlL2NvbmZpZ3VyYXRvci1jb21tb25zLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29uZmlndXJhdG9yIH0gZnJvbSAnLi4vLi4vY29yZS9tb2RlbC9jb25maWd1cmF0b3IubW9kZWwnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjeC1jb25maWd1cmF0b3Itb3ZlcnZpZXctZmlsdGVyLWJ1dHRvbicsXG4gIHRlbXBsYXRlVXJsOiAnLi9jb25maWd1cmF0b3Itb3ZlcnZpZXctZmlsdGVyLWJ1dHRvbi5jb21wb25lbnQuaHRtbCcsXG59KVxuZXhwb3J0IGNsYXNzIENvbmZpZ3VyYXRvck92ZXJ2aWV3RmlsdGVyQnV0dG9uQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIGxhdW5jaERpYWxvZ1NlcnZpY2U6IExhdW5jaERpYWxvZ1NlcnZpY2UsXG4gICAgcHJvdGVjdGVkIGNvbmZpZ3VyYXRvckNvbW1vbnNTZXJ2aWNlOiBDb25maWd1cmF0b3JDb21tb25zU2VydmljZSxcbiAgICBwcm90ZWN0ZWQgY29uZmlnUm91dGVyRXh0cmFjdG9yU2VydmljZTogQ29uZmlndXJhdG9yUm91dGVyRXh0cmFjdG9yU2VydmljZVxuICApIHt9XG5cbiAgQFZpZXdDaGlsZCgnZmlsdGVyQnV0dG9uJykgZmlsdGVyQnV0dG9uOiBFbGVtZW50UmVmO1xuICBASG9zdEJpbmRpbmcoJ2NsYXNzLmdob3N0JykgZ2hvc3RTdHlsZSA9IHRydWU7XG5cbiAgLy9UT0RPKENYU1BBLTMzOTIpIHJlbW92ZSB0aGlzIG1lbWJlciBpbiBuZXh0IG1ham9yLCBpdCBpcyBub3QgdXNlZFxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgc2luY2UgNi4xLiBVc2UgY29uZmlndXJhdGlvbldpdGhPdiQgaW5zdGVhZFxuICAgKi9cbiAgY29uZmlnJDogT2JzZXJ2YWJsZTxDb25maWd1cmF0b3IuQ29uZmlndXJhdGlvbj4gPVxuICAgIHRoaXMuY29uZmlnUm91dGVyRXh0cmFjdG9yU2VydmljZS5leHRyYWN0Um91dGVyRGF0YSgpLnBpcGUoXG4gICAgICBzd2l0Y2hNYXAoKHJvdXRlckRhdGEpID0+XG4gICAgICAgIHRoaXMuY29uZmlndXJhdG9yQ29tbW9uc1NlcnZpY2UuZ2V0Q29uZmlndXJhdGlvbihyb3V0ZXJEYXRhLm93bmVyKVxuICAgICAgKSxcbiAgICAgIC8vIGZpbHRlciAnc3RyaWN0IG51bGwgY2hlY2sgc2FmZSdcbiAgICAgIGZpbHRlcihcbiAgICAgICAgKGNvbmZpZ3VyYXRpb24pID0+IGNvbmZpZ3VyYXRpb24ub3ZlcnZpZXcgIT0gbnVsbFxuICAgICAgKSBhcyBPcGVyYXRvckZ1bmN0aW9uPFxuICAgICAgICBDb25maWd1cmF0b3IuQ29uZmlndXJhdGlvbixcbiAgICAgICAgQ29uZmlndXJhdG9yLkNvbmZpZ3VyYXRpb25XaXRoT3ZlcnZpZXdcbiAgICAgID4sXG4gICAgICB0YXAoKCkgPT4ge1xuICAgICAgICB0aGlzLmdob3N0U3R5bGUgPSBmYWxzZTtcbiAgICAgIH0pXG4gICAgKTtcblxuICBjb25maWd1cmF0aW9uV2l0aE92JDogT2JzZXJ2YWJsZTxDb25maWd1cmF0b3IuQ29uZmlndXJhdGlvbldpdGhPdmVydmlldz4gPVxuICAgIHRoaXMuY29uZmlnUm91dGVyRXh0cmFjdG9yU2VydmljZS5leHRyYWN0Um91dGVyRGF0YSgpLnBpcGUoXG4gICAgICBzd2l0Y2hNYXAoKHJvdXRlckRhdGEpID0+XG4gICAgICAgIHRoaXMuY29uZmlndXJhdG9yQ29tbW9uc1NlcnZpY2UuZ2V0Q29uZmlndXJhdGlvbihyb3V0ZXJEYXRhLm93bmVyKVxuICAgICAgKSxcbiAgICAgIC8vIGZpbHRlciAnc3RyaWN0IG51bGwgY2hlY2sgc2FmZSdcbiAgICAgIGZpbHRlcihcbiAgICAgICAgKGNvbmZpZ3VyYXRpb24pID0+IGNvbmZpZ3VyYXRpb24ub3ZlcnZpZXcgIT0gbnVsbFxuICAgICAgKSBhcyBPcGVyYXRvckZ1bmN0aW9uPFxuICAgICAgICBDb25maWd1cmF0b3IuQ29uZmlndXJhdGlvbixcbiAgICAgICAgQ29uZmlndXJhdG9yLkNvbmZpZ3VyYXRpb25XaXRoT3ZlcnZpZXdcbiAgICAgID4sXG4gICAgICB0YXAoKCkgPT4ge1xuICAgICAgICB0aGlzLmdob3N0U3R5bGUgPSBmYWxzZTtcbiAgICAgIH0pXG4gICAgKTtcblxuICAvKipcbiAgICogZ2V0IHRoZSBudW1iZXIgb2YgZmlsdGVycyBjdXJyZW50bHkgYXBwbGllZCB0byB0aGUgb3ZlcnZpZXcgcGFnZVxuICAgKlxuICAgKiBAcGFyYW0ge0NvbmZpZ3VyYXRvci5PdmVydmlld30gb3ZlcnZpZXcgLSBjdXJyZW50IGNvbmZpZ3VyYXRpb24gb3ZlcnZpZXcgZGF0YVxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIG51bWJlciBvZiBhcHBsaWVkIGZpbHRlcnNcbiAgICovXG4gIGdldE51bUZpbHRlcnMob3ZlcnZpZXc6IENvbmZpZ3VyYXRvci5PdmVydmlldyk6IG51bWJlciB7XG4gICAgcmV0dXJuIChcbiAgICAgIChvdmVydmlldy5hdHRyaWJ1dGVGaWx0ZXJzPy5sZW5ndGggPz8gMCkgK1xuICAgICAgKG92ZXJ2aWV3Lmdyb3VwRmlsdGVycz8ubGVuZ3RoID8/IDApXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBvcGVucyB0aGUgZmlsdGVyIG1vZGFsXG4gICAqIEBwYXJhbSB7Q29uZmlndXJhdG9yLkNvbmZpZ3VyYXRpb25XaXRoT3ZlcnZpZXd9IGNvbmZpZyAtIGN1cnJlbnQgY29uZmlndXJhdGlvbiB3aXRoIG92ZXJ2aWV3IGRhdGFcbiAgICovXG4gIG9wZW5GaWx0ZXJNb2RhbChjb25maWc6IENvbmZpZ3VyYXRvci5Db25maWd1cmF0aW9uV2l0aE92ZXJ2aWV3KSB7XG4gICAgdGhpcy5sYXVuY2hEaWFsb2dTZXJ2aWNlLm9wZW5EaWFsb2dBbmRTdWJzY3JpYmUoXG4gICAgICBMQVVOQ0hfQ0FMTEVSLkNPTkZJR1VSQVRPUl9PVl9GSUxURVIsXG4gICAgICB0aGlzLmZpbHRlckJ1dHRvbixcbiAgICAgIGNvbmZpZ1xuICAgICk7XG4gIH1cbn1cbiIsIjxuZy1jb250YWluZXJcbiAgKm5nSWY9XCJcbiAgICBjb25maWd1cmF0aW9uV2l0aE92JCB8IGFzeW5jIGFzIGNvbmZpZ3VyYXRpb25XaXRoT3Y7XG4gICAgZWxzZSBnaG9zdEZpbHRlckJ1dHRvblxuICBcIlxuPlxuICA8YnV0dG9uXG4gICAgI2ZpbHRlckJ1dHRvblxuICAgIGNsYXNzPVwiYnRuIGJ0bi1zZWNvbmRhcnkgY3gtY29uZmlnLWZpbHRlci1idXR0b25cIlxuICAgIHRhYmluZGV4PVwiMFwiXG4gICAgKGNsaWNrKT1cIm9wZW5GaWx0ZXJNb2RhbChjb25maWd1cmF0aW9uV2l0aE92KVwiXG4gICAgdGl0bGU9XCJ7e1xuICAgICAgKGdldE51bUZpbHRlcnMoY29uZmlndXJhdGlvbldpdGhPdi5vdmVydmlldykgPiAwXG4gICAgICAgID8gJ2NvbmZpZ3VyYXRvci5hMTF5LmZpbHRlck92ZXJ2aWV3V2l0aENvdW50J1xuICAgICAgICA6ICdjb25maWd1cmF0b3IuYTExeS5maWx0ZXJPdmVydmlldydcbiAgICAgIClcbiAgICAgICAgfCBjeFRyYW5zbGF0ZVxuICAgICAgICAgIDogeyBudW1BcHBsaWVkRmlsdGVyczogZ2V0TnVtRmlsdGVycyhjb25maWd1cmF0aW9uV2l0aE92Lm92ZXJ2aWV3KSB9XG4gICAgfX1cIlxuICA+XG4gICAge3tcbiAgICAgIChnZXROdW1GaWx0ZXJzKGNvbmZpZ3VyYXRpb25XaXRoT3Yub3ZlcnZpZXcpID4gMFxuICAgICAgICA/ICdjb25maWd1cmF0b3IuYnV0dG9uLmZpbHRlck92ZXJ2aWV3V2l0aENvdW50J1xuICAgICAgICA6ICdjb25maWd1cmF0b3IuYnV0dG9uLmZpbHRlck92ZXJ2aWV3J1xuICAgICAgKVxuICAgICAgICB8IGN4VHJhbnNsYXRlXG4gICAgICAgICAgOiB7IG51bUFwcGxpZWRGaWx0ZXJzOiBnZXROdW1GaWx0ZXJzKGNvbmZpZ3VyYXRpb25XaXRoT3Yub3ZlcnZpZXcpIH1cbiAgICB9fVxuICA8L2J1dHRvbj5cbiAgPGN4LWNvbmZpZ3VyYXRvci1vdmVydmlldy1maWx0ZXItYmFyXG4gICAgW2NvbmZpZ109XCJjb25maWd1cmF0aW9uV2l0aE92XCJcbiAgPjwvY3gtY29uZmlndXJhdG9yLW92ZXJ2aWV3LWZpbHRlci1iYXI+XG48L25nLWNvbnRhaW5lcj5cblxuPG5nLXRlbXBsYXRlICNnaG9zdEZpbHRlckJ1dHRvbj5cbiAgPGRpdiBjbGFzcz1cImN4LWdob3N0LWZpbHRlci1idXR0b24gZ2hvc3RcIj48L2Rpdj5cbjwvbmctdGVtcGxhdGU+XG4iXX0=