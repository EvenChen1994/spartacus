/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { ChangeDetectionStrategy, Component } from '@angular/core';
import { map, switchMap } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@spartacus/core";
import * as i2 from "@spartacus/product-configurator/common";
import * as i3 from "../../core/facade/configurator-commons.service";
import * as i4 from "@angular/common";
import * as i5 from "@spartacus/storefront";
export class ConfiguratorVariantCarouselComponent {
    constructor(productService, translationService, configuratorRouterExtractorService, configuratorCommonsService) {
        this.productService = productService;
        this.translationService = translationService;
        this.configuratorRouterExtractorService = configuratorRouterExtractorService;
        this.configuratorCommonsService = configuratorCommonsService;
        this.configuration$ = this.configuratorRouterExtractorService
            .extractRouterData()
            .pipe(switchMap((routerData) => this.configuratorCommonsService.getConfiguration(routerData.owner)));
        this.title$ = this.translationService.translate('configurator.variantCarousel.title');
        this.items$ = this.configuration$.pipe(map((configuration) => configuration.variants ? configuration.variants : []), map((variants) => {
            return variants.map((variant) => this.productService.get(variant.productCode));
        }));
    }
}
ConfiguratorVariantCarouselComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: ConfiguratorVariantCarouselComponent, deps: [{ token: i1.ProductService }, { token: i1.TranslationService }, { token: i2.ConfiguratorRouterExtractorService }, { token: i3.ConfiguratorCommonsService }], target: i0.ɵɵFactoryTarget.Component });
ConfiguratorVariantCarouselComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.9", type: ConfiguratorVariantCarouselComponent, selector: "cx-configurator-variant-carousel", ngImport: i0, template: "<ng-container\n  *ngIf=\"((items$ | async)?.length ?? 0) > 0 && (items$ | async) as items\"\n>\n  <div class=\"cx-variant-carousel-container\">\n    <cx-carousel\n      role=\"region\"\n      [attr.aria-label]=\"\n        'productCarousel.carouselLabel' | cxTranslate: { title: title$ | async }\n      \"\n      [items]=\"items\"\n      [title]=\"title$ | async\"\n      [template]=\"carouselItem\"\n      itemWidth=\"285px\"\n    >\n    </cx-carousel>\n\n    <ng-template #carouselItem let-item=\"item\">\n      <cx-product-carousel-item [item]=\"item\"></cx-product-carousel-item>\n    </ng-template>\n  </div>\n</ng-container>\n", dependencies: [{ kind: "directive", type: i4.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i5.CarouselComponent, selector: "cx-carousel", inputs: ["title", "items", "template", "itemWidth", "hideIndicators", "indicatorIcon", "previousIcon", "nextIcon"] }, { kind: "component", type: i5.ProductCarouselItemComponent, selector: "cx-product-carousel-item", inputs: ["item"] }, { kind: "pipe", type: i4.AsyncPipe, name: "async" }, { kind: "pipe", type: i1.TranslatePipe, name: "cxTranslate" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: ConfiguratorVariantCarouselComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-configurator-variant-carousel', changeDetection: ChangeDetectionStrategy.OnPush, template: "<ng-container\n  *ngIf=\"((items$ | async)?.length ?? 0) > 0 && (items$ | async) as items\"\n>\n  <div class=\"cx-variant-carousel-container\">\n    <cx-carousel\n      role=\"region\"\n      [attr.aria-label]=\"\n        'productCarousel.carouselLabel' | cxTranslate: { title: title$ | async }\n      \"\n      [items]=\"items\"\n      [title]=\"title$ | async\"\n      [template]=\"carouselItem\"\n      itemWidth=\"285px\"\n    >\n    </cx-carousel>\n\n    <ng-template #carouselItem let-item=\"item\">\n      <cx-product-carousel-item [item]=\"item\"></cx-product-carousel-item>\n    </ng-template>\n  </div>\n</ng-container>\n" }]
        }], ctorParameters: function () { return [{ type: i1.ProductService }, { type: i1.TranslationService }, { type: i2.ConfiguratorRouterExtractorService }, { type: i3.ConfiguratorCommonsService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdG9yLXZhcmlhbnQtY2Fyb3VzZWwuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL3Byb2R1Y3QtY29uZmlndXJhdG9yL3J1bGViYXNlZC9jb21wb25lbnRzL3ZhcmlhbnQtY2Fyb3VzZWwvY29uZmlndXJhdG9yLXZhcmlhbnQtY2Fyb3VzZWwuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL3Byb2R1Y3QtY29uZmlndXJhdG9yL3J1bGViYXNlZC9jb21wb25lbnRzL3ZhcmlhbnQtY2Fyb3VzZWwvY29uZmlndXJhdG9yLXZhcmlhbnQtY2Fyb3VzZWwuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUVILE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFJbkUsT0FBTyxFQUFFLEdBQUcsRUFBRSxTQUFTLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7Ozs7OztBQVNoRCxNQUFNLE9BQU8sb0NBQW9DO0lBMEIvQyxZQUNZLGNBQThCLEVBQzlCLGtCQUFzQyxFQUN0QyxrQ0FBc0UsRUFDdEUsMEJBQXNEO1FBSHRELG1CQUFjLEdBQWQsY0FBYyxDQUFnQjtRQUM5Qix1QkFBa0IsR0FBbEIsa0JBQWtCLENBQW9CO1FBQ3RDLHVDQUFrQyxHQUFsQyxrQ0FBa0MsQ0FBb0M7UUFDdEUsK0JBQTBCLEdBQTFCLDBCQUEwQixDQUE0QjtRQTdCbEUsbUJBQWMsR0FDWixJQUFJLENBQUMsa0NBQWtDO2FBQ3BDLGlCQUFpQixFQUFFO2FBQ25CLElBQUksQ0FDSCxTQUFTLENBQUMsQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUN2QixJQUFJLENBQUMsMEJBQTBCLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxDQUNuRSxDQUNGLENBQUM7UUFFTixXQUFNLEdBQW1DLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxTQUFTLENBQ3hFLG9DQUFvQyxDQUNyQyxDQUFDO1FBRUYsV0FBTSxHQUNKLElBQUksQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUN0QixHQUFHLENBQUMsQ0FBQyxhQUFhLEVBQUUsRUFBRSxDQUNwQixhQUFhLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxhQUFhLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQ3JELEVBQ0QsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLEVBQUU7WUFDZixPQUFPLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLEVBQUUsRUFBRSxDQUM5QixJQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQzdDLENBQUM7UUFDSixDQUFDLENBQUMsQ0FDSCxDQUFDO0lBT0QsQ0FBQzs7aUlBL0JPLG9DQUFvQztxSEFBcEMsb0NBQW9DLHdFQ25CakQseW5CQXFCQTsyRkRGYSxvQ0FBb0M7a0JBTGhELFNBQVM7K0JBQ0Usa0NBQWtDLG1CQUUzQix1QkFBdUIsQ0FBQyxNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IDIwMjMgU0FQIFNwYXJ0YWN1cyB0ZWFtIDxzcGFydGFjdXMtdGVhbUBzYXAuY29tPlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHsgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENvbXBvbmVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUHJvZHVjdCwgUHJvZHVjdFNlcnZpY2UsIFRyYW5zbGF0aW9uU2VydmljZSB9IGZyb20gJ0BzcGFydGFjdXMvY29yZSc7XG5pbXBvcnQgeyBDb25maWd1cmF0b3JSb3V0ZXJFeHRyYWN0b3JTZXJ2aWNlIH0gZnJvbSAnQHNwYXJ0YWN1cy9wcm9kdWN0LWNvbmZpZ3VyYXRvci9jb21tb24nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgbWFwLCBzd2l0Y2hNYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBDb25maWd1cmF0b3JDb21tb25zU2VydmljZSB9IGZyb20gJy4uLy4uL2NvcmUvZmFjYWRlL2NvbmZpZ3VyYXRvci1jb21tb25zLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29uZmlndXJhdG9yIH0gZnJvbSAnLi4vLi4vY29yZS9tb2RlbC9jb25maWd1cmF0b3IubW9kZWwnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjeC1jb25maWd1cmF0b3ItdmFyaWFudC1jYXJvdXNlbCcsXG4gIHRlbXBsYXRlVXJsOiAnLi9jb25maWd1cmF0b3ItdmFyaWFudC1jYXJvdXNlbC5jb21wb25lbnQuaHRtbCcsXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxufSlcbmV4cG9ydCBjbGFzcyBDb25maWd1cmF0b3JWYXJpYW50Q2Fyb3VzZWxDb21wb25lbnQge1xuICBjb25maWd1cmF0aW9uJDogT2JzZXJ2YWJsZTxDb25maWd1cmF0b3IuQ29uZmlndXJhdGlvbj4gPVxuICAgIHRoaXMuY29uZmlndXJhdG9yUm91dGVyRXh0cmFjdG9yU2VydmljZVxuICAgICAgLmV4dHJhY3RSb3V0ZXJEYXRhKClcbiAgICAgIC5waXBlKFxuICAgICAgICBzd2l0Y2hNYXAoKHJvdXRlckRhdGEpID0+XG4gICAgICAgICAgdGhpcy5jb25maWd1cmF0b3JDb21tb25zU2VydmljZS5nZXRDb25maWd1cmF0aW9uKHJvdXRlckRhdGEub3duZXIpXG4gICAgICAgIClcbiAgICAgICk7XG5cbiAgdGl0bGUkOiBPYnNlcnZhYmxlPHN0cmluZyB8IHVuZGVmaW5lZD4gPSB0aGlzLnRyYW5zbGF0aW9uU2VydmljZS50cmFuc2xhdGUoXG4gICAgJ2NvbmZpZ3VyYXRvci52YXJpYW50Q2Fyb3VzZWwudGl0bGUnXG4gICk7XG5cbiAgaXRlbXMkOiBPYnNlcnZhYmxlPE9ic2VydmFibGU8UHJvZHVjdCB8IHVuZGVmaW5lZD5bXT4gPVxuICAgIHRoaXMuY29uZmlndXJhdGlvbiQucGlwZShcbiAgICAgIG1hcCgoY29uZmlndXJhdGlvbikgPT5cbiAgICAgICAgY29uZmlndXJhdGlvbi52YXJpYW50cyA/IGNvbmZpZ3VyYXRpb24udmFyaWFudHMgOiBbXVxuICAgICAgKSxcbiAgICAgIG1hcCgodmFyaWFudHMpID0+IHtcbiAgICAgICAgcmV0dXJuIHZhcmlhbnRzLm1hcCgodmFyaWFudCkgPT5cbiAgICAgICAgICB0aGlzLnByb2R1Y3RTZXJ2aWNlLmdldCh2YXJpYW50LnByb2R1Y3RDb2RlKVxuICAgICAgICApO1xuICAgICAgfSlcbiAgICApO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCBwcm9kdWN0U2VydmljZTogUHJvZHVjdFNlcnZpY2UsXG4gICAgcHJvdGVjdGVkIHRyYW5zbGF0aW9uU2VydmljZTogVHJhbnNsYXRpb25TZXJ2aWNlLFxuICAgIHByb3RlY3RlZCBjb25maWd1cmF0b3JSb3V0ZXJFeHRyYWN0b3JTZXJ2aWNlOiBDb25maWd1cmF0b3JSb3V0ZXJFeHRyYWN0b3JTZXJ2aWNlLFxuICAgIHByb3RlY3RlZCBjb25maWd1cmF0b3JDb21tb25zU2VydmljZTogQ29uZmlndXJhdG9yQ29tbW9uc1NlcnZpY2VcbiAgKSB7fVxufVxuIiwiPG5nLWNvbnRhaW5lclxuICAqbmdJZj1cIigoaXRlbXMkIHwgYXN5bmMpPy5sZW5ndGggPz8gMCkgPiAwICYmIChpdGVtcyQgfCBhc3luYykgYXMgaXRlbXNcIlxuPlxuICA8ZGl2IGNsYXNzPVwiY3gtdmFyaWFudC1jYXJvdXNlbC1jb250YWluZXJcIj5cbiAgICA8Y3gtY2Fyb3VzZWxcbiAgICAgIHJvbGU9XCJyZWdpb25cIlxuICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCJcbiAgICAgICAgJ3Byb2R1Y3RDYXJvdXNlbC5jYXJvdXNlbExhYmVsJyB8IGN4VHJhbnNsYXRlOiB7IHRpdGxlOiB0aXRsZSQgfCBhc3luYyB9XG4gICAgICBcIlxuICAgICAgW2l0ZW1zXT1cIml0ZW1zXCJcbiAgICAgIFt0aXRsZV09XCJ0aXRsZSQgfCBhc3luY1wiXG4gICAgICBbdGVtcGxhdGVdPVwiY2Fyb3VzZWxJdGVtXCJcbiAgICAgIGl0ZW1XaWR0aD1cIjI4NXB4XCJcbiAgICA+XG4gICAgPC9jeC1jYXJvdXNlbD5cblxuICAgIDxuZy10ZW1wbGF0ZSAjY2Fyb3VzZWxJdGVtIGxldC1pdGVtPVwiaXRlbVwiPlxuICAgICAgPGN4LXByb2R1Y3QtY2Fyb3VzZWwtaXRlbSBbaXRlbV09XCJpdGVtXCI+PC9jeC1wcm9kdWN0LWNhcm91c2VsLWl0ZW0+XG4gICAgPC9uZy10ZW1wbGF0ZT5cbiAgPC9kaXY+XG48L25nLWNvbnRhaW5lcj5cbiJdfQ==