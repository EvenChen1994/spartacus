/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { ChangeDetectionStrategy, Component } from '@angular/core';
import { switchMap } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "../../core/facade/configurator-commons.service";
import * as i2 from "@spartacus/product-configurator/common";
import * as i3 from "@angular/common";
import * as i4 from "@spartacus/core";
export class ConfiguratorPriceSummaryComponent {
    constructor(configuratorCommonsService, configRouterExtractorService) {
        this.configuratorCommonsService = configuratorCommonsService;
        this.configRouterExtractorService = configRouterExtractorService;
        this.configuration$ = this.configRouterExtractorService.extractRouterData().pipe(switchMap((routerData) => {
            return this.configuratorCommonsService.getConfiguration(routerData.owner);
        }));
    }
}
ConfiguratorPriceSummaryComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: ConfiguratorPriceSummaryComponent, deps: [{ token: i1.ConfiguratorCommonsService }, { token: i2.ConfiguratorRouterExtractorService }], target: i0.ɵɵFactoryTarget.Component });
ConfiguratorPriceSummaryComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.9", type: ConfiguratorPriceSummaryComponent, selector: "cx-configurator-price-summary", ngImport: i0, template: "<ng-container *ngIf=\"configuration$ | async as configuration\">\n  <ng-container *ngIf=\"configuration.pricingEnabled\">\n    <div class=\"cx-price-summary-container\">\n      <div class=\"cx-total-summary\">\n        <ng-container *ngIf=\"!configuration.hideBasePriceAndSelectedOptions\">\n          <div class=\"cx-summary-row cx-base-price\">\n            <div class=\"cx-label\">\n              {{ 'configurator.priceSummary.basePrice' | cxTranslate }}:\n            </div>\n            <div class=\"cx-amount\">\n              {{ configuration?.priceSummary?.basePrice?.formattedValue }}\n            </div>\n          </div>\n          <div class=\"cx-summary-row cx-selected-options\">\n            <div class=\"cx-label\">\n              {{ 'configurator.priceSummary.selectedOptions' | cxTranslate }}:\n            </div>\n            <div class=\"cx-amount\">\n              {{ configuration?.priceSummary?.selectedOptions?.formattedValue }}\n            </div>\n          </div>\n        </ng-container>\n        <div class=\"cx-summary-row cx-total-price\">\n          <div class=\"cx-label\">\n            <ng-container *cxFeatureLevel=\"'!6.1'\">\n              {{ 'configurator.priceSummary.totalPrice' | cxTranslate }}:\n            </ng-container>\n            <ng-container *cxFeatureLevel=\"'6.1'\">\n              {{ 'configurator.priceSummary.totalPricePerItem' | cxTranslate }}:\n            </ng-container>\n          </div>\n          <div class=\"cx-amount\">\n            {{ configuration?.priceSummary?.currentTotal?.formattedValue }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-container>\n</ng-container>\n", dependencies: [{ kind: "directive", type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i4.FeatureLevelDirective, selector: "[cxFeatureLevel]", inputs: ["cxFeatureLevel"] }, { kind: "pipe", type: i3.AsyncPipe, name: "async" }, { kind: "pipe", type: i4.TranslatePipe, name: "cxTranslate" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: ConfiguratorPriceSummaryComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-configurator-price-summary', changeDetection: ChangeDetectionStrategy.OnPush, template: "<ng-container *ngIf=\"configuration$ | async as configuration\">\n  <ng-container *ngIf=\"configuration.pricingEnabled\">\n    <div class=\"cx-price-summary-container\">\n      <div class=\"cx-total-summary\">\n        <ng-container *ngIf=\"!configuration.hideBasePriceAndSelectedOptions\">\n          <div class=\"cx-summary-row cx-base-price\">\n            <div class=\"cx-label\">\n              {{ 'configurator.priceSummary.basePrice' | cxTranslate }}:\n            </div>\n            <div class=\"cx-amount\">\n              {{ configuration?.priceSummary?.basePrice?.formattedValue }}\n            </div>\n          </div>\n          <div class=\"cx-summary-row cx-selected-options\">\n            <div class=\"cx-label\">\n              {{ 'configurator.priceSummary.selectedOptions' | cxTranslate }}:\n            </div>\n            <div class=\"cx-amount\">\n              {{ configuration?.priceSummary?.selectedOptions?.formattedValue }}\n            </div>\n          </div>\n        </ng-container>\n        <div class=\"cx-summary-row cx-total-price\">\n          <div class=\"cx-label\">\n            <ng-container *cxFeatureLevel=\"'!6.1'\">\n              {{ 'configurator.priceSummary.totalPrice' | cxTranslate }}:\n            </ng-container>\n            <ng-container *cxFeatureLevel=\"'6.1'\">\n              {{ 'configurator.priceSummary.totalPricePerItem' | cxTranslate }}:\n            </ng-container>\n          </div>\n          <div class=\"cx-amount\">\n            {{ configuration?.priceSummary?.currentTotal?.formattedValue }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </ng-container>\n</ng-container>\n" }]
        }], ctorParameters: function () { return [{ type: i1.ConfiguratorCommonsService }, { type: i2.ConfiguratorRouterExtractorService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29uZmlndXJhdG9yLXByaWNlLXN1bW1hcnkuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL3Byb2R1Y3QtY29uZmlndXJhdG9yL3J1bGViYXNlZC9jb21wb25lbnRzL3ByaWNlLXN1bW1hcnkvY29uZmlndXJhdG9yLXByaWNlLXN1bW1hcnkuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL3Byb2R1Y3QtY29uZmlndXJhdG9yL3J1bGViYXNlZC9jb21wb25lbnRzL3ByaWNlLXN1bW1hcnkvY29uZmlndXJhdG9yLXByaWNlLXN1bW1hcnkuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUVILE9BQU8sRUFBRSx1QkFBdUIsRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHbkUsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDOzs7Ozs7QUFTM0MsTUFBTSxPQUFPLGlDQUFpQztJQVU1QyxZQUNZLDBCQUFzRCxFQUN0RCw0QkFBZ0U7UUFEaEUsK0JBQTBCLEdBQTFCLDBCQUEwQixDQUE0QjtRQUN0RCxpQ0FBNEIsR0FBNUIsNEJBQTRCLENBQW9DO1FBWDVFLG1CQUFjLEdBQ1osSUFBSSxDQUFDLDRCQUE0QixDQUFDLGlCQUFpQixFQUFFLENBQUMsSUFBSSxDQUN4RCxTQUFTLENBQUMsQ0FBQyxVQUFVLEVBQUUsRUFBRTtZQUN2QixPQUFPLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxnQkFBZ0IsQ0FDckQsVUFBVSxDQUFDLEtBQUssQ0FDakIsQ0FBQztRQUNKLENBQUMsQ0FBQyxDQUNILENBQUM7SUFLRCxDQUFDOzs4SEFiTyxpQ0FBaUM7a0hBQWpDLGlDQUFpQyxxRUNsQjlDLDhuREF1Q0E7MkZEckJhLGlDQUFpQztrQkFMN0MsU0FBUzsrQkFDRSwrQkFBK0IsbUJBRXhCLHVCQUF1QixDQUFDLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogMjAyMyBTQVAgU3BhcnRhY3VzIHRlYW0gPHNwYXJ0YWN1cy10ZWFtQHNhcC5jb20+XG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb25maWd1cmF0b3JSb3V0ZXJFeHRyYWN0b3JTZXJ2aWNlIH0gZnJvbSAnQHNwYXJ0YWN1cy9wcm9kdWN0LWNvbmZpZ3VyYXRvci9jb21tb24nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgc3dpdGNoTWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgQ29uZmlndXJhdG9yQ29tbW9uc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9jb3JlL2ZhY2FkZS9jb25maWd1cmF0b3ItY29tbW9ucy5zZXJ2aWNlJztcbmltcG9ydCB7IENvbmZpZ3VyYXRvciB9IGZyb20gJy4uLy4uL2NvcmUvbW9kZWwvY29uZmlndXJhdG9yLm1vZGVsJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnY3gtY29uZmlndXJhdG9yLXByaWNlLXN1bW1hcnknLFxuICB0ZW1wbGF0ZVVybDogJy4vY29uZmlndXJhdG9yLXByaWNlLXN1bW1hcnkuY29tcG9uZW50Lmh0bWwnLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbn0pXG5leHBvcnQgY2xhc3MgQ29uZmlndXJhdG9yUHJpY2VTdW1tYXJ5Q29tcG9uZW50IHtcbiAgY29uZmlndXJhdGlvbiQ6IE9ic2VydmFibGU8Q29uZmlndXJhdG9yLkNvbmZpZ3VyYXRpb24+ID1cbiAgICB0aGlzLmNvbmZpZ1JvdXRlckV4dHJhY3RvclNlcnZpY2UuZXh0cmFjdFJvdXRlckRhdGEoKS5waXBlKFxuICAgICAgc3dpdGNoTWFwKChyb3V0ZXJEYXRhKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbmZpZ3VyYXRvckNvbW1vbnNTZXJ2aWNlLmdldENvbmZpZ3VyYXRpb24oXG4gICAgICAgICAgcm91dGVyRGF0YS5vd25lclxuICAgICAgICApO1xuICAgICAgfSlcbiAgICApO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCBjb25maWd1cmF0b3JDb21tb25zU2VydmljZTogQ29uZmlndXJhdG9yQ29tbW9uc1NlcnZpY2UsXG4gICAgcHJvdGVjdGVkIGNvbmZpZ1JvdXRlckV4dHJhY3RvclNlcnZpY2U6IENvbmZpZ3VyYXRvclJvdXRlckV4dHJhY3RvclNlcnZpY2VcbiAgKSB7fVxufVxuIiwiPG5nLWNvbnRhaW5lciAqbmdJZj1cImNvbmZpZ3VyYXRpb24kIHwgYXN5bmMgYXMgY29uZmlndXJhdGlvblwiPlxuICA8bmctY29udGFpbmVyICpuZ0lmPVwiY29uZmlndXJhdGlvbi5wcmljaW5nRW5hYmxlZFwiPlxuICAgIDxkaXYgY2xhc3M9XCJjeC1wcmljZS1zdW1tYXJ5LWNvbnRhaW5lclwiPlxuICAgICAgPGRpdiBjbGFzcz1cImN4LXRvdGFsLXN1bW1hcnlcIj5cbiAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cIiFjb25maWd1cmF0aW9uLmhpZGVCYXNlUHJpY2VBbmRTZWxlY3RlZE9wdGlvbnNcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtc3VtbWFyeS1yb3cgY3gtYmFzZS1wcmljZVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImN4LWxhYmVsXCI+XG4gICAgICAgICAgICAgIHt7ICdjb25maWd1cmF0b3IucHJpY2VTdW1tYXJ5LmJhc2VQcmljZScgfCBjeFRyYW5zbGF0ZSB9fTpcbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImN4LWFtb3VudFwiPlxuICAgICAgICAgICAgICB7eyBjb25maWd1cmF0aW9uPy5wcmljZVN1bW1hcnk/LmJhc2VQcmljZT8uZm9ybWF0dGVkVmFsdWUgfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeC1zdW1tYXJ5LXJvdyBjeC1zZWxlY3RlZC1vcHRpb25zXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtbGFiZWxcIj5cbiAgICAgICAgICAgICAge3sgJ2NvbmZpZ3VyYXRvci5wcmljZVN1bW1hcnkuc2VsZWN0ZWRPcHRpb25zJyB8IGN4VHJhbnNsYXRlIH19OlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtYW1vdW50XCI+XG4gICAgICAgICAgICAgIHt7IGNvbmZpZ3VyYXRpb24/LnByaWNlU3VtbWFyeT8uc2VsZWN0ZWRPcHRpb25zPy5mb3JtYXR0ZWRWYWx1ZSB9fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtc3VtbWFyeS1yb3cgY3gtdG90YWwtcHJpY2VcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtbGFiZWxcIj5cbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgKmN4RmVhdHVyZUxldmVsPVwiJyE2LjEnXCI+XG4gICAgICAgICAgICAgIHt7ICdjb25maWd1cmF0b3IucHJpY2VTdW1tYXJ5LnRvdGFsUHJpY2UnIHwgY3hUcmFuc2xhdGUgfX06XG4gICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgKmN4RmVhdHVyZUxldmVsPVwiJzYuMSdcIj5cbiAgICAgICAgICAgICAge3sgJ2NvbmZpZ3VyYXRvci5wcmljZVN1bW1hcnkudG90YWxQcmljZVBlckl0ZW0nIHwgY3hUcmFuc2xhdGUgfX06XG4gICAgICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtYW1vdW50XCI+XG4gICAgICAgICAgICB7eyBjb25maWd1cmF0aW9uPy5wcmljZVN1bW1hcnk/LmN1cnJlbnRUb3RhbD8uZm9ybWF0dGVkVmFsdWUgfX1cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9uZy1jb250YWluZXI+XG48L25nLWNvbnRhaW5lcj5cbiJdfQ==