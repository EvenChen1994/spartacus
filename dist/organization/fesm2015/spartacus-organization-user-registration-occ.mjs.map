{"version":3,"file":"spartacus-organization-user-registration-occ.mjs","sources":["../../../feature-libs/organization/user-registration/occ/adapters/occ-user-registration.adapter.ts","../../../feature-libs/organization/user-registration/occ/adapters/index.ts","../../../feature-libs/organization/user-registration/occ/config/default-occ-organization-config.ts","../../../feature-libs/organization/user-registration/occ/user-registration-occ.module.ts","../../../feature-libs/organization/user-registration/occ/model/index.ts","../../../feature-libs/organization/user-registration/occ/public_api.ts","../../../feature-libs/organization/user-registration/occ/spartacus-organization-user-registration-occ.ts"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable, inject } from '@angular/core';\nimport {\n  ConverterService,\n  InterceptorUtil,\n  LoggerService,\n  OccEndpointsService,\n  USE_CLIENT_TOKEN,\n  normalizeHttpError,\n} from '@spartacus/core';\nimport {\n  ORGANIZATION_USER_REGISTRATION_SERIALIZER,\n  UserRegistrationAdapter,\n} from '@spartacus/organization/user-registration/core';\nimport { OrganizationUserRegistration } from '@spartacus/organization/user-registration/root';\nimport { Observable, throwError } from 'rxjs';\nimport { catchError } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class OccUserRegistrationAdapter implements UserRegistrationAdapter {\n  protected logger = inject(LoggerService);\n\n  constructor(\n    protected http: HttpClient,\n    protected occEndpoints: OccEndpointsService,\n    protected converter: ConverterService\n  ) {}\n\n  registerUser(\n    userData: OrganizationUserRegistration\n  ): Observable<OrganizationUserRegistration> {\n    const url: string = this.getOrganizationUserRegistrationEndpoint();\n    let headers = new HttpHeaders({\n      'Content-Type': 'application/json',\n    });\n    headers = InterceptorUtil.createHeader(USE_CLIENT_TOKEN, true, headers);\n    userData = this.converter.convert(\n      userData,\n      ORGANIZATION_USER_REGISTRATION_SERIALIZER\n    );\n\n    return this.http\n      .post<OrganizationUserRegistration>(url, userData, { headers })\n      .pipe(\n        catchError((error) =>\n          throwError(normalizeHttpError(error, this.logger))\n        )\n      );\n  }\n\n  protected getOrganizationUserRegistrationEndpoint(): string {\n    return this.occEndpoints.buildUrl('organizationUserRegistration');\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './occ-user-registration.adapter';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { OccConfig } from '@spartacus/core';\n\nexport const defaultOccOrganizationUserRegistrationConfig: OccConfig = {\n  backend: {\n    occ: {\n      endpoints: {\n        organizationUserRegistration: '/orgUsers',\n      },\n    },\n  },\n};\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { provideDefaultConfig } from '@spartacus/core';\nimport { UserRegistrationAdapter } from '@spartacus/organization/user-registration/core';\nimport { OccUserRegistrationAdapter } from './adapters';\nimport { defaultOccOrganizationUserRegistrationConfig } from './config/default-occ-organization-config';\n\n@NgModule({\n  imports: [CommonModule],\n  providers: [\n    provideDefaultConfig(defaultOccOrganizationUserRegistrationConfig),\n    {\n      provide: UserRegistrationAdapter,\n      useExisting: OccUserRegistrationAdapter,\n    },\n  ],\n})\nexport class UserRegistrationOccModule {}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\n// Imported for side effects (module augmentation)\nimport './occ-user-registration-endpoints.model';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './user-registration-occ.module';\nexport * from './adapters/index';\nexport * from './model/index';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}