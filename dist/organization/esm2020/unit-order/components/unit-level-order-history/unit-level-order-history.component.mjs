/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { ChangeDetectionStrategy, Component } from '@angular/core';
import { combineLatest } from 'rxjs';
import { map, tap } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@spartacus/core";
import * as i2 from "@spartacus/organization/unit-order/root";
import * as i3 from "@angular/common";
import * as i4 from "@angular/router";
import * as i5 from "@spartacus/storefront";
import * as i6 from "./filter/unit-level-order-history-filter.component";
export class UnitLevelOrderHistoryComponent {
    constructor(routing, unitOrdersFacade, translation) {
        this.routing = routing;
        this.unitOrdersFacade = unitOrdersFacade;
        this.translation = translation;
        this.PAGE_SIZE = 5;
        // Contains the initial query parameters and will be updated with current state of filters
        this.queryParams = {
            currentPage: 0,
            sortCode: '',
            filters: '',
        };
        this.orders$ = this.unitOrdersFacade
            .getOrderHistoryList(this.PAGE_SIZE)
            .pipe(tap((orders) => {
            if (orders?.pagination?.sort) {
                this.sortType = orders.pagination.sort;
                this.queryParams.sortCode = this.sortType;
            }
        }));
        this.isLoaded$ = this.unitOrdersFacade.getOrderHistoryListLoaded();
    }
    ngOnDestroy() {
        this.unitOrdersFacade.clearOrderList();
    }
    filterChange(newFilters) {
        this.updateQueryParams({
            ...newFilters,
            currentPage: 0,
        });
        this.fetchOrders(this.queryParams);
    }
    updateQueryParams(partialParams) {
        // Overwrite each value present in partialParams to _queryParams
        Object.entries(partialParams).forEach((param) => (this.queryParams[param[0]] = param[1]));
    }
    changeSortCode(sortCode) {
        this.updateQueryParams({
            sortCode: sortCode,
            currentPage: 0,
        });
        this.sortType = sortCode;
        this.fetchOrders(this.queryParams);
    }
    pageChange(page) {
        this.updateQueryParams({
            currentPage: page,
        });
        this.fetchOrders(this.queryParams);
    }
    goToOrderDetail(order) {
        this.routing.go({
            cxRoute: 'unitLevelOrderDetail',
            params: order,
        });
    }
    getSortLabels() {
        return combineLatest([
            this.translation.translate('sorting.date'),
            this.translation.translate('sorting.orderNumber'),
            this.translation.translate('unitLevelOrderHistorySorting.orgUnit'),
            this.translation.translate('unitLevelOrderHistorySorting.buyer'),
            this.translation.translate('unitLevelOrderHistorySorting.orgUnitDesc'),
            this.translation.translate('unitLevelOrderHistorySorting.buyerDesc'),
        ]).pipe(map(([textByDate, textByOrderNumber, textByOrgUnit, textByBuyer, textByOrgUnitDesc, textByBuyerDesc,]) => {
            return {
                byDate: textByDate,
                byOrderNumber: textByOrderNumber,
                byOrgUnit: textByOrgUnit,
                byBuyer: textByBuyer,
                byOrgUnitDesc: textByOrgUnitDesc,
                byBuyerDesc: textByBuyerDesc,
            };
        }));
    }
    fetchOrders(queryParam) {
        this.unitOrdersFacade.loadOrderList(this.PAGE_SIZE, queryParam.currentPage, queryParam.filters, queryParam.sortCode);
    }
}
UnitLevelOrderHistoryComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: UnitLevelOrderHistoryComponent, deps: [{ token: i1.RoutingService }, { token: i2.UnitOrderFacade }, { token: i1.TranslationService }], target: i0.ɵɵFactoryTarget.Component });
UnitLevelOrderHistoryComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.9", type: UnitLevelOrderHistoryComponent, selector: "cx-unit-level-order-history", ngImport: i0, template: "<ng-container\n  *ngIf=\"{\n    orderHistory: orders$ | async\n  } as type\"\n>\n  <ng-container *ngIf=\"type.orderHistory as orderHistory\">\n    <div>\n      <!-- HEADER -->\n\n      <cx-unit-level-order-history-filter\n        (filterListEvent)=\"filterChange($event)\"\n      ></cx-unit-level-order-history-filter>\n\n      <!-- BODY -->\n      <div class=\"cx-unit-level-order-history-body\">\n        <ng-container\n          *ngIf=\"orderHistory.pagination?.totalResults ?? 0 > 0; else noOrder\"\n        >\n          <!-- Select Form and Pagination Top -->\n          <div class=\"cx-unit-level-order-history-sort top\">\n            <label class=\"cx-unit-level-order-history-form-group form-group\"\n              ><span>\n                {{ 'unitLevelOrderHistory.sortBy' | cxTranslate }}\n              </span>\n              <cx-sorting\n                [sortOptions]=\"orderHistory?.sorts\"\n                [sortLabels]=\"getSortLabels() | async\"\n                (sortListEvent)=\"changeSortCode($event)\"\n                [selectedOption]=\"orderHistory?.pagination?.sort\"\n                placeholder=\"{{ 'unitLevelOrderHistory.sortBy' | cxTranslate }}\"\n                [ariaLabel]=\"'unitLevelOrderHistory.sortOrders' | cxTranslate\"\n                ariaControls=\"order-history-table\"\n              ></cx-sorting>\n            </label>\n            <div class=\"cx-unit-level-order-history-total-result\">\n              <cx-total [pagination]=\"orderHistory?.pagination\"></cx-total>\n            </div>\n            <div\n              *ngIf=\"orderHistory?.pagination?.totalPages ?? 0 > 1\"\n              class=\"cx-unit-level-order-history-pagination\"\n            >\n              <cx-pagination\n                [pagination]=\"orderHistory?.pagination\"\n                (viewPageEvent)=\"pageChange($event)\"\n              ></cx-pagination>\n            </div>\n          </div>\n          <!-- TABLE -->\n          <table\n            id=\"order-history-table\"\n            class=\"table cx-unit-level-order-history-table\"\n          >\n            <thead class=\"cx-unit-level-order-history-thead-mobile\">\n              <th scope=\"col\">\n                {{ 'unitLevelOrderHistory.orderId' | cxTranslate }}\n              </th>\n              <th scope=\"col\">\n                {{ 'unitLevelOrderHistory.date' | cxTranslate }}\n              </th>\n              <th scope=\"col\">\n                {{ 'unitLevelOrderHistory.status' | cxTranslate }}\n              </th>\n              <th scope=\"col\">\n                {{ 'unitLevelOrderHistory.buyer' | cxTranslate }}\n              </th>\n              <th scope=\"col\">\n                {{ 'unitLevelOrderHistory.unit' | cxTranslate }}\n              </th>\n              <th scope=\"col\">\n                {{ 'unitLevelOrderHistory.total' | cxTranslate }}\n              </th>\n            </thead>\n            <tbody>\n              <tr\n                *ngFor=\"let order of orderHistory?.orders\"\n                (click)=\"goToOrderDetail(order)\"\n              >\n                <td class=\"cx-unit-level-order-history-code\">\n                  <div class=\"cx-unit-level-order-history-label\">\n                    {{ 'unitLevelOrderHistory.orderId' | cxTranslate }}\n                  </div>\n                  <a\n                    [routerLink]=\"\n                      {\n                        cxRoute: 'unitLevelOrderDetail',\n                        params: order\n                      } | cxUrl\n                    \"\n                    class=\"cx-unit-level-order-history-value\"\n                  >\n                    {{ order?.code }}</a\n                  >\n                </td>\n                <td class=\"cx-unit-level-order-history-placed\">\n                  <div class=\"cx-unit-level-order-history-label\">\n                    {{ 'unitLevelOrderHistory.date' | cxTranslate }}\n                  </div>\n                  <a\n                    [routerLink]=\"\n                      {\n                        cxRoute: 'unitLevelOrderDetail',\n                        params: order\n                      } | cxUrl\n                    \"\n                    class=\"cx-unit-level-order-history-value\"\n                  >\n                    {{ order?.placed | cxDate: 'longDate' }}\n                  </a>\n                </td>\n                <td class=\"cx-unit-level-order-history-status\">\n                  <div class=\"cx-unit-level-order-history-label\">\n                    {{ 'unitLevelOrderHistory.status' | cxTranslate }}\n                  </div>\n                  <a\n                    [routerLink]=\"\n                      {\n                        cxRoute: 'unitLevelOrderDetail',\n                        params: order\n                      } | cxUrl\n                    \"\n                    class=\"cx-unit-level-order-history-value\"\n                  >\n                    {{\n                      'orderDetails.statusDisplay_' + order?.statusDisplay\n                        | cxTranslate\n                    }}</a\n                  >\n                </td>\n                <td class=\"cx-unit-level-order-history-buyer\">\n                  <div class=\"cx-unit-level-order-history-label\">\n                    {{ 'unitLevelOrderHistory.buyer' | cxTranslate }}\n                  </div>\n                  <a\n                    [routerLink]=\"\n                      {\n                        cxRoute: 'unitLevelOrderDetail',\n                        params: order\n                      } | cxUrl\n                    \"\n                    class=\"cx-unit-level-order-history-value\"\n                  >\n                    {{ order?.orgCustomer?.name }}\n                    <span class=\"text-ellipsis\">{{\n                      order?.orgCustomer?.email\n                    }}</span></a\n                  >\n                </td>\n                <td class=\"cx-unit-level-order-history-unit\">\n                  <div class=\"cx-unit-level-order-history-label\">\n                    {{ 'unitLevelOrderHistory.unit' | cxTranslate }}\n                  </div>\n                  <a\n                    [routerLink]=\"\n                      {\n                        cxRoute: 'unitLevelOrderDetail',\n                        params: order\n                      } | cxUrl\n                    \"\n                    class=\"cx-unit-level-order-history-value\"\n                  >\n                    {{ order?.orgUnit?.name }}</a\n                  >\n                </td>\n                <td class=\"cx-unit-level-order-history-total\">\n                  <div class=\"cx-unit-level-order-history-label\">\n                    {{ 'unitLevelOrderHistory.total' | cxTranslate }}\n                  </div>\n                  <a\n                    [routerLink]=\"\n                      {\n                        cxRoute: 'unitLevelOrderDetail',\n                        params: order\n                      } | cxUrl\n                    \"\n                    class=\"cx-unit-level-order-history-value\"\n                  >\n                    {{ order?.total?.formattedValue }}</a\n                  >\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <!-- Select Form and Pagination Bottom -->\n          <div class=\"cx-unit-level-order-history-sort bottom\">\n            <label class=\"cx-unit-level-order-history-form-group form-group\"\n              ><span>\n                {{ 'unitLevelOrderHistory.sortBy' | cxTranslate }}\n              </span>\n              <cx-sorting\n                [sortOptions]=\"orderHistory?.sorts\"\n                [sortLabels]=\"getSortLabels() | async\"\n                (sortListEvent)=\"changeSortCode($event)\"\n                [selectedOption]=\"orderHistory?.pagination?.sort\"\n                placeholder=\"{{ 'unitLevelOrderHistory.sortBy' | cxTranslate }}\"\n                [ariaLabel]=\"'unitLevelOrderHistory.sortOrders' | cxTranslate\"\n                ariaControls=\"order-history-table\"\n              ></cx-sorting>\n            </label>\n            <div class=\"cx-unit-level-order-history-total-result\">\n              <cx-total [pagination]=\"orderHistory?.pagination\"></cx-total>\n            </div>\n            <div\n              *ngIf=\"orderHistory?.pagination?.totalPages ?? 0 > 1\"\n              class=\"cx-unit-level-order-history-pagination\"\n            >\n              <cx-pagination\n                [pagination]=\"orderHistory?.pagination\"\n                (viewPageEvent)=\"pageChange($event)\"\n              ></cx-pagination>\n            </div>\n          </div>\n        </ng-container>\n\n        <!-- NO ORDER CONTAINER -->\n        <ng-template #noOrder>\n          <div\n            *ngIf=\"isLoaded$ | async\"\n            class=\"cx-unit-level-order-history-no-order\"\n          >\n            <div>\n              <div>{{ 'unitLevelOrderHistory.noOrders' | cxTranslate }}</div>\n              <a\n                [routerLink]=\"{ cxRoute: 'home' } | cxUrl\"\n                routerLinkActive=\"active\"\n                class=\"btn btn-primary btn-block\"\n                >{{ 'unitLevelOrderHistory.startShopping' | cxTranslate }}</a\n              >\n            </div>\n          </div>\n        </ng-template>\n      </div>\n    </div>\n  </ng-container>\n</ng-container>\n", dependencies: [{ kind: "directive", type: i3.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i3.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i4.RouterLink, selector: "[routerLink]", inputs: ["target", "queryParams", "fragment", "queryParamsHandling", "state", "relativeTo", "preserveFragment", "skipLocationChange", "replaceUrl", "routerLink"] }, { kind: "directive", type: i4.RouterLinkActive, selector: "[routerLinkActive]", inputs: ["routerLinkActiveOptions", "ariaCurrentWhenActive", "routerLinkActive"], outputs: ["isActiveChange"], exportAs: ["routerLinkActive"] }, { kind: "component", type: i5.SortingComponent, selector: "cx-sorting", inputs: ["sortOptions", "ariaControls", "ariaLabel", "selectedOption", "placeholder", "sortLabels"], outputs: ["sortListEvent"] }, { kind: "component", type: i5.PaginationComponent, selector: "cx-pagination", inputs: ["pageRoute", "queryParam", "defaultPage", "pagination"], outputs: ["viewPageEvent"] }, { kind: "component", type: i5.TotalComponent, selector: "cx-total", inputs: ["pagination"] }, { kind: "component", type: i6.UnitLevelOrderHistoryFilterComponent, selector: "cx-unit-level-order-history-filter", outputs: ["filterListEvent"] }, { kind: "pipe", type: i3.AsyncPipe, name: "async" }, { kind: "pipe", type: i1.UrlPipe, name: "cxUrl" }, { kind: "pipe", type: i1.TranslatePipe, name: "cxTranslate" }, { kind: "pipe", type: i1.CxDatePipe, name: "cxDate" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: UnitLevelOrderHistoryComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-unit-level-order-history', changeDetection: ChangeDetectionStrategy.OnPush, template: "<ng-container\n  *ngIf=\"{\n    orderHistory: orders$ | async\n  } as type\"\n>\n  <ng-container *ngIf=\"type.orderHistory as orderHistory\">\n    <div>\n      <!-- HEADER -->\n\n      <cx-unit-level-order-history-filter\n        (filterListEvent)=\"filterChange($event)\"\n      ></cx-unit-level-order-history-filter>\n\n      <!-- BODY -->\n      <div class=\"cx-unit-level-order-history-body\">\n        <ng-container\n          *ngIf=\"orderHistory.pagination?.totalResults ?? 0 > 0; else noOrder\"\n        >\n          <!-- Select Form and Pagination Top -->\n          <div class=\"cx-unit-level-order-history-sort top\">\n            <label class=\"cx-unit-level-order-history-form-group form-group\"\n              ><span>\n                {{ 'unitLevelOrderHistory.sortBy' | cxTranslate }}\n              </span>\n              <cx-sorting\n                [sortOptions]=\"orderHistory?.sorts\"\n                [sortLabels]=\"getSortLabels() | async\"\n                (sortListEvent)=\"changeSortCode($event)\"\n                [selectedOption]=\"orderHistory?.pagination?.sort\"\n                placeholder=\"{{ 'unitLevelOrderHistory.sortBy' | cxTranslate }}\"\n                [ariaLabel]=\"'unitLevelOrderHistory.sortOrders' | cxTranslate\"\n                ariaControls=\"order-history-table\"\n              ></cx-sorting>\n            </label>\n            <div class=\"cx-unit-level-order-history-total-result\">\n              <cx-total [pagination]=\"orderHistory?.pagination\"></cx-total>\n            </div>\n            <div\n              *ngIf=\"orderHistory?.pagination?.totalPages ?? 0 > 1\"\n              class=\"cx-unit-level-order-history-pagination\"\n            >\n              <cx-pagination\n                [pagination]=\"orderHistory?.pagination\"\n                (viewPageEvent)=\"pageChange($event)\"\n              ></cx-pagination>\n            </div>\n          </div>\n          <!-- TABLE -->\n          <table\n            id=\"order-history-table\"\n            class=\"table cx-unit-level-order-history-table\"\n          >\n            <thead class=\"cx-unit-level-order-history-thead-mobile\">\n              <th scope=\"col\">\n                {{ 'unitLevelOrderHistory.orderId' | cxTranslate }}\n              </th>\n              <th scope=\"col\">\n                {{ 'unitLevelOrderHistory.date' | cxTranslate }}\n              </th>\n              <th scope=\"col\">\n                {{ 'unitLevelOrderHistory.status' | cxTranslate }}\n              </th>\n              <th scope=\"col\">\n                {{ 'unitLevelOrderHistory.buyer' | cxTranslate }}\n              </th>\n              <th scope=\"col\">\n                {{ 'unitLevelOrderHistory.unit' | cxTranslate }}\n              </th>\n              <th scope=\"col\">\n                {{ 'unitLevelOrderHistory.total' | cxTranslate }}\n              </th>\n            </thead>\n            <tbody>\n              <tr\n                *ngFor=\"let order of orderHistory?.orders\"\n                (click)=\"goToOrderDetail(order)\"\n              >\n                <td class=\"cx-unit-level-order-history-code\">\n                  <div class=\"cx-unit-level-order-history-label\">\n                    {{ 'unitLevelOrderHistory.orderId' | cxTranslate }}\n                  </div>\n                  <a\n                    [routerLink]=\"\n                      {\n                        cxRoute: 'unitLevelOrderDetail',\n                        params: order\n                      } | cxUrl\n                    \"\n                    class=\"cx-unit-level-order-history-value\"\n                  >\n                    {{ order?.code }}</a\n                  >\n                </td>\n                <td class=\"cx-unit-level-order-history-placed\">\n                  <div class=\"cx-unit-level-order-history-label\">\n                    {{ 'unitLevelOrderHistory.date' | cxTranslate }}\n                  </div>\n                  <a\n                    [routerLink]=\"\n                      {\n                        cxRoute: 'unitLevelOrderDetail',\n                        params: order\n                      } | cxUrl\n                    \"\n                    class=\"cx-unit-level-order-history-value\"\n                  >\n                    {{ order?.placed | cxDate: 'longDate' }}\n                  </a>\n                </td>\n                <td class=\"cx-unit-level-order-history-status\">\n                  <div class=\"cx-unit-level-order-history-label\">\n                    {{ 'unitLevelOrderHistory.status' | cxTranslate }}\n                  </div>\n                  <a\n                    [routerLink]=\"\n                      {\n                        cxRoute: 'unitLevelOrderDetail',\n                        params: order\n                      } | cxUrl\n                    \"\n                    class=\"cx-unit-level-order-history-value\"\n                  >\n                    {{\n                      'orderDetails.statusDisplay_' + order?.statusDisplay\n                        | cxTranslate\n                    }}</a\n                  >\n                </td>\n                <td class=\"cx-unit-level-order-history-buyer\">\n                  <div class=\"cx-unit-level-order-history-label\">\n                    {{ 'unitLevelOrderHistory.buyer' | cxTranslate }}\n                  </div>\n                  <a\n                    [routerLink]=\"\n                      {\n                        cxRoute: 'unitLevelOrderDetail',\n                        params: order\n                      } | cxUrl\n                    \"\n                    class=\"cx-unit-level-order-history-value\"\n                  >\n                    {{ order?.orgCustomer?.name }}\n                    <span class=\"text-ellipsis\">{{\n                      order?.orgCustomer?.email\n                    }}</span></a\n                  >\n                </td>\n                <td class=\"cx-unit-level-order-history-unit\">\n                  <div class=\"cx-unit-level-order-history-label\">\n                    {{ 'unitLevelOrderHistory.unit' | cxTranslate }}\n                  </div>\n                  <a\n                    [routerLink]=\"\n                      {\n                        cxRoute: 'unitLevelOrderDetail',\n                        params: order\n                      } | cxUrl\n                    \"\n                    class=\"cx-unit-level-order-history-value\"\n                  >\n                    {{ order?.orgUnit?.name }}</a\n                  >\n                </td>\n                <td class=\"cx-unit-level-order-history-total\">\n                  <div class=\"cx-unit-level-order-history-label\">\n                    {{ 'unitLevelOrderHistory.total' | cxTranslate }}\n                  </div>\n                  <a\n                    [routerLink]=\"\n                      {\n                        cxRoute: 'unitLevelOrderDetail',\n                        params: order\n                      } | cxUrl\n                    \"\n                    class=\"cx-unit-level-order-history-value\"\n                  >\n                    {{ order?.total?.formattedValue }}</a\n                  >\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <!-- Select Form and Pagination Bottom -->\n          <div class=\"cx-unit-level-order-history-sort bottom\">\n            <label class=\"cx-unit-level-order-history-form-group form-group\"\n              ><span>\n                {{ 'unitLevelOrderHistory.sortBy' | cxTranslate }}\n              </span>\n              <cx-sorting\n                [sortOptions]=\"orderHistory?.sorts\"\n                [sortLabels]=\"getSortLabels() | async\"\n                (sortListEvent)=\"changeSortCode($event)\"\n                [selectedOption]=\"orderHistory?.pagination?.sort\"\n                placeholder=\"{{ 'unitLevelOrderHistory.sortBy' | cxTranslate }}\"\n                [ariaLabel]=\"'unitLevelOrderHistory.sortOrders' | cxTranslate\"\n                ariaControls=\"order-history-table\"\n              ></cx-sorting>\n            </label>\n            <div class=\"cx-unit-level-order-history-total-result\">\n              <cx-total [pagination]=\"orderHistory?.pagination\"></cx-total>\n            </div>\n            <div\n              *ngIf=\"orderHistory?.pagination?.totalPages ?? 0 > 1\"\n              class=\"cx-unit-level-order-history-pagination\"\n            >\n              <cx-pagination\n                [pagination]=\"orderHistory?.pagination\"\n                (viewPageEvent)=\"pageChange($event)\"\n              ></cx-pagination>\n            </div>\n          </div>\n        </ng-container>\n\n        <!-- NO ORDER CONTAINER -->\n        <ng-template #noOrder>\n          <div\n            *ngIf=\"isLoaded$ | async\"\n            class=\"cx-unit-level-order-history-no-order\"\n          >\n            <div>\n              <div>{{ 'unitLevelOrderHistory.noOrders' | cxTranslate }}</div>\n              <a\n                [routerLink]=\"{ cxRoute: 'home' } | cxUrl\"\n                routerLinkActive=\"active\"\n                class=\"btn btn-primary btn-block\"\n                >{{ 'unitLevelOrderHistory.startShopping' | cxTranslate }}</a\n              >\n            </div>\n          </div>\n        </ng-template>\n      </div>\n    </div>\n  </ng-container>\n</ng-container>\n" }]
        }], ctorParameters: function () { return [{ type: i1.RoutingService }, { type: i2.UnitOrderFacade }, { type: i1.TranslationService }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW5pdC1sZXZlbC1vcmRlci1oaXN0b3J5LmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL2ZlYXR1cmUtbGlicy9vcmdhbml6YXRpb24vdW5pdC1vcmRlci9jb21wb25lbnRzL3VuaXQtbGV2ZWwtb3JkZXItaGlzdG9yeS91bml0LWxldmVsLW9yZGVyLWhpc3RvcnkuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL29yZ2FuaXphdGlvbi91bml0LW9yZGVyL2NvbXBvbmVudHMvdW5pdC1sZXZlbC1vcmRlci1oaXN0b3J5L3VuaXQtbGV2ZWwtb3JkZXItaGlzdG9yeS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHO0FBRUgsT0FBTyxFQUFFLHVCQUF1QixFQUFFLFNBQVMsRUFBYSxNQUFNLGVBQWUsQ0FBQztBQUk5RSxPQUFPLEVBQUUsYUFBYSxFQUFjLE1BQU0sTUFBTSxDQUFDO0FBQ2pELE9BQU8sRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7Ozs7Ozs7O0FBUTFDLE1BQU0sT0FBTyw4QkFBOEI7SUFXekMsWUFDWSxPQUF1QixFQUN2QixnQkFBaUMsRUFDakMsV0FBK0I7UUFGL0IsWUFBTyxHQUFQLE9BQU8sQ0FBZ0I7UUFDdkIscUJBQWdCLEdBQWhCLGdCQUFnQixDQUFpQjtRQUNqQyxnQkFBVyxHQUFYLFdBQVcsQ0FBb0I7UUFibkMsY0FBUyxHQUFHLENBQUMsQ0FBQztRQUd0QiwwRkFBMEY7UUFDMUYsZ0JBQVcsR0FBNEI7WUFDckMsV0FBVyxFQUFFLENBQUM7WUFDZCxRQUFRLEVBQUUsRUFBRTtZQUNaLE9BQU8sRUFBRSxFQUFFO1NBQ1osQ0FBQztRQVFGLFlBQU8sR0FBNkMsSUFBSSxDQUFDLGdCQUFnQjthQUN0RSxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDO2FBQ25DLElBQUksQ0FDSCxHQUFHLENBQUMsQ0FBQyxNQUFvQyxFQUFFLEVBQUU7WUFDM0MsSUFBSSxNQUFNLEVBQUUsVUFBVSxFQUFFLElBQUksRUFBRTtnQkFDNUIsSUFBSSxDQUFDLFFBQVEsR0FBRyxNQUFNLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQztnQkFDdkMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQzthQUMzQztRQUNILENBQUMsQ0FBQyxDQUNILENBQUM7UUFFSixjQUFTLEdBQ1AsSUFBSSxDQUFDLGdCQUFnQixDQUFDLHlCQUF5QixFQUFFLENBQUM7SUFkakQsQ0FBQztJQWdCSixXQUFXO1FBQ1QsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ3pDLENBQUM7SUFFRCxZQUFZLENBQUMsVUFBbUM7UUFDOUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDO1lBQ3JCLEdBQUcsVUFBVTtZQUNiLFdBQVcsRUFBRSxDQUFDO1NBQ2YsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVPLGlCQUFpQixDQUFDLGFBQXNDO1FBQzlELGdFQUFnRTtRQUNoRSxNQUFNLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQyxDQUFDLE9BQU8sQ0FDbkMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUUsSUFBSSxDQUFDLFdBQW1CLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQzVELENBQUM7SUFDSixDQUFDO0lBRUQsY0FBYyxDQUFDLFFBQWdCO1FBQzdCLElBQUksQ0FBQyxpQkFBaUIsQ0FBQztZQUNyQixRQUFRLEVBQUUsUUFBUTtZQUNsQixXQUFXLEVBQUUsQ0FBQztTQUNmLENBQUMsQ0FBQztRQUNILElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFRCxVQUFVLENBQUMsSUFBWTtRQUNyQixJQUFJLENBQUMsaUJBQWlCLENBQUM7WUFDckIsV0FBVyxFQUFFLElBQUk7U0FDbEIsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7SUFDckMsQ0FBQztJQUVELGVBQWUsQ0FBQyxLQUFZO1FBQzFCLElBQUksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDO1lBQ2QsT0FBTyxFQUFFLHNCQUFzQjtZQUMvQixNQUFNLEVBQUUsS0FBSztTQUNkLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxhQUFhO1FBQ1gsT0FBTyxhQUFhLENBQUM7WUFDbkIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDO1lBQzFDLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLHFCQUFxQixDQUFDO1lBQ2pELElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLHNDQUFzQyxDQUFDO1lBQ2xFLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLG9DQUFvQyxDQUFDO1lBQ2hFLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLDBDQUEwQyxDQUFDO1lBQ3RFLElBQUksQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLHdDQUF3QyxDQUFDO1NBQ3JFLENBQUMsQ0FBQyxJQUFJLENBQ0wsR0FBRyxDQUNELENBQUMsQ0FDQyxVQUFVLEVBQ1YsaUJBQWlCLEVBQ2pCLGFBQWEsRUFDYixXQUFXLEVBQ1gsaUJBQWlCLEVBQ2pCLGVBQWUsRUFDaEIsRUFBRSxFQUFFO1lBQ0gsT0FBTztnQkFDTCxNQUFNLEVBQUUsVUFBVTtnQkFDbEIsYUFBYSxFQUFFLGlCQUFpQjtnQkFDaEMsU0FBUyxFQUFFLGFBQWE7Z0JBQ3hCLE9BQU8sRUFBRSxXQUFXO2dCQUNwQixhQUFhLEVBQUUsaUJBQWlCO2dCQUNoQyxXQUFXLEVBQUUsZUFBZTthQUM3QixDQUFDO1FBQ0osQ0FBQyxDQUNGLENBQ0YsQ0FBQztJQUNKLENBQUM7SUFFTyxXQUFXLENBQUMsVUFBbUM7UUFDckQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLGFBQWEsQ0FDakMsSUFBSSxDQUFDLFNBQVMsRUFDZCxVQUFVLENBQUMsV0FBVyxFQUN0QixVQUFVLENBQUMsT0FBTyxFQUNsQixVQUFVLENBQUMsUUFBUSxDQUNwQixDQUFDO0lBQ0osQ0FBQzs7MkhBL0dVLDhCQUE4QjsrR0FBOUIsOEJBQThCLG1FQ25CM0MscXVTQTBPQTsyRkR2TmEsOEJBQThCO2tCQUwxQyxTQUFTOytCQUNFLDZCQUE2QixtQkFFdEIsdUJBQXVCLENBQUMsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiAyMDIzIFNBUCBTcGFydGFjdXMgdGVhbSA8c3BhcnRhY3VzLXRlYW1Ac2FwLmNvbT5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb21wb25lbnQsIE9uRGVzdHJveSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUm91dGluZ1NlcnZpY2UsIFRyYW5zbGF0aW9uU2VydmljZSB9IGZyb20gJ0BzcGFydGFjdXMvY29yZSc7XG5pbXBvcnQgeyBPcmRlciwgT3JkZXJIaXN0b3J5TGlzdCB9IGZyb20gJ0BzcGFydGFjdXMvb3JkZXIvcm9vdCc7XG5pbXBvcnQgeyBPcmRlckhpc3RvcnlRdWVyeVBhcmFtcyB9IGZyb20gJ0BzcGFydGFjdXMvb3JnYW5pemF0aW9uL3VuaXQtb3JkZXIvY29yZSc7XG5pbXBvcnQgeyBjb21iaW5lTGF0ZXN0LCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBtYXAsIHRhcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFVuaXRPcmRlckZhY2FkZSB9IGZyb20gJ0BzcGFydGFjdXMvb3JnYW5pemF0aW9uL3VuaXQtb3JkZXIvcm9vdCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2N4LXVuaXQtbGV2ZWwtb3JkZXItaGlzdG9yeScsXG4gIHRlbXBsYXRlVXJsOiAnLi91bml0LWxldmVsLW9yZGVyLWhpc3RvcnkuY29tcG9uZW50Lmh0bWwnLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbn0pXG5leHBvcnQgY2xhc3MgVW5pdExldmVsT3JkZXJIaXN0b3J5Q29tcG9uZW50IGltcGxlbWVudHMgT25EZXN0cm95IHtcbiAgcHJpdmF0ZSBQQUdFX1NJWkUgPSA1O1xuICBzb3J0VHlwZTogc3RyaW5nO1xuXG4gIC8vIENvbnRhaW5zIHRoZSBpbml0aWFsIHF1ZXJ5IHBhcmFtZXRlcnMgYW5kIHdpbGwgYmUgdXBkYXRlZCB3aXRoIGN1cnJlbnQgc3RhdGUgb2YgZmlsdGVyc1xuICBxdWVyeVBhcmFtczogT3JkZXJIaXN0b3J5UXVlcnlQYXJhbXMgPSB7XG4gICAgY3VycmVudFBhZ2U6IDAsXG4gICAgc29ydENvZGU6ICcnLFxuICAgIGZpbHRlcnM6ICcnLFxuICB9O1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHByb3RlY3RlZCByb3V0aW5nOiBSb3V0aW5nU2VydmljZSxcbiAgICBwcm90ZWN0ZWQgdW5pdE9yZGVyc0ZhY2FkZTogVW5pdE9yZGVyRmFjYWRlLFxuICAgIHByb3RlY3RlZCB0cmFuc2xhdGlvbjogVHJhbnNsYXRpb25TZXJ2aWNlXG4gICkge31cblxuICBvcmRlcnMkOiBPYnNlcnZhYmxlPE9yZGVySGlzdG9yeUxpc3QgfCB1bmRlZmluZWQ+ID0gdGhpcy51bml0T3JkZXJzRmFjYWRlXG4gICAgLmdldE9yZGVySGlzdG9yeUxpc3QodGhpcy5QQUdFX1NJWkUpXG4gICAgLnBpcGUoXG4gICAgICB0YXAoKG9yZGVyczogT3JkZXJIaXN0b3J5TGlzdCB8IHVuZGVmaW5lZCkgPT4ge1xuICAgICAgICBpZiAob3JkZXJzPy5wYWdpbmF0aW9uPy5zb3J0KSB7XG4gICAgICAgICAgdGhpcy5zb3J0VHlwZSA9IG9yZGVycy5wYWdpbmF0aW9uLnNvcnQ7XG4gICAgICAgICAgdGhpcy5xdWVyeVBhcmFtcy5zb3J0Q29kZSA9IHRoaXMuc29ydFR5cGU7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgKTtcblxuICBpc0xvYWRlZCQ6IE9ic2VydmFibGU8Ym9vbGVhbj4gPVxuICAgIHRoaXMudW5pdE9yZGVyc0ZhY2FkZS5nZXRPcmRlckhpc3RvcnlMaXN0TG9hZGVkKCk7XG5cbiAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgdGhpcy51bml0T3JkZXJzRmFjYWRlLmNsZWFyT3JkZXJMaXN0KCk7XG4gIH1cblxuICBmaWx0ZXJDaGFuZ2UobmV3RmlsdGVyczogT3JkZXJIaXN0b3J5UXVlcnlQYXJhbXMpOiB2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZVF1ZXJ5UGFyYW1zKHtcbiAgICAgIC4uLm5ld0ZpbHRlcnMsXG4gICAgICBjdXJyZW50UGFnZTogMCxcbiAgICB9KTtcbiAgICB0aGlzLmZldGNoT3JkZXJzKHRoaXMucXVlcnlQYXJhbXMpO1xuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVRdWVyeVBhcmFtcyhwYXJ0aWFsUGFyYW1zOiBPcmRlckhpc3RvcnlRdWVyeVBhcmFtcykge1xuICAgIC8vIE92ZXJ3cml0ZSBlYWNoIHZhbHVlIHByZXNlbnQgaW4gcGFydGlhbFBhcmFtcyB0byBfcXVlcnlQYXJhbXNcbiAgICBPYmplY3QuZW50cmllcyhwYXJ0aWFsUGFyYW1zKS5mb3JFYWNoKFxuICAgICAgKHBhcmFtKSA9PiAoKHRoaXMucXVlcnlQYXJhbXMgYXMgYW55KVtwYXJhbVswXV0gPSBwYXJhbVsxXSlcbiAgICApO1xuICB9XG5cbiAgY2hhbmdlU29ydENvZGUoc29ydENvZGU6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMudXBkYXRlUXVlcnlQYXJhbXMoe1xuICAgICAgc29ydENvZGU6IHNvcnRDb2RlLFxuICAgICAgY3VycmVudFBhZ2U6IDAsXG4gICAgfSk7XG4gICAgdGhpcy5zb3J0VHlwZSA9IHNvcnRDb2RlO1xuICAgIHRoaXMuZmV0Y2hPcmRlcnModGhpcy5xdWVyeVBhcmFtcyk7XG4gIH1cblxuICBwYWdlQ2hhbmdlKHBhZ2U6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMudXBkYXRlUXVlcnlQYXJhbXMoe1xuICAgICAgY3VycmVudFBhZ2U6IHBhZ2UsXG4gICAgfSk7XG4gICAgdGhpcy5mZXRjaE9yZGVycyh0aGlzLnF1ZXJ5UGFyYW1zKTtcbiAgfVxuXG4gIGdvVG9PcmRlckRldGFpbChvcmRlcjogT3JkZXIpOiB2b2lkIHtcbiAgICB0aGlzLnJvdXRpbmcuZ28oe1xuICAgICAgY3hSb3V0ZTogJ3VuaXRMZXZlbE9yZGVyRGV0YWlsJyxcbiAgICAgIHBhcmFtczogb3JkZXIsXG4gICAgfSk7XG4gIH1cblxuICBnZXRTb3J0TGFiZWxzKCk6IE9ic2VydmFibGU8eyBieURhdGU6IHN0cmluZzsgYnlPcmRlck51bWJlcjogc3RyaW5nIH0+IHtcbiAgICByZXR1cm4gY29tYmluZUxhdGVzdChbXG4gICAgICB0aGlzLnRyYW5zbGF0aW9uLnRyYW5zbGF0ZSgnc29ydGluZy5kYXRlJyksXG4gICAgICB0aGlzLnRyYW5zbGF0aW9uLnRyYW5zbGF0ZSgnc29ydGluZy5vcmRlck51bWJlcicpLFxuICAgICAgdGhpcy50cmFuc2xhdGlvbi50cmFuc2xhdGUoJ3VuaXRMZXZlbE9yZGVySGlzdG9yeVNvcnRpbmcub3JnVW5pdCcpLFxuICAgICAgdGhpcy50cmFuc2xhdGlvbi50cmFuc2xhdGUoJ3VuaXRMZXZlbE9yZGVySGlzdG9yeVNvcnRpbmcuYnV5ZXInKSxcbiAgICAgIHRoaXMudHJhbnNsYXRpb24udHJhbnNsYXRlKCd1bml0TGV2ZWxPcmRlckhpc3RvcnlTb3J0aW5nLm9yZ1VuaXREZXNjJyksXG4gICAgICB0aGlzLnRyYW5zbGF0aW9uLnRyYW5zbGF0ZSgndW5pdExldmVsT3JkZXJIaXN0b3J5U29ydGluZy5idXllckRlc2MnKSxcbiAgICBdKS5waXBlKFxuICAgICAgbWFwKFxuICAgICAgICAoW1xuICAgICAgICAgIHRleHRCeURhdGUsXG4gICAgICAgICAgdGV4dEJ5T3JkZXJOdW1iZXIsXG4gICAgICAgICAgdGV4dEJ5T3JnVW5pdCxcbiAgICAgICAgICB0ZXh0QnlCdXllcixcbiAgICAgICAgICB0ZXh0QnlPcmdVbml0RGVzYyxcbiAgICAgICAgICB0ZXh0QnlCdXllckRlc2MsXG4gICAgICAgIF0pID0+IHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYnlEYXRlOiB0ZXh0QnlEYXRlLFxuICAgICAgICAgICAgYnlPcmRlck51bWJlcjogdGV4dEJ5T3JkZXJOdW1iZXIsXG4gICAgICAgICAgICBieU9yZ1VuaXQ6IHRleHRCeU9yZ1VuaXQsXG4gICAgICAgICAgICBieUJ1eWVyOiB0ZXh0QnlCdXllcixcbiAgICAgICAgICAgIGJ5T3JnVW5pdERlc2M6IHRleHRCeU9yZ1VuaXREZXNjLFxuICAgICAgICAgICAgYnlCdXllckRlc2M6IHRleHRCeUJ1eWVyRGVzYyxcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICApXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgZmV0Y2hPcmRlcnMocXVlcnlQYXJhbTogT3JkZXJIaXN0b3J5UXVlcnlQYXJhbXMpOiB2b2lkIHtcbiAgICB0aGlzLnVuaXRPcmRlcnNGYWNhZGUubG9hZE9yZGVyTGlzdChcbiAgICAgIHRoaXMuUEFHRV9TSVpFLFxuICAgICAgcXVlcnlQYXJhbS5jdXJyZW50UGFnZSxcbiAgICAgIHF1ZXJ5UGFyYW0uZmlsdGVycyxcbiAgICAgIHF1ZXJ5UGFyYW0uc29ydENvZGVcbiAgICApO1xuICB9XG59XG4iLCI8bmctY29udGFpbmVyXG4gICpuZ0lmPVwie1xuICAgIG9yZGVySGlzdG9yeTogb3JkZXJzJCB8IGFzeW5jXG4gIH0gYXMgdHlwZVwiXG4+XG4gIDxuZy1jb250YWluZXIgKm5nSWY9XCJ0eXBlLm9yZGVySGlzdG9yeSBhcyBvcmRlckhpc3RvcnlcIj5cbiAgICA8ZGl2PlxuICAgICAgPCEtLSBIRUFERVIgLS0+XG5cbiAgICAgIDxjeC11bml0LWxldmVsLW9yZGVyLWhpc3RvcnktZmlsdGVyXG4gICAgICAgIChmaWx0ZXJMaXN0RXZlbnQpPVwiZmlsdGVyQ2hhbmdlKCRldmVudClcIlxuICAgICAgPjwvY3gtdW5pdC1sZXZlbC1vcmRlci1oaXN0b3J5LWZpbHRlcj5cblxuICAgICAgPCEtLSBCT0RZIC0tPlxuICAgICAgPGRpdiBjbGFzcz1cImN4LXVuaXQtbGV2ZWwtb3JkZXItaGlzdG9yeS1ib2R5XCI+XG4gICAgICAgIDxuZy1jb250YWluZXJcbiAgICAgICAgICAqbmdJZj1cIm9yZGVySGlzdG9yeS5wYWdpbmF0aW9uPy50b3RhbFJlc3VsdHMgPz8gMCA+IDA7IGVsc2Ugbm9PcmRlclwiXG4gICAgICAgID5cbiAgICAgICAgICA8IS0tIFNlbGVjdCBGb3JtIGFuZCBQYWdpbmF0aW9uIFRvcCAtLT5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtdW5pdC1sZXZlbC1vcmRlci1oaXN0b3J5LXNvcnQgdG9wXCI+XG4gICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjeC11bml0LWxldmVsLW9yZGVyLWhpc3RvcnktZm9ybS1ncm91cCBmb3JtLWdyb3VwXCJcbiAgICAgICAgICAgICAgPjxzcGFuPlxuICAgICAgICAgICAgICAgIHt7ICd1bml0TGV2ZWxPcmRlckhpc3Rvcnkuc29ydEJ5JyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgPGN4LXNvcnRpbmdcbiAgICAgICAgICAgICAgICBbc29ydE9wdGlvbnNdPVwib3JkZXJIaXN0b3J5Py5zb3J0c1wiXG4gICAgICAgICAgICAgICAgW3NvcnRMYWJlbHNdPVwiZ2V0U29ydExhYmVscygpIHwgYXN5bmNcIlxuICAgICAgICAgICAgICAgIChzb3J0TGlzdEV2ZW50KT1cImNoYW5nZVNvcnRDb2RlKCRldmVudClcIlxuICAgICAgICAgICAgICAgIFtzZWxlY3RlZE9wdGlvbl09XCJvcmRlckhpc3Rvcnk/LnBhZ2luYXRpb24/LnNvcnRcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwie3sgJ3VuaXRMZXZlbE9yZGVySGlzdG9yeS5zb3J0QnknIHwgY3hUcmFuc2xhdGUgfX1cIlxuICAgICAgICAgICAgICAgIFthcmlhTGFiZWxdPVwiJ3VuaXRMZXZlbE9yZGVySGlzdG9yeS5zb3J0T3JkZXJzJyB8IGN4VHJhbnNsYXRlXCJcbiAgICAgICAgICAgICAgICBhcmlhQ29udHJvbHM9XCJvcmRlci1oaXN0b3J5LXRhYmxlXCJcbiAgICAgICAgICAgICAgPjwvY3gtc29ydGluZz5cbiAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtdW5pdC1sZXZlbC1vcmRlci1oaXN0b3J5LXRvdGFsLXJlc3VsdFwiPlxuICAgICAgICAgICAgICA8Y3gtdG90YWwgW3BhZ2luYXRpb25dPVwib3JkZXJIaXN0b3J5Py5wYWdpbmF0aW9uXCI+PC9jeC10b3RhbD5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAqbmdJZj1cIm9yZGVySGlzdG9yeT8ucGFnaW5hdGlvbj8udG90YWxQYWdlcyA/PyAwID4gMVwiXG4gICAgICAgICAgICAgIGNsYXNzPVwiY3gtdW5pdC1sZXZlbC1vcmRlci1oaXN0b3J5LXBhZ2luYXRpb25cIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8Y3gtcGFnaW5hdGlvblxuICAgICAgICAgICAgICAgIFtwYWdpbmF0aW9uXT1cIm9yZGVySGlzdG9yeT8ucGFnaW5hdGlvblwiXG4gICAgICAgICAgICAgICAgKHZpZXdQYWdlRXZlbnQpPVwicGFnZUNoYW5nZSgkZXZlbnQpXCJcbiAgICAgICAgICAgICAgPjwvY3gtcGFnaW5hdGlvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwhLS0gVEFCTEUgLS0+XG4gICAgICAgICAgPHRhYmxlXG4gICAgICAgICAgICBpZD1cIm9yZGVyLWhpc3RvcnktdGFibGVcIlxuICAgICAgICAgICAgY2xhc3M9XCJ0YWJsZSBjeC11bml0LWxldmVsLW9yZGVyLWhpc3RvcnktdGFibGVcIlxuICAgICAgICAgID5cbiAgICAgICAgICAgIDx0aGVhZCBjbGFzcz1cImN4LXVuaXQtbGV2ZWwtb3JkZXItaGlzdG9yeS10aGVhZC1tb2JpbGVcIj5cbiAgICAgICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+XG4gICAgICAgICAgICAgICAge3sgJ3VuaXRMZXZlbE9yZGVySGlzdG9yeS5vcmRlcklkJyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPlxuICAgICAgICAgICAgICAgIHt7ICd1bml0TGV2ZWxPcmRlckhpc3RvcnkuZGF0ZScgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj5cbiAgICAgICAgICAgICAgICB7eyAndW5pdExldmVsT3JkZXJIaXN0b3J5LnN0YXR1cycgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj5cbiAgICAgICAgICAgICAgICB7eyAndW5pdExldmVsT3JkZXJIaXN0b3J5LmJ1eWVyJyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgIDx0aCBzY29wZT1cImNvbFwiPlxuICAgICAgICAgICAgICAgIHt7ICd1bml0TGV2ZWxPcmRlckhpc3RvcnkudW5pdCcgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj5cbiAgICAgICAgICAgICAgICB7eyAndW5pdExldmVsT3JkZXJIaXN0b3J5LnRvdGFsJyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICA8dHJcbiAgICAgICAgICAgICAgICAqbmdGb3I9XCJsZXQgb3JkZXIgb2Ygb3JkZXJIaXN0b3J5Py5vcmRlcnNcIlxuICAgICAgICAgICAgICAgIChjbGljayk9XCJnb1RvT3JkZXJEZXRhaWwob3JkZXIpXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cImN4LXVuaXQtbGV2ZWwtb3JkZXItaGlzdG9yeS1jb2RlXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtdW5pdC1sZXZlbC1vcmRlci1oaXN0b3J5LWxhYmVsXCI+XG4gICAgICAgICAgICAgICAgICAgIHt7ICd1bml0TGV2ZWxPcmRlckhpc3Rvcnkub3JkZXJJZCcgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICBbcm91dGVyTGlua109XCJcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeFJvdXRlOiAndW5pdExldmVsT3JkZXJEZXRhaWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBvcmRlclxuICAgICAgICAgICAgICAgICAgICAgIH0gfCBjeFVybFxuICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImN4LXVuaXQtbGV2ZWwtb3JkZXItaGlzdG9yeS12YWx1ZVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHt7IG9yZGVyPy5jb2RlIH19PC9hXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJjeC11bml0LWxldmVsLW9yZGVyLWhpc3RvcnktcGxhY2VkXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtdW5pdC1sZXZlbC1vcmRlci1oaXN0b3J5LWxhYmVsXCI+XG4gICAgICAgICAgICAgICAgICAgIHt7ICd1bml0TGV2ZWxPcmRlckhpc3RvcnkuZGF0ZScgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICBbcm91dGVyTGlua109XCJcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeFJvdXRlOiAndW5pdExldmVsT3JkZXJEZXRhaWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBvcmRlclxuICAgICAgICAgICAgICAgICAgICAgIH0gfCBjeFVybFxuICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImN4LXVuaXQtbGV2ZWwtb3JkZXItaGlzdG9yeS12YWx1ZVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHt7IG9yZGVyPy5wbGFjZWQgfCBjeERhdGU6ICdsb25nRGF0ZScgfX1cbiAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cImN4LXVuaXQtbGV2ZWwtb3JkZXItaGlzdG9yeS1zdGF0dXNcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeC11bml0LWxldmVsLW9yZGVyLWhpc3RvcnktbGFiZWxcIj5cbiAgICAgICAgICAgICAgICAgICAge3sgJ3VuaXRMZXZlbE9yZGVySGlzdG9yeS5zdGF0dXMnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgICAgICAgW3JvdXRlckxpbmtdPVwiXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3hSb3V0ZTogJ3VuaXRMZXZlbE9yZGVyRGV0YWlsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogb3JkZXJcbiAgICAgICAgICAgICAgICAgICAgICB9IHwgY3hVcmxcbiAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjeC11bml0LWxldmVsLW9yZGVyLWhpc3RvcnktdmFsdWVcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7e1xuICAgICAgICAgICAgICAgICAgICAgICdvcmRlckRldGFpbHMuc3RhdHVzRGlzcGxheV8nICsgb3JkZXI/LnN0YXR1c0Rpc3BsYXlcbiAgICAgICAgICAgICAgICAgICAgICAgIHwgY3hUcmFuc2xhdGVcbiAgICAgICAgICAgICAgICAgICAgfX08L2FcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cImN4LXVuaXQtbGV2ZWwtb3JkZXItaGlzdG9yeS1idXllclwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImN4LXVuaXQtbGV2ZWwtb3JkZXItaGlzdG9yeS1sYWJlbFwiPlxuICAgICAgICAgICAgICAgICAgICB7eyAndW5pdExldmVsT3JkZXJIaXN0b3J5LmJ1eWVyJyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgICAgIFtyb3V0ZXJMaW5rXT1cIlxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN4Um91dGU6ICd1bml0TGV2ZWxPcmRlckRldGFpbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IG9yZGVyXG4gICAgICAgICAgICAgICAgICAgICAgfSB8IGN4VXJsXG4gICAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY3gtdW5pdC1sZXZlbC1vcmRlci1oaXN0b3J5LXZhbHVlXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge3sgb3JkZXI/Lm9yZ0N1c3RvbWVyPy5uYW1lIH19XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1lbGxpcHNpc1wiPnt7XG4gICAgICAgICAgICAgICAgICAgICAgb3JkZXI/Lm9yZ0N1c3RvbWVyPy5lbWFpbFxuICAgICAgICAgICAgICAgICAgICB9fTwvc3Bhbj48L2FcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cImN4LXVuaXQtbGV2ZWwtb3JkZXItaGlzdG9yeS11bml0XCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtdW5pdC1sZXZlbC1vcmRlci1oaXN0b3J5LWxhYmVsXCI+XG4gICAgICAgICAgICAgICAgICAgIHt7ICd1bml0TGV2ZWxPcmRlckhpc3RvcnkudW5pdCcgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICBbcm91dGVyTGlua109XCJcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeFJvdXRlOiAndW5pdExldmVsT3JkZXJEZXRhaWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBvcmRlclxuICAgICAgICAgICAgICAgICAgICAgIH0gfCBjeFVybFxuICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImN4LXVuaXQtbGV2ZWwtb3JkZXItaGlzdG9yeS12YWx1ZVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHt7IG9yZGVyPy5vcmdVbml0Py5uYW1lIH19PC9hXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJjeC11bml0LWxldmVsLW9yZGVyLWhpc3RvcnktdG90YWxcIj5cbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeC11bml0LWxldmVsLW9yZGVyLWhpc3RvcnktbGFiZWxcIj5cbiAgICAgICAgICAgICAgICAgICAge3sgJ3VuaXRMZXZlbE9yZGVySGlzdG9yeS50b3RhbCcgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICBbcm91dGVyTGlua109XCJcbiAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeFJvdXRlOiAndW5pdExldmVsT3JkZXJEZXRhaWwnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiBvcmRlclxuICAgICAgICAgICAgICAgICAgICAgIH0gfCBjeFVybFxuICAgICAgICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImN4LXVuaXQtbGV2ZWwtb3JkZXItaGlzdG9yeS12YWx1ZVwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHt7IG9yZGVyPy50b3RhbD8uZm9ybWF0dGVkVmFsdWUgfX08L2FcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgIDwhLS0gU2VsZWN0IEZvcm0gYW5kIFBhZ2luYXRpb24gQm90dG9tIC0tPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeC11bml0LWxldmVsLW9yZGVyLWhpc3Rvcnktc29ydCBib3R0b21cIj5cbiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImN4LXVuaXQtbGV2ZWwtb3JkZXItaGlzdG9yeS1mb3JtLWdyb3VwIGZvcm0tZ3JvdXBcIlxuICAgICAgICAgICAgICA+PHNwYW4+XG4gICAgICAgICAgICAgICAge3sgJ3VuaXRMZXZlbE9yZGVySGlzdG9yeS5zb3J0QnknIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8Y3gtc29ydGluZ1xuICAgICAgICAgICAgICAgIFtzb3J0T3B0aW9uc109XCJvcmRlckhpc3Rvcnk/LnNvcnRzXCJcbiAgICAgICAgICAgICAgICBbc29ydExhYmVsc109XCJnZXRTb3J0TGFiZWxzKCkgfCBhc3luY1wiXG4gICAgICAgICAgICAgICAgKHNvcnRMaXN0RXZlbnQpPVwiY2hhbmdlU29ydENvZGUoJGV2ZW50KVwiXG4gICAgICAgICAgICAgICAgW3NlbGVjdGVkT3B0aW9uXT1cIm9yZGVySGlzdG9yeT8ucGFnaW5hdGlvbj8uc29ydFwiXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJ7eyAndW5pdExldmVsT3JkZXJIaXN0b3J5LnNvcnRCeScgfCBjeFRyYW5zbGF0ZSB9fVwiXG4gICAgICAgICAgICAgICAgW2FyaWFMYWJlbF09XCIndW5pdExldmVsT3JkZXJIaXN0b3J5LnNvcnRPcmRlcnMnIHwgY3hUcmFuc2xhdGVcIlxuICAgICAgICAgICAgICAgIGFyaWFDb250cm9scz1cIm9yZGVyLWhpc3RvcnktdGFibGVcIlxuICAgICAgICAgICAgICA+PC9jeC1zb3J0aW5nPlxuICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeC11bml0LWxldmVsLW9yZGVyLWhpc3RvcnktdG90YWwtcmVzdWx0XCI+XG4gICAgICAgICAgICAgIDxjeC10b3RhbCBbcGFnaW5hdGlvbl09XCJvcmRlckhpc3Rvcnk/LnBhZ2luYXRpb25cIj48L2N4LXRvdGFsPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICpuZ0lmPVwib3JkZXJIaXN0b3J5Py5wYWdpbmF0aW9uPy50b3RhbFBhZ2VzID8/IDAgPiAxXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJjeC11bml0LWxldmVsLW9yZGVyLWhpc3RvcnktcGFnaW5hdGlvblwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxjeC1wYWdpbmF0aW9uXG4gICAgICAgICAgICAgICAgW3BhZ2luYXRpb25dPVwib3JkZXJIaXN0b3J5Py5wYWdpbmF0aW9uXCJcbiAgICAgICAgICAgICAgICAodmlld1BhZ2VFdmVudCk9XCJwYWdlQ2hhbmdlKCRldmVudClcIlxuICAgICAgICAgICAgICA+PC9jeC1wYWdpbmF0aW9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbmctY29udGFpbmVyPlxuXG4gICAgICAgIDwhLS0gTk8gT1JERVIgQ09OVEFJTkVSIC0tPlxuICAgICAgICA8bmctdGVtcGxhdGUgI25vT3JkZXI+XG4gICAgICAgICAgPGRpdlxuICAgICAgICAgICAgKm5nSWY9XCJpc0xvYWRlZCQgfCBhc3luY1wiXG4gICAgICAgICAgICBjbGFzcz1cImN4LXVuaXQtbGV2ZWwtb3JkZXItaGlzdG9yeS1uby1vcmRlclwiXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGRpdj57eyAndW5pdExldmVsT3JkZXJIaXN0b3J5Lm5vT3JkZXJzJyB8IGN4VHJhbnNsYXRlIH19PC9kaXY+XG4gICAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgICAgW3JvdXRlckxpbmtdPVwieyBjeFJvdXRlOiAnaG9tZScgfSB8IGN4VXJsXCJcbiAgICAgICAgICAgICAgICByb3V0ZXJMaW5rQWN0aXZlPVwiYWN0aXZlXCJcbiAgICAgICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tcHJpbWFyeSBidG4tYmxvY2tcIlxuICAgICAgICAgICAgICAgID57eyAndW5pdExldmVsT3JkZXJIaXN0b3J5LnN0YXJ0U2hvcHBpbmcnIHwgY3hUcmFuc2xhdGUgfX08L2FcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9uZy1jb250YWluZXI+XG48L25nLWNvbnRhaW5lcj5cbiJdfQ==