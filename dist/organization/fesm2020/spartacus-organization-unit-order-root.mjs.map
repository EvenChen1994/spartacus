{"version":3,"file":"spartacus-organization-unit-order-root.mjs","sources":["../../../feature-libs/organization/unit-order/root/feature-name.ts","../../../feature-libs/organization/unit-order/root/facade/unit-order.facade.ts","../../../feature-libs/organization/unit-order/root/facade/index.ts","../../../feature-libs/organization/unit-order/root/context/context.ts","../../../feature-libs/organization/unit-order/root/context/index.ts","../../../feature-libs/organization/unit-order/root/unit-order-root.module.ts","../../../feature-libs/organization/unit-order/root/public_api.ts","../../../feature-libs/organization/unit-order/root/spartacus-organization-unit-order-root.ts"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport const ORGANIZATION_UNIT_ORDER_FEATURE = 'organizationUnitOrder';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Injectable } from '@angular/core';\nimport { facadeFactory } from '@spartacus/core';\nimport { Order, OrderHistoryList } from '@spartacus/order/root';\nimport { Observable } from 'rxjs';\nimport { ORGANIZATION_UNIT_ORDER_FEATURE } from '../feature-name';\n\nexport function unitOrderFacadeFactory() {\n  return facadeFactory({\n    facade: UnitOrderFacade,\n    feature: ORGANIZATION_UNIT_ORDER_FEATURE,\n    methods: [\n      'getOrderHistoryList',\n      'getOrderHistoryListLoaded',\n      'loadOrderList',\n      'clearOrderList',\n      'getOrderDetails',\n      'loadOrderDetails',\n      'clearOrderDetails',\n    ],\n    async: true,\n  });\n}\n\n@Injectable({\n  providedIn: 'root',\n  useFactory: unitOrderFacadeFactory,\n})\nexport abstract class UnitOrderFacade {\n  /**\n   * Returns order history list\n   */\n  abstract getOrderHistoryList(\n    pageSize: number\n  ): Observable<OrderHistoryList | undefined>;\n\n  /**\n   * Returns a loaded flag for order history list\n   */\n  abstract getOrderHistoryListLoaded(): Observable<boolean>;\n\n  /**\n   * Retrieves an order list\n   * @param pageSize page size\n   * @param currentPage current page\n   * @param filters filters values for buyer and unit given in format '::user:<userFilter>:unit:<unitFilter>'\n   * @param sort sort\n   */\n  abstract loadOrderList(\n    pageSize: number,\n    currentPage?: number,\n    filters?: string,\n    sort?: string\n  ): void;\n\n  /**\n   * Cleaning order list\n   */\n  abstract clearOrderList(): void;\n\n  /**\n   * Returns an order's detail\n   */\n  abstract getOrderDetails(): Observable<Order>;\n\n  /**\n   * Retrieves order's details\n   *\n   * @param orderCode an order code\n   */\n  abstract loadOrderDetails(orderCode: string): void;\n\n  /**\n   * Clears order's details\n   */\n  abstract clearOrderDetails(): void;\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './unit-order.facade';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { InjectionToken } from '@angular/core';\n\nexport const UnitOrderDetailsOrderEntriesContextToken = new InjectionToken(\n  'OrderDetailsOrderEntriesContext'\n);\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './context';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { ORDER_ENTRIES_CONTEXT } from '@spartacus/cart/base/root';\nimport {\n  AuthGuard,\n  CmsConfig,\n  provideDefaultConfig,\n  provideDefaultConfigFactory,\n  RoutingConfig,\n} from '@spartacus/core';\nimport { ORDER_FEATURE } from '@spartacus/order/root';\nimport { CmsPageGuard, PageLayoutComponent } from '@spartacus/storefront';\nimport { UnitOrderDetailsOrderEntriesContextToken } from './context';\nimport { ORGANIZATION_UNIT_ORDER_FEATURE } from './feature-name';\n\n// TODO: Inline this factory when we start releasing Ivy compiled libraries\nexport function defaultOrganizationUnitOrderComponentsConfig(): CmsConfig {\n  const config: CmsConfig = {\n    featureModules: {\n      [ORGANIZATION_UNIT_ORDER_FEATURE]: {\n        cmsComponents: [\n          'UnitLevelOrderHistoryComponent',\n          'UnitLevelOrderDetailsOverviewComponent',\n          'UnitLevelOrderDetailsItemsComponent',\n          'UnitLevelOrderDetailsTotalsComponent',\n        ],\n        dependencies: [ORDER_FEATURE],\n      },\n    },\n  };\n\n  return config;\n}\n\n@NgModule({\n  imports: [\n    RouterModule.forChild([\n      {\n        // @ts-ignore\n        path: null,\n        canActivate: [AuthGuard, CmsPageGuard],\n        component: PageLayoutComponent,\n        data: { cxRoute: 'unitLevelOrders' },\n      },\n      {\n        // @ts-ignore\n        path: null,\n        canActivate: [AuthGuard, CmsPageGuard],\n        component: PageLayoutComponent,\n        data: {\n          cxRoute: 'unitLevelOrderDetail',\n          cxContext: {\n            [ORDER_ENTRIES_CONTEXT]: UnitOrderDetailsOrderEntriesContextToken,\n          },\n        },\n      },\n    ]),\n  ],\n  providers: [\n    provideDefaultConfigFactory(defaultOrganizationUnitOrderComponentsConfig),\n    provideDefaultConfig({\n      routing: {\n        routes: {\n          unitLevelOrders: {\n            paths: ['my-account/unitLevelOrders'],\n          },\n          unitLevelOrderDetail: {\n            paths: ['my-account/unitLevelOrderDetails/:orderCode'],\n            paramsMapping: { orderCode: 'code' },\n          },\n        },\n      },\n    } as RoutingConfig),\n  ],\n})\nexport class UnitOrderRootModule {}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './feature-name';\nexport * from './facade/index';\nexport * from './context/index';\nexport * from './unit-order-root.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":[],"mappings":"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"}