/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { Component } from '@angular/core';
import { ICON_TYPE } from '@spartacus/storefront';
import { combineLatest } from 'rxjs';
import { map, tap } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@spartacus/customer-ticketing/root";
import * as i2 from "@spartacus/core";
import * as i3 from "../customer-ticketing-create/customer-ticketing-create.component";
import * as i4 from "@angular/common";
import * as i5 from "@spartacus/storefront";
import * as i6 from "@angular/router";
export class CustomerTicketingListComponent {
    constructor(customerTicketingFacade, routingService, translationService, customerTicketingConfig) {
        this.customerTicketingFacade = customerTicketingFacade;
        this.routingService = routingService;
        this.translationService = translationService;
        this.customerTicketingConfig = customerTicketingConfig;
        this.PAGE_SIZE = this.customerTicketingConfig.customerTicketing?.listViewPageSize || 5;
        this.iconTypes = ICON_TYPE;
        this.tickets$ = this.customerTicketingFacade
            .getTickets(this.PAGE_SIZE)
            .pipe(tap((tickets) => (this.sortType = tickets?.pagination?.sort || '')));
        this.getStatusClass = (status) => {
            switch (status) {
                case "OPEN" /* STATUS.OPEN */:
                case "INPROCESS" /* STATUS.INPROCESS */:
                    return "cx-text-green" /* TEXT_COLOR_CLASS.GREEN */;
                case "CLOSED" /* STATUS.CLOSED */:
                    return "cx-text-grey" /* TEXT_COLOR_CLASS.GREY */;
                default:
                    return '';
            }
        };
    }
    goToTicketDetail(ticketId) {
        this.routingService.go({
            cxRoute: 'supportTicketDetails',
            params: { ticketCode: ticketId },
        });
    }
    getSortLabels() {
        return combineLatest([
            this.translationService.translate('customerTicketing.ticketId'),
            this.translationService.translate('customerTicketing.changedOn'),
        ]).pipe(map(([textByTicketId, textByDate]) => {
            return {
                byTicketId: textByTicketId,
                byDate: textByDate,
            };
        }));
    }
    changeSortCode(sortCode) {
        this.sortType = sortCode;
        this.pageChange(0);
    }
    pageChange(page) {
        const ticketListParams = this.createTicketListEvent(this.sortType, page);
        this.fetchTicketList(ticketListParams);
    }
    createTicketListEvent(sortCode, currentPage) {
        return {
            currentPage: currentPage,
            sortCode: sortCode,
        };
    }
    fetchTicketList(ticketListParams) {
        this.tickets$ = this.customerTicketingFacade.getTickets(this.PAGE_SIZE, ticketListParams.currentPage, ticketListParams.sortCode);
    }
}
CustomerTicketingListComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: CustomerTicketingListComponent, deps: [{ token: i1.CustomerTicketingFacade }, { token: i2.RoutingService }, { token: i2.TranslationService }, { token: i1.CustomerTicketingConfig }], target: i0.ɵɵFactoryTarget.Component });
CustomerTicketingListComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.9", type: CustomerTicketingListComponent, selector: "cx-customer-ticketing-list", ngImport: i0, template: "<ng-container *ngIf=\"tickets$ | async as ticketList; else spinner\">\n  <span class=\"cx-ticketing-list-title\">\n    <h2 class=\"cx-ticketing-list-title-text\">\n      {{ 'customerTicketingList.requestTitle' | cxTranslate }}\n      ({{ ticketList.pagination?.totalResults || 0 }})\n    </h2>\n  </span>\n  <ng-container *ngIf=\"ticketList.tickets.length > 0; else noCustomerTickets\">\n    <div class=\"cx-ticketing-list-sort top\">\n      <label class=\"cx-ticketing-list-form-group form-group\">\n        <span>\n          {{ 'customerTicketingList.sortSubtitle' | cxTranslate }}\n        </span>\n        <cx-sorting\n          [sortOptions]=\"ticketList.sorts\"\n          [sortLabels]=\"getSortLabels() | async\"\n          (sortListEvent)=\"changeSortCode($event)\"\n          [selectedOption]=\"ticketList.pagination?.sort\"\n          placeholder=\"{{ 'customerTicketingList.sortSubtitle' | cxTranslate }}\"\n          [ariaLabel]=\"'customerTicketingList.sortOrders' | cxTranslate\"\n          ariaControls=\"ticketing-list-table\"\n        ></cx-sorting>\n      </label>\n      <cx-customer-ticketing-create></cx-customer-ticketing-create>\n    </div>\n    <table\n      id=\"ticketing-list-table\"\n      class=\"table cx-ticketing-list-table\"\n      aria-hidden=\"true\"\n    >\n      <thead class=\"cx-ticketing-list-thead-mobile\">\n        <tr>\n          <th scope=\"col\">{{ 'customerTicketing.ticketId' | cxTranslate }}</th>\n          <th scope=\"col\">\n            {{ 'customerTicketingList.subject' | cxTranslate }}\n          </th>\n          <th scope=\"col\">\n            {{ 'customerTicketingList.ticketCategory' | cxTranslate }}\n          </th>\n          <th scope=\"col\">{{ 'customerTicketing.createdOn' | cxTranslate }}</th>\n          <th scope=\"col\">{{ 'customerTicketing.changedOn' | cxTranslate }}</th>\n          <th scope=\"col\">{{ 'customerTicketing.status' | cxTranslate }}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr\n          *ngFor=\"let ticket of ticketList.tickets\"\n          (click)=\"goToTicketDetail(ticket.id)\"\n        >\n          <td class=\"cx-ticketing-list-data cx-ticketing-list-id\">\n            <div class=\"cx-ticketing-list-label\">\n              {{ 'customerTicketingList.mobile.ticketIdFull' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'supportTicketDetails',\n                  params: { ticketCode: ticket.id }\n                } | cxUrl\n              \"\n              class=\"cx-ticketing-list-value\"\n            >\n              {{ ticket.id }}\n            </a>\n          </td>\n          <td class=\"cx-ticketing-list-data\">\n            <div class=\"cx-ticketing-list-label\">\n              {{ 'customerTicketingList.subject' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'supportTicketDetails',\n                  params: { ticketCode: ticket.id }\n                } | cxUrl\n              \"\n              class=\"cx-ticketing-list-value\"\n            >\n              {{ ticket.subject }}\n            </a>\n          </td>\n          <td class=\"cx-ticketing-list-data\">\n            <div class=\"cx-ticketing-list-label\">\n              {{ 'customerTicketingList.ticketCategory' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'supportTicketDetails',\n                  params: { ticketCode: ticket.id }\n                } | cxUrl\n              \"\n              class=\"cx-ticketing-list-value\"\n            >\n              {{ ticket.ticketCategory?.name }}\n            </a>\n          </td>\n          <td class=\"cx-ticketing-list-data\">\n            <div class=\"cx-ticketing-list-label\">\n              {{ 'customerTicketing.createdOn' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'supportTicketDetails',\n                  params: { ticketCode: ticket.id }\n                } | cxUrl\n              \"\n              class=\"cx-ticketing-list-value\"\n            >\n              {{ ticket.createdAt | cxDate }}\n            </a>\n          </td>\n          <td class=\"cx-ticketing-list-data\">\n            <div class=\"cx-ticketing-list-label\">\n              {{ 'customerTicketing.changedOn' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'supportTicketDetails',\n                  params: { ticketCode: ticket.id }\n                } | cxUrl\n              \"\n              class=\"cx-ticketing-list-value\"\n            >\n              {{ ticket.modifiedAt | cxDate }}\n            </a>\n          </td>\n          <td class=\"cx-ticketing-list-data\">\n            <div class=\"cx-ticketing-list-label\">\n              {{ 'customerTicketing.status' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'supportTicketDetails',\n                  params: { ticketCode: ticket.id }\n                } | cxUrl\n              \"\n              class=\"cx-ticketing-list-value\"\n              [ngClass]=\"getStatusClass(ticket.status.id)\"\n            >\n              {{ ticket.status?.name }}\n            </a>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <div class=\"cx-ticketing-list-sort bottom\">\n      <div\n        *ngIf=\"ticketList.pagination?.totalPages > 1\"\n        class=\"cx-ticketing-list-pagination\"\n      >\n        <cx-pagination\n          [pagination]=\"ticketList.pagination\"\n          (viewPageEvent)=\"pageChange($event)\"\n        ></cx-pagination>\n      </div>\n    </div>\n  </ng-container>\n  <ng-template #noCustomerTickets>\n    <cx-customer-ticketing-create></cx-customer-ticketing-create>\n    <ng-container>\n      <div class=\"text-center\">\n        <h3>{{ 'customerTicketingList.noTickets' | cxTranslate }}</h3>\n      </div>\n    </ng-container>\n  </ng-template>\n</ng-container>\n\n<ng-template #spinner>\n  <cx-spinner></cx-spinner>\n</ng-template>\n", dependencies: [{ kind: "component", type: i3.CustomerTicketingCreateComponent, selector: "cx-customer-ticketing-create" }, { kind: "directive", type: i4.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i4.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i4.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i5.SortingComponent, selector: "cx-sorting", inputs: ["sortOptions", "ariaControls", "ariaLabel", "selectedOption", "placeholder", "sortLabels"], outputs: ["sortListEvent"] }, { kind: "component", type: i5.PaginationComponent, selector: "cx-pagination", inputs: ["pageRoute", "queryParam", "defaultPage", "pagination"], outputs: ["viewPageEvent"] }, { kind: "directive", type: i6.RouterLink, selector: "[routerLink]", inputs: ["target", "queryParams", "fragment", "queryParamsHandling", "state", "relativeTo", "preserveFragment", "skipLocationChange", "replaceUrl", "routerLink"] }, { kind: "component", type: i5.SpinnerComponent, selector: "cx-spinner" }, { kind: "pipe", type: i4.AsyncPipe, name: "async" }, { kind: "pipe", type: i2.TranslatePipe, name: "cxTranslate" }, { kind: "pipe", type: i2.CxDatePipe, name: "cxDate" }, { kind: "pipe", type: i2.UrlPipe, name: "cxUrl" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: CustomerTicketingListComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-customer-ticketing-list', template: "<ng-container *ngIf=\"tickets$ | async as ticketList; else spinner\">\n  <span class=\"cx-ticketing-list-title\">\n    <h2 class=\"cx-ticketing-list-title-text\">\n      {{ 'customerTicketingList.requestTitle' | cxTranslate }}\n      ({{ ticketList.pagination?.totalResults || 0 }})\n    </h2>\n  </span>\n  <ng-container *ngIf=\"ticketList.tickets.length > 0; else noCustomerTickets\">\n    <div class=\"cx-ticketing-list-sort top\">\n      <label class=\"cx-ticketing-list-form-group form-group\">\n        <span>\n          {{ 'customerTicketingList.sortSubtitle' | cxTranslate }}\n        </span>\n        <cx-sorting\n          [sortOptions]=\"ticketList.sorts\"\n          [sortLabels]=\"getSortLabels() | async\"\n          (sortListEvent)=\"changeSortCode($event)\"\n          [selectedOption]=\"ticketList.pagination?.sort\"\n          placeholder=\"{{ 'customerTicketingList.sortSubtitle' | cxTranslate }}\"\n          [ariaLabel]=\"'customerTicketingList.sortOrders' | cxTranslate\"\n          ariaControls=\"ticketing-list-table\"\n        ></cx-sorting>\n      </label>\n      <cx-customer-ticketing-create></cx-customer-ticketing-create>\n    </div>\n    <table\n      id=\"ticketing-list-table\"\n      class=\"table cx-ticketing-list-table\"\n      aria-hidden=\"true\"\n    >\n      <thead class=\"cx-ticketing-list-thead-mobile\">\n        <tr>\n          <th scope=\"col\">{{ 'customerTicketing.ticketId' | cxTranslate }}</th>\n          <th scope=\"col\">\n            {{ 'customerTicketingList.subject' | cxTranslate }}\n          </th>\n          <th scope=\"col\">\n            {{ 'customerTicketingList.ticketCategory' | cxTranslate }}\n          </th>\n          <th scope=\"col\">{{ 'customerTicketing.createdOn' | cxTranslate }}</th>\n          <th scope=\"col\">{{ 'customerTicketing.changedOn' | cxTranslate }}</th>\n          <th scope=\"col\">{{ 'customerTicketing.status' | cxTranslate }}</th>\n        </tr>\n      </thead>\n      <tbody>\n        <tr\n          *ngFor=\"let ticket of ticketList.tickets\"\n          (click)=\"goToTicketDetail(ticket.id)\"\n        >\n          <td class=\"cx-ticketing-list-data cx-ticketing-list-id\">\n            <div class=\"cx-ticketing-list-label\">\n              {{ 'customerTicketingList.mobile.ticketIdFull' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'supportTicketDetails',\n                  params: { ticketCode: ticket.id }\n                } | cxUrl\n              \"\n              class=\"cx-ticketing-list-value\"\n            >\n              {{ ticket.id }}\n            </a>\n          </td>\n          <td class=\"cx-ticketing-list-data\">\n            <div class=\"cx-ticketing-list-label\">\n              {{ 'customerTicketingList.subject' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'supportTicketDetails',\n                  params: { ticketCode: ticket.id }\n                } | cxUrl\n              \"\n              class=\"cx-ticketing-list-value\"\n            >\n              {{ ticket.subject }}\n            </a>\n          </td>\n          <td class=\"cx-ticketing-list-data\">\n            <div class=\"cx-ticketing-list-label\">\n              {{ 'customerTicketingList.ticketCategory' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'supportTicketDetails',\n                  params: { ticketCode: ticket.id }\n                } | cxUrl\n              \"\n              class=\"cx-ticketing-list-value\"\n            >\n              {{ ticket.ticketCategory?.name }}\n            </a>\n          </td>\n          <td class=\"cx-ticketing-list-data\">\n            <div class=\"cx-ticketing-list-label\">\n              {{ 'customerTicketing.createdOn' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'supportTicketDetails',\n                  params: { ticketCode: ticket.id }\n                } | cxUrl\n              \"\n              class=\"cx-ticketing-list-value\"\n            >\n              {{ ticket.createdAt | cxDate }}\n            </a>\n          </td>\n          <td class=\"cx-ticketing-list-data\">\n            <div class=\"cx-ticketing-list-label\">\n              {{ 'customerTicketing.changedOn' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'supportTicketDetails',\n                  params: { ticketCode: ticket.id }\n                } | cxUrl\n              \"\n              class=\"cx-ticketing-list-value\"\n            >\n              {{ ticket.modifiedAt | cxDate }}\n            </a>\n          </td>\n          <td class=\"cx-ticketing-list-data\">\n            <div class=\"cx-ticketing-list-label\">\n              {{ 'customerTicketing.status' | cxTranslate }}\n            </div>\n            <a\n              [routerLink]=\"\n                {\n                  cxRoute: 'supportTicketDetails',\n                  params: { ticketCode: ticket.id }\n                } | cxUrl\n              \"\n              class=\"cx-ticketing-list-value\"\n              [ngClass]=\"getStatusClass(ticket.status.id)\"\n            >\n              {{ ticket.status?.name }}\n            </a>\n          </td>\n        </tr>\n      </tbody>\n    </table>\n    <div class=\"cx-ticketing-list-sort bottom\">\n      <div\n        *ngIf=\"ticketList.pagination?.totalPages > 1\"\n        class=\"cx-ticketing-list-pagination\"\n      >\n        <cx-pagination\n          [pagination]=\"ticketList.pagination\"\n          (viewPageEvent)=\"pageChange($event)\"\n        ></cx-pagination>\n      </div>\n    </div>\n  </ng-container>\n  <ng-template #noCustomerTickets>\n    <cx-customer-ticketing-create></cx-customer-ticketing-create>\n    <ng-container>\n      <div class=\"text-center\">\n        <h3>{{ 'customerTicketingList.noTickets' | cxTranslate }}</h3>\n      </div>\n    </ng-container>\n  </ng-template>\n</ng-container>\n\n<ng-template #spinner>\n  <cx-spinner></cx-spinner>\n</ng-template>\n" }]
        }], ctorParameters: function () { return [{ type: i1.CustomerTicketingFacade }, { type: i2.RoutingService }, { type: i2.TranslationService }, { type: i1.CustomerTicketingConfig }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3VzdG9tZXItdGlja2V0aW5nLWxpc3QuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL2N1c3RvbWVyLXRpY2tldGluZy9jb21wb25lbnRzL2xpc3QvY3VzdG9tZXItdGlja2V0aW5nLWxpc3QvY3VzdG9tZXItdGlja2V0aW5nLWxpc3QuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL2N1c3RvbWVyLXRpY2tldGluZy9jb21wb25lbnRzL2xpc3QvY3VzdG9tZXItdGlja2V0aW5nLWxpc3QvY3VzdG9tZXItdGlja2V0aW5nLWxpc3QuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7R0FJRztBQUVILE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFTMUMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQ2xELE9BQU8sRUFBRSxhQUFhLEVBQWMsTUFBTSxNQUFNLENBQUM7QUFDakQsT0FBTyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7Ozs7Ozs7QUFNMUMsTUFBTSxPQUFPLDhCQUE4QjtJQUN6QyxZQUNZLHVCQUFnRCxFQUNoRCxjQUE4QixFQUM5QixrQkFBc0MsRUFDdEMsdUJBQWdEO1FBSGhELDRCQUF1QixHQUF2Qix1QkFBdUIsQ0FBeUI7UUFDaEQsbUJBQWMsR0FBZCxjQUFjLENBQWdCO1FBQzlCLHVCQUFrQixHQUFsQixrQkFBa0IsQ0FBb0I7UUFDdEMsNEJBQXVCLEdBQXZCLHVCQUF1QixDQUF5QjtRQUU1RCxjQUFTLEdBQ1AsSUFBSSxDQUFDLHVCQUF1QixDQUFDLGlCQUFpQixFQUFFLGdCQUFnQixJQUFJLENBQUMsQ0FBQztRQUV4RSxjQUFTLEdBQUcsU0FBUyxDQUFDO1FBQ3RCLGFBQVEsR0FBdUMsSUFBSSxDQUFDLHVCQUF1QjthQUN4RSxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQzthQUMxQixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLEdBQUcsT0FBTyxFQUFFLFVBQVUsRUFBRSxJQUFJLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBc0Q3RSxtQkFBYyxHQUFHLENBQUMsTUFBYyxFQUFVLEVBQUU7WUFDMUMsUUFBUSxNQUFNLEVBQUU7Z0JBQ2QsOEJBQWlCO2dCQUNqQjtvQkFDRSxvREFBOEI7Z0JBQ2hDO29CQUNFLGtEQUE2QjtnQkFDL0I7b0JBQ0UsT0FBTyxFQUFFLENBQUM7YUFDYjtRQUNILENBQUMsQ0FBQztJQXZFQyxDQUFDO0lBU0osZ0JBQWdCLENBQUMsUUFBNEI7UUFDM0MsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUM7WUFDckIsT0FBTyxFQUFFLHNCQUFzQjtZQUMvQixNQUFNLEVBQUUsRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFO1NBQ2pDLENBQUMsQ0FBQztJQUNMLENBQUM7SUFFRCxhQUFhO1FBQ1gsT0FBTyxhQUFhLENBQUM7WUFDbkIsSUFBSSxDQUFDLGtCQUFrQixDQUFDLFNBQVMsQ0FBQyw0QkFBNEIsQ0FBQztZQUMvRCxJQUFJLENBQUMsa0JBQWtCLENBQUMsU0FBUyxDQUFDLDZCQUE2QixDQUFDO1NBQ2pFLENBQUMsQ0FBQyxJQUFJLENBQ0wsR0FBRyxDQUFDLENBQUMsQ0FBQyxjQUFjLEVBQUUsVUFBVSxDQUFDLEVBQUUsRUFBRTtZQUNuQyxPQUFPO2dCQUNMLFVBQVUsRUFBRSxjQUFjO2dCQUMxQixNQUFNLEVBQUUsVUFBVTthQUNuQixDQUFDO1FBQ0osQ0FBQyxDQUFDLENBQ0gsQ0FBQztJQUNKLENBQUM7SUFFRCxjQUFjLENBQUMsUUFBZ0I7UUFDN0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNyQixDQUFDO0lBRUQsVUFBVSxDQUFDLElBQVk7UUFDckIsTUFBTSxnQkFBZ0IsR0FBRyxJQUFJLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN6RSxJQUFJLENBQUMsZUFBZSxDQUFDLGdCQUFnQixDQUFDLENBQUM7SUFDekMsQ0FBQztJQUVELHFCQUFxQixDQUNuQixRQUFnQixFQUNoQixXQUFtQjtRQUVuQixPQUFPO1lBQ0wsV0FBVyxFQUFFLFdBQVc7WUFDeEIsUUFBUSxFQUFFLFFBQVE7U0FDbkIsQ0FBQztJQUNKLENBQUM7SUFFTyxlQUFlLENBQUMsZ0JBR3ZCO1FBQ0MsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsdUJBQXVCLENBQUMsVUFBVSxDQUNyRCxJQUFJLENBQUMsU0FBUyxFQUNkLGdCQUFnQixDQUFDLFdBQVcsRUFDNUIsZ0JBQWdCLENBQUMsUUFBUSxDQUMxQixDQUFDO0lBQ0osQ0FBQzs7MkhBakVVLDhCQUE4QjsrR0FBOUIsOEJBQThCLGtFQ3ZCM0MsdW5NQThLQTsyRkR2SmEsOEJBQThCO2tCQUoxQyxTQUFTOytCQUNFLDRCQUE0QiIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiAyMDIzIFNBUCBTcGFydGFjdXMgdGVhbSA8c3BhcnRhY3VzLXRlYW1Ac2FwLmNvbT5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUm91dGluZ1NlcnZpY2UsIFRyYW5zbGF0aW9uU2VydmljZSB9IGZyb20gJ0BzcGFydGFjdXMvY29yZSc7XG5pbXBvcnQge1xuICBDdXN0b21lclRpY2tldGluZ0NvbmZpZyxcbiAgQ3VzdG9tZXJUaWNrZXRpbmdGYWNhZGUsXG4gIFNUQVRVUyxcbiAgVEVYVF9DT0xPUl9DTEFTUyxcbiAgVGlja2V0TGlzdCxcbn0gZnJvbSAnQHNwYXJ0YWN1cy9jdXN0b21lci10aWNrZXRpbmcvcm9vdCc7XG5pbXBvcnQgeyBJQ09OX1RZUEUgfSBmcm9tICdAc3BhcnRhY3VzL3N0b3JlZnJvbnQnO1xuaW1wb3J0IHsgY29tYmluZUxhdGVzdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgbWFwLCB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2N4LWN1c3RvbWVyLXRpY2tldGluZy1saXN0JyxcbiAgdGVtcGxhdGVVcmw6ICcuL2N1c3RvbWVyLXRpY2tldGluZy1saXN0LmNvbXBvbmVudC5odG1sJyxcbn0pXG5leHBvcnQgY2xhc3MgQ3VzdG9tZXJUaWNrZXRpbmdMaXN0Q29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIGN1c3RvbWVyVGlja2V0aW5nRmFjYWRlOiBDdXN0b21lclRpY2tldGluZ0ZhY2FkZSxcbiAgICBwcm90ZWN0ZWQgcm91dGluZ1NlcnZpY2U6IFJvdXRpbmdTZXJ2aWNlLFxuICAgIHByb3RlY3RlZCB0cmFuc2xhdGlvblNlcnZpY2U6IFRyYW5zbGF0aW9uU2VydmljZSxcbiAgICBwcm90ZWN0ZWQgY3VzdG9tZXJUaWNrZXRpbmdDb25maWc6IEN1c3RvbWVyVGlja2V0aW5nQ29uZmlnXG4gICkge31cbiAgUEFHRV9TSVpFID1cbiAgICB0aGlzLmN1c3RvbWVyVGlja2V0aW5nQ29uZmlnLmN1c3RvbWVyVGlja2V0aW5nPy5saXN0Vmlld1BhZ2VTaXplIHx8IDU7XG4gIHNvcnRUeXBlOiBzdHJpbmc7XG4gIGljb25UeXBlcyA9IElDT05fVFlQRTtcbiAgdGlja2V0cyQ6IE9ic2VydmFibGU8VGlja2V0TGlzdCB8IHVuZGVmaW5lZD4gPSB0aGlzLmN1c3RvbWVyVGlja2V0aW5nRmFjYWRlXG4gICAgLmdldFRpY2tldHModGhpcy5QQUdFX1NJWkUpXG4gICAgLnBpcGUodGFwKCh0aWNrZXRzKSA9PiAodGhpcy5zb3J0VHlwZSA9IHRpY2tldHM/LnBhZ2luYXRpb24/LnNvcnQgfHwgJycpKSk7XG5cbiAgZ29Ub1RpY2tldERldGFpbCh0aWNrZXRJZDogc3RyaW5nIHwgdW5kZWZpbmVkKTogdm9pZCB7XG4gICAgdGhpcy5yb3V0aW5nU2VydmljZS5nbyh7XG4gICAgICBjeFJvdXRlOiAnc3VwcG9ydFRpY2tldERldGFpbHMnLFxuICAgICAgcGFyYW1zOiB7IHRpY2tldENvZGU6IHRpY2tldElkIH0sXG4gICAgfSk7XG4gIH1cblxuICBnZXRTb3J0TGFiZWxzKCk6IE9ic2VydmFibGU8eyBieVRpY2tldElkOiBzdHJpbmc7IGJ5RGF0ZTogc3RyaW5nIH0+IHtcbiAgICByZXR1cm4gY29tYmluZUxhdGVzdChbXG4gICAgICB0aGlzLnRyYW5zbGF0aW9uU2VydmljZS50cmFuc2xhdGUoJ2N1c3RvbWVyVGlja2V0aW5nLnRpY2tldElkJyksXG4gICAgICB0aGlzLnRyYW5zbGF0aW9uU2VydmljZS50cmFuc2xhdGUoJ2N1c3RvbWVyVGlja2V0aW5nLmNoYW5nZWRPbicpLFxuICAgIF0pLnBpcGUoXG4gICAgICBtYXAoKFt0ZXh0QnlUaWNrZXRJZCwgdGV4dEJ5RGF0ZV0pID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBieVRpY2tldElkOiB0ZXh0QnlUaWNrZXRJZCxcbiAgICAgICAgICBieURhdGU6IHRleHRCeURhdGUsXG4gICAgICAgIH07XG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICBjaGFuZ2VTb3J0Q29kZShzb3J0Q29kZTogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5zb3J0VHlwZSA9IHNvcnRDb2RlO1xuICAgIHRoaXMucGFnZUNoYW5nZSgwKTtcbiAgfVxuXG4gIHBhZ2VDaGFuZ2UocGFnZTogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3QgdGlja2V0TGlzdFBhcmFtcyA9IHRoaXMuY3JlYXRlVGlja2V0TGlzdEV2ZW50KHRoaXMuc29ydFR5cGUsIHBhZ2UpO1xuICAgIHRoaXMuZmV0Y2hUaWNrZXRMaXN0KHRpY2tldExpc3RQYXJhbXMpO1xuICB9XG5cbiAgY3JlYXRlVGlja2V0TGlzdEV2ZW50KFxuICAgIHNvcnRDb2RlOiBzdHJpbmcsXG4gICAgY3VycmVudFBhZ2U6IG51bWJlclxuICApOiB7IGN1cnJlbnRQYWdlOiBudW1iZXI7IHNvcnRDb2RlOiBzdHJpbmcgfSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGN1cnJlbnRQYWdlOiBjdXJyZW50UGFnZSxcbiAgICAgIHNvcnRDb2RlOiBzb3J0Q29kZSxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBmZXRjaFRpY2tldExpc3QodGlja2V0TGlzdFBhcmFtczoge1xuICAgIHNvcnRDb2RlOiBzdHJpbmc7XG4gICAgY3VycmVudFBhZ2U6IG51bWJlcjtcbiAgfSk6IHZvaWQge1xuICAgIHRoaXMudGlja2V0cyQgPSB0aGlzLmN1c3RvbWVyVGlja2V0aW5nRmFjYWRlLmdldFRpY2tldHMoXG4gICAgICB0aGlzLlBBR0VfU0laRSxcbiAgICAgIHRpY2tldExpc3RQYXJhbXMuY3VycmVudFBhZ2UsXG4gICAgICB0aWNrZXRMaXN0UGFyYW1zLnNvcnRDb2RlXG4gICAgKTtcbiAgfVxuXG4gIGdldFN0YXR1c0NsYXNzID0gKHN0YXR1czogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgICBzd2l0Y2ggKHN0YXR1cykge1xuICAgICAgY2FzZSBTVEFUVVMuT1BFTjpcbiAgICAgIGNhc2UgU1RBVFVTLklOUFJPQ0VTUzpcbiAgICAgICAgcmV0dXJuIFRFWFRfQ09MT1JfQ0xBU1MuR1JFRU47XG4gICAgICBjYXNlIFNUQVRVUy5DTE9TRUQ6XG4gICAgICAgIHJldHVybiBURVhUX0NPTE9SX0NMQVNTLkdSRVk7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICB9O1xufVxuIiwiPG5nLWNvbnRhaW5lciAqbmdJZj1cInRpY2tldHMkIHwgYXN5bmMgYXMgdGlja2V0TGlzdDsgZWxzZSBzcGlubmVyXCI+XG4gIDxzcGFuIGNsYXNzPVwiY3gtdGlja2V0aW5nLWxpc3QtdGl0bGVcIj5cbiAgICA8aDIgY2xhc3M9XCJjeC10aWNrZXRpbmctbGlzdC10aXRsZS10ZXh0XCI+XG4gICAgICB7eyAnY3VzdG9tZXJUaWNrZXRpbmdMaXN0LnJlcXVlc3RUaXRsZScgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgKHt7IHRpY2tldExpc3QucGFnaW5hdGlvbj8udG90YWxSZXN1bHRzIHx8IDAgfX0pXG4gICAgPC9oMj5cbiAgPC9zcGFuPlxuICA8bmctY29udGFpbmVyICpuZ0lmPVwidGlja2V0TGlzdC50aWNrZXRzLmxlbmd0aCA+IDA7IGVsc2Ugbm9DdXN0b21lclRpY2tldHNcIj5cbiAgICA8ZGl2IGNsYXNzPVwiY3gtdGlja2V0aW5nLWxpc3Qtc29ydCB0b3BcIj5cbiAgICAgIDxsYWJlbCBjbGFzcz1cImN4LXRpY2tldGluZy1saXN0LWZvcm0tZ3JvdXAgZm9ybS1ncm91cFwiPlxuICAgICAgICA8c3Bhbj5cbiAgICAgICAgICB7eyAnY3VzdG9tZXJUaWNrZXRpbmdMaXN0LnNvcnRTdWJ0aXRsZScgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgICA8L3NwYW4+XG4gICAgICAgIDxjeC1zb3J0aW5nXG4gICAgICAgICAgW3NvcnRPcHRpb25zXT1cInRpY2tldExpc3Quc29ydHNcIlxuICAgICAgICAgIFtzb3J0TGFiZWxzXT1cImdldFNvcnRMYWJlbHMoKSB8IGFzeW5jXCJcbiAgICAgICAgICAoc29ydExpc3RFdmVudCk9XCJjaGFuZ2VTb3J0Q29kZSgkZXZlbnQpXCJcbiAgICAgICAgICBbc2VsZWN0ZWRPcHRpb25dPVwidGlja2V0TGlzdC5wYWdpbmF0aW9uPy5zb3J0XCJcbiAgICAgICAgICBwbGFjZWhvbGRlcj1cInt7ICdjdXN0b21lclRpY2tldGluZ0xpc3Quc29ydFN1YnRpdGxlJyB8IGN4VHJhbnNsYXRlIH19XCJcbiAgICAgICAgICBbYXJpYUxhYmVsXT1cIidjdXN0b21lclRpY2tldGluZ0xpc3Quc29ydE9yZGVycycgfCBjeFRyYW5zbGF0ZVwiXG4gICAgICAgICAgYXJpYUNvbnRyb2xzPVwidGlja2V0aW5nLWxpc3QtdGFibGVcIlxuICAgICAgICA+PC9jeC1zb3J0aW5nPlxuICAgICAgPC9sYWJlbD5cbiAgICAgIDxjeC1jdXN0b21lci10aWNrZXRpbmctY3JlYXRlPjwvY3gtY3VzdG9tZXItdGlja2V0aW5nLWNyZWF0ZT5cbiAgICA8L2Rpdj5cbiAgICA8dGFibGVcbiAgICAgIGlkPVwidGlja2V0aW5nLWxpc3QtdGFibGVcIlxuICAgICAgY2xhc3M9XCJ0YWJsZSBjeC10aWNrZXRpbmctbGlzdC10YWJsZVwiXG4gICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgID5cbiAgICAgIDx0aGVhZCBjbGFzcz1cImN4LXRpY2tldGluZy1saXN0LXRoZWFkLW1vYmlsZVwiPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+e3sgJ2N1c3RvbWVyVGlja2V0aW5nLnRpY2tldElkJyB8IGN4VHJhbnNsYXRlIH19PC90aD5cbiAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj5cbiAgICAgICAgICAgIHt7ICdjdXN0b21lclRpY2tldGluZ0xpc3Quc3ViamVjdCcgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgPHRoIHNjb3BlPVwiY29sXCI+XG4gICAgICAgICAgICB7eyAnY3VzdG9tZXJUaWNrZXRpbmdMaXN0LnRpY2tldENhdGVnb3J5JyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgICAgPC90aD5cbiAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj57eyAnY3VzdG9tZXJUaWNrZXRpbmcuY3JlYXRlZE9uJyB8IGN4VHJhbnNsYXRlIH19PC90aD5cbiAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj57eyAnY3VzdG9tZXJUaWNrZXRpbmcuY2hhbmdlZE9uJyB8IGN4VHJhbnNsYXRlIH19PC90aD5cbiAgICAgICAgICA8dGggc2NvcGU9XCJjb2xcIj57eyAnY3VzdG9tZXJUaWNrZXRpbmcuc3RhdHVzJyB8IGN4VHJhbnNsYXRlIH19PC90aD5cbiAgICAgICAgPC90cj5cbiAgICAgIDwvdGhlYWQ+XG4gICAgICA8dGJvZHk+XG4gICAgICAgIDx0clxuICAgICAgICAgICpuZ0Zvcj1cImxldCB0aWNrZXQgb2YgdGlja2V0TGlzdC50aWNrZXRzXCJcbiAgICAgICAgICAoY2xpY2spPVwiZ29Ub1RpY2tldERldGFpbCh0aWNrZXQuaWQpXCJcbiAgICAgICAgPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cImN4LXRpY2tldGluZy1saXN0LWRhdGEgY3gtdGlja2V0aW5nLWxpc3QtaWRcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeC10aWNrZXRpbmctbGlzdC1sYWJlbFwiPlxuICAgICAgICAgICAgICB7eyAnY3VzdG9tZXJUaWNrZXRpbmdMaXN0Lm1vYmlsZS50aWNrZXRJZEZ1bGwnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGFcbiAgICAgICAgICAgICAgW3JvdXRlckxpbmtdPVwiXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgY3hSb3V0ZTogJ3N1cHBvcnRUaWNrZXREZXRhaWxzJyxcbiAgICAgICAgICAgICAgICAgIHBhcmFtczogeyB0aWNrZXRDb2RlOiB0aWNrZXQuaWQgfVxuICAgICAgICAgICAgICAgIH0gfCBjeFVybFxuICAgICAgICAgICAgICBcIlxuICAgICAgICAgICAgICBjbGFzcz1cImN4LXRpY2tldGluZy1saXN0LXZhbHVlXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3sgdGlja2V0LmlkIH19XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJjeC10aWNrZXRpbmctbGlzdC1kYXRhXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtdGlja2V0aW5nLWxpc3QtbGFiZWxcIj5cbiAgICAgICAgICAgICAge3sgJ2N1c3RvbWVyVGlja2V0aW5nTGlzdC5zdWJqZWN0JyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgIFtyb3V0ZXJMaW5rXT1cIlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGN4Um91dGU6ICdzdXBwb3J0VGlja2V0RGV0YWlscycsXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IHsgdGlja2V0Q29kZTogdGlja2V0LmlkIH1cbiAgICAgICAgICAgICAgICB9IHwgY3hVcmxcbiAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJjeC10aWNrZXRpbmctbGlzdC12YWx1ZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt7IHRpY2tldC5zdWJqZWN0IH19XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJjeC10aWNrZXRpbmctbGlzdC1kYXRhXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtdGlja2V0aW5nLWxpc3QtbGFiZWxcIj5cbiAgICAgICAgICAgICAge3sgJ2N1c3RvbWVyVGlja2V0aW5nTGlzdC50aWNrZXRDYXRlZ29yeScgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8YVxuICAgICAgICAgICAgICBbcm91dGVyTGlua109XCJcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjeFJvdXRlOiAnc3VwcG9ydFRpY2tldERldGFpbHMnLFxuICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7IHRpY2tldENvZGU6IHRpY2tldC5pZCB9XG4gICAgICAgICAgICAgICAgfSB8IGN4VXJsXG4gICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgIGNsYXNzPVwiY3gtdGlja2V0aW5nLWxpc3QtdmFsdWVcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7eyB0aWNrZXQudGlja2V0Q2F0ZWdvcnk/Lm5hbWUgfX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cImN4LXRpY2tldGluZy1saXN0LWRhdGFcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeC10aWNrZXRpbmctbGlzdC1sYWJlbFwiPlxuICAgICAgICAgICAgICB7eyAnY3VzdG9tZXJUaWNrZXRpbmcuY3JlYXRlZE9uJyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgIFtyb3V0ZXJMaW5rXT1cIlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGN4Um91dGU6ICdzdXBwb3J0VGlja2V0RGV0YWlscycsXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IHsgdGlja2V0Q29kZTogdGlja2V0LmlkIH1cbiAgICAgICAgICAgICAgICB9IHwgY3hVcmxcbiAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJjeC10aWNrZXRpbmctbGlzdC12YWx1ZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt7IHRpY2tldC5jcmVhdGVkQXQgfCBjeERhdGUgfX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICAgIDx0ZCBjbGFzcz1cImN4LXRpY2tldGluZy1saXN0LWRhdGFcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeC10aWNrZXRpbmctbGlzdC1sYWJlbFwiPlxuICAgICAgICAgICAgICB7eyAnY3VzdG9tZXJUaWNrZXRpbmcuY2hhbmdlZE9uJyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgIFtyb3V0ZXJMaW5rXT1cIlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGN4Um91dGU6ICdzdXBwb3J0VGlja2V0RGV0YWlscycsXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IHsgdGlja2V0Q29kZTogdGlja2V0LmlkIH1cbiAgICAgICAgICAgICAgICB9IHwgY3hVcmxcbiAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJjeC10aWNrZXRpbmctbGlzdC12YWx1ZVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt7IHRpY2tldC5tb2RpZmllZEF0IHwgY3hEYXRlIH19XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8dGQgY2xhc3M9XCJjeC10aWNrZXRpbmctbGlzdC1kYXRhXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtdGlja2V0aW5nLWxpc3QtbGFiZWxcIj5cbiAgICAgICAgICAgICAge3sgJ2N1c3RvbWVyVGlja2V0aW5nLnN0YXR1cycgfCBjeFRyYW5zbGF0ZSB9fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8YVxuICAgICAgICAgICAgICBbcm91dGVyTGlua109XCJcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBjeFJvdXRlOiAnc3VwcG9ydFRpY2tldERldGFpbHMnLFxuICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7IHRpY2tldENvZGU6IHRpY2tldC5pZCB9XG4gICAgICAgICAgICAgICAgfSB8IGN4VXJsXG4gICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgIGNsYXNzPVwiY3gtdGlja2V0aW5nLWxpc3QtdmFsdWVcIlxuICAgICAgICAgICAgICBbbmdDbGFzc109XCJnZXRTdGF0dXNDbGFzcyh0aWNrZXQuc3RhdHVzLmlkKVwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt7IHRpY2tldC5zdGF0dXM/Lm5hbWUgfX1cbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgPC90Ym9keT5cbiAgICA8L3RhYmxlPlxuICAgIDxkaXYgY2xhc3M9XCJjeC10aWNrZXRpbmctbGlzdC1zb3J0IGJvdHRvbVwiPlxuICAgICAgPGRpdlxuICAgICAgICAqbmdJZj1cInRpY2tldExpc3QucGFnaW5hdGlvbj8udG90YWxQYWdlcyA+IDFcIlxuICAgICAgICBjbGFzcz1cImN4LXRpY2tldGluZy1saXN0LXBhZ2luYXRpb25cIlxuICAgICAgPlxuICAgICAgICA8Y3gtcGFnaW5hdGlvblxuICAgICAgICAgIFtwYWdpbmF0aW9uXT1cInRpY2tldExpc3QucGFnaW5hdGlvblwiXG4gICAgICAgICAgKHZpZXdQYWdlRXZlbnQpPVwicGFnZUNoYW5nZSgkZXZlbnQpXCJcbiAgICAgICAgPjwvY3gtcGFnaW5hdGlvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L25nLWNvbnRhaW5lcj5cbiAgPG5nLXRlbXBsYXRlICNub0N1c3RvbWVyVGlja2V0cz5cbiAgICA8Y3gtY3VzdG9tZXItdGlja2V0aW5nLWNyZWF0ZT48L2N4LWN1c3RvbWVyLXRpY2tldGluZy1jcmVhdGU+XG4gICAgPG5nLWNvbnRhaW5lcj5cbiAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICA8aDM+e3sgJ2N1c3RvbWVyVGlja2V0aW5nTGlzdC5ub1RpY2tldHMnIHwgY3hUcmFuc2xhdGUgfX08L2gzPlxuICAgICAgPC9kaXY+XG4gICAgPC9uZy1jb250YWluZXI+XG4gIDwvbmctdGVtcGxhdGU+XG48L25nLWNvbnRhaW5lcj5cblxuPG5nLXRlbXBsYXRlICNzcGlubmVyPlxuICA8Y3gtc3Bpbm5lcj48L2N4LXNwaW5uZXI+XG48L25nLXRlbXBsYXRlPlxuIl19