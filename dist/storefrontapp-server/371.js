"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=371,exports.ids=[371],exports.modules={42241:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{As:()=>SortOrder,CM:()=>byString,Cb:()=>property,Cq:()=>CUSTOMER_SEARCH_PAGE_NORMALIZER,GP:()=>itemsWith,HD:()=>isString,PL:()=>ArgsPipe,QI:()=>whenType,T2:()=>byNullish,bi:()=>byBoolean,bz:()=>CUSTOMER_LISTS_NORMALIZER,d6:()=>ArgsModule,dx:()=>AsmCoreModule,gE:()=>AsmService,gS:()=>AsmAdapter,hj:()=>isNumber,jn:()=>isBoolean,n7:()=>byComparison});var _angular_common__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(89318),_angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(40305),_spartacus_core__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(46167),_spartacus_asm_root__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(97283),rxjs_operators__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(86466),rxjs_operators__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(95426),rxjs_operators__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(26942),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(63714),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2155),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(2026),_spartacus_user_account_root__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(89693),_ngrx_store__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(91464),_ngrx_effects__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(48030),rxjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(95202),rxjs__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(31765),rxjs__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(20085);class AsmAdapter{}__name(AsmAdapter,"AsmAdapter");class AsmConnector{constructor(asmAdapter){this.asmAdapter=asmAdapter}customerSearch(options){return this.asmAdapter.customerSearch(options)}customerLists(){return this.asmAdapter.customerLists()}bindCart(options){return this.asmAdapter.bindCart(options)}createCustomer(user){return this.asmAdapter.createCustomer(user)}}__name(AsmConnector,"AsmConnector"),AsmConnector.\u0275fac=__name(function(t){return new(t||AsmConnector)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(AsmAdapter))},"AsmConnector_Factory"),AsmConnector.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:AsmConnector,factory:AsmConnector.\u0275fac,providedIn:"root"});const CUSTOMER_SEARCH_PAGE_NORMALIZER=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("CustomerSearchPageNormalizer"),CUSTOMER_LISTS_NORMALIZER=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("CustomerListsNormalizer");class AsmBindCartService{constructor(commandService,asmConnector,userAccountFacade){this.commandService=commandService,this.asmConnector=asmConnector,this.userAccountFacade=userAccountFacade,this.bindCartCommand$=this.commandService.create(cartId=>this.userAccountFacade.get().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.U)(user=>{if(user?.uid)return user.uid;throw new Error("No identifier for authenticated user found.")}),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_2__.q)(1),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_3__.b)(customerId=>this.asmConnector.bindCart({cartId,customerId}))))}bindCart(cartId){return this.bindCartCommand$.execute(cartId)}}__name(AsmBindCartService,"AsmBindCartService"),AsmBindCartService.\u0275fac=__name(function(t){return new(t||AsmBindCartService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.VDr),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(AsmConnector),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_spartacus_user_account_root__WEBPACK_IMPORTED_MODULE_5__.gf))},"AsmBindCartService_Factory"),AsmBindCartService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:AsmBindCartService,factory:AsmBindCartService.\u0275fac});class AsmCreateCustomerService{constructor(asmConnector,command){this.asmConnector=asmConnector,this.command=command,this.createCustomerCommand=this.command.create(({user})=>this.asmConnector.createCustomer(user))}createCustomer(user){return this.createCustomerCommand.execute({user})}}__name(AsmCreateCustomerService,"AsmCreateCustomerService"),AsmCreateCustomerService.\u0275fac=__name(function(t){return new(t||AsmCreateCustomerService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(AsmConnector),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.VDr))},"AsmCreateCustomerService_Factory"),AsmCreateCustomerService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:AsmCreateCustomerService,factory:AsmCreateCustomerService.\u0275fac});const ASM_UI_UPDATE="[Asm] UI Update";class AsmUiUpdate{constructor(payload){this.payload=payload,this.type=ASM_UI_UPDATE}}__name(AsmUiUpdate,"AsmUiUpdate");const CUSTOMER_SEARCH_DATA="[asm] Customer search data",CUSTOMER_LIST_CUSTOMERS_SEARCH_DATA="[asm] Customer list customers search data";class CustomerSearch extends _spartacus_core__WEBPACK_IMPORTED_MODULE_4__.kPG.LoaderLoadAction{constructor(payload){super(CUSTOMER_SEARCH_DATA),this.payload=payload,this.type="[Asm] Customer Search"}}__name(CustomerSearch,"CustomerSearch");class CustomerSearchFail extends _spartacus_core__WEBPACK_IMPORTED_MODULE_4__.kPG.LoaderFailAction{constructor(payload){super(CUSTOMER_SEARCH_DATA),this.payload=payload,this.type="[Asm] Customer Search Fail"}}__name(CustomerSearchFail,"CustomerSearchFail");class CustomerSearchSuccess extends _spartacus_core__WEBPACK_IMPORTED_MODULE_4__.kPG.LoaderSuccessAction{constructor(payload){super(CUSTOMER_SEARCH_DATA),this.payload=payload,this.type="[Asm] Customer Search Success"}}__name(CustomerSearchSuccess,"CustomerSearchSuccess");class CustomerSearchReset extends _spartacus_core__WEBPACK_IMPORTED_MODULE_4__.kPG.LoaderResetAction{constructor(){super(CUSTOMER_SEARCH_DATA),this.type="[Asm] Customer Search Reset"}}__name(CustomerSearchReset,"CustomerSearchReset");class CustomerListCustomersSearch extends _spartacus_core__WEBPACK_IMPORTED_MODULE_4__.kPG.LoaderLoadAction{constructor(payload){super(CUSTOMER_LIST_CUSTOMERS_SEARCH_DATA),this.payload=payload,this.type="[Asm] Customer List Customers Search"}}__name(CustomerListCustomersSearch,"CustomerListCustomersSearch");class CustomerListCustomersSearchFail extends _spartacus_core__WEBPACK_IMPORTED_MODULE_4__.kPG.LoaderFailAction{constructor(payload){super(CUSTOMER_LIST_CUSTOMERS_SEARCH_DATA),this.payload=payload,this.type="[Asm] Customer List Customers Search Fail"}}__name(CustomerListCustomersSearchFail,"CustomerListCustomersSearchFail");class CustomerListCustomersSearchSuccess extends _spartacus_core__WEBPACK_IMPORTED_MODULE_4__.kPG.LoaderSuccessAction{constructor(payload){super(CUSTOMER_LIST_CUSTOMERS_SEARCH_DATA),this.payload=payload,this.type="[Asm] Customer List Customers Search Success"}}__name(CustomerListCustomersSearchSuccess,"CustomerListCustomersSearchSuccess");class CustomerListCustomersSearchReset extends _spartacus_core__WEBPACK_IMPORTED_MODULE_4__.kPG.LoaderResetAction{constructor(){super(CUSTOMER_LIST_CUSTOMERS_SEARCH_DATA),this.type="[Asm] Customer List Customers Search Reset"}}__name(CustomerListCustomersSearchReset,"CustomerListCustomersSearchReset");const LOGOUT_CUSTOMER_SUPPORT_AGENT="[Auth] Logout Customer Support Agent";class LogoutCustomerSupportAgent{constructor(){this.type=LOGOUT_CUSTOMER_SUPPORT_AGENT}}__name(LogoutCustomerSupportAgent,"LogoutCustomerSupportAgent");class CustomerEffects{constructor(actions$,asmConnector){this.actions$=actions$,this.asmConnector=asmConnector,this.logger=(0,_angular_core__WEBPACK_IMPORTED_MODULE_0__.f3M)(_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.mQy),this.customerSearch$=(0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_6__.GW)(()=>this.actions$.pipe((0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_6__.l4)("[Asm] Customer Search"),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.U)(action=>action.payload),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.w)(options=>this.asmConnector.customerSearch(options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.U)(customerSearchResults=>new CustomerSearchSuccess(customerSearchResults)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.K)(error=>(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.of)(new CustomerSearchFail((0,_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.cxH)(error,this.logger)))))))),this.customerListCustomersSearch$=(0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_6__.GW)(()=>this.actions$.pipe((0,_ngrx_effects__WEBPACK_IMPORTED_MODULE_6__.l4)("[Asm] Customer List Customers Search"),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.U)(action=>action.payload),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.w)(options=>this.asmConnector.customerSearch(options).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.U)(customerListCustomersSearchResults=>new CustomerListCustomersSearchSuccess(customerListCustomersSearchResults)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.K)(error=>(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.of)(new CustomerListCustomersSearchFail((0,_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.cxH)(error,this.logger))))))))}}__name(CustomerEffects,"CustomerEffects"),CustomerEffects.\u0275fac=__name(function(t){return new(t||CustomerEffects)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_effects__WEBPACK_IMPORTED_MODULE_6__.eX),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(AsmConnector))},"CustomerEffects_Factory"),CustomerEffects.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:CustomerEffects,factory:CustomerEffects.\u0275fac});const effects=[CustomerEffects],initialState={collapsed:!1};function reducer(state=initialState,action){return action.type===ASM_UI_UPDATE?{...state,...action.payload}:state}function getReducers(){return{customerSearchResult:_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.kPG.loaderReducer(CUSTOMER_SEARCH_DATA),customerListCustomersSearchResult:_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.kPG.loaderReducer(CUSTOMER_LIST_CUSTOMERS_SEARCH_DATA),asmUi:reducer}}__name(reducer,"reducer"),__name(getReducers,"getReducers");const reducerToken=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("AsmReducers"),reducerProvider={provide:reducerToken,useFactory:getReducers};function clearCustomerSupportAgentAsmState(reducer2){return function(state,action){return action.type===LOGOUT_CUSTOMER_SUPPORT_AGENT&&(state={...state,customerSearchResult:{}}),reducer2(state,action)}}__name(clearCustomerSupportAgentAsmState,"clearCustomerSupportAgentAsmState");const metaReducers=[clearCustomerSupportAgentAsmState],getAsmState=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.ZF)("asm"),getAsmUi=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.P1)(getAsmState,state=>state.asmUi),getCustomerSearchResultsLoaderState=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.P1)(getAsmState,state=>state.customerSearchResult),getCustomerSearchResults=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.P1)(getCustomerSearchResultsLoaderState,state=>_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.kPG.loaderValueSelector(state)),getCustomerSearchResultsLoading=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.P1)(getCustomerSearchResultsLoaderState,state=>_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.kPG.loaderLoadingSelector(state)),getCustomerListCustomersSearchResultsLoaderState=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.P1)(getAsmState,state=>state.customerListCustomersSearchResult),getCustomerListCustomersSearchResults=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.P1)(getCustomerListCustomersSearchResultsLoaderState,state=>_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.kPG.loaderValueSelector(state)),getCustomerListCustomersSearchResultsLoading=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.P1)(getCustomerListCustomersSearchResultsLoaderState,state=>_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.kPG.loaderLoadingSelector(state)),getCustomerListCustomersSearchResultsError=(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.P1)(getCustomerListCustomersSearchResultsLoaderState,state=>_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.kPG.loaderErrorSelector(state));class AsmCustomerListService{constructor(queryService,asmConnector,store){this.queryService=queryService,this.asmConnector=asmConnector,this.store=store,this.customerListQuery$=this.queryService.create(()=>this.asmConnector.customerLists(),{reloadOn:void 0,resetOn:void 0})}getCustomerLists(){return this.customerListQuery$.get()}getCustomerListsState(){return this.customerListQuery$.getState()}customerListCustomersSearch(options){this.store.dispatch(new CustomerListCustomersSearch(options))}getCustomerListCustomersSearchResults(){return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.Ys)(getCustomerListCustomersSearchResults))}getCustomerListCustomersSearchResultsLoading(){return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.Ys)(getCustomerListCustomersSearchResultsLoading))}customerListCustomersSearchReset(){this.store.dispatch(new CustomerListCustomersSearchReset)}getCustomerListCustomersSearchResultsError(){return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.Ys)(getCustomerListCustomersSearchResultsError))}}__name(AsmCustomerListService,"AsmCustomerListService"),AsmCustomerListService.\u0275fac=__name(function(t){return new(t||AsmCustomerListService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_spartacus_core__WEBPACK_IMPORTED_MODULE_4__._7J),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(AsmConnector),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.yh))},"AsmCustomerListService_Factory"),AsmCustomerListService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:AsmCustomerListService,factory:AsmCustomerListService.\u0275fac});const facadeProviders=[AsmCustomerListService,{provide:_spartacus_asm_root__WEBPACK_IMPORTED_MODULE_11__.AH,useExisting:AsmCustomerListService},AsmBindCartService,{provide:_spartacus_asm_root__WEBPACK_IMPORTED_MODULE_11__.AE,useExisting:AsmBindCartService},AsmCreateCustomerService,{provide:_spartacus_asm_root__WEBPACK_IMPORTED_MODULE_11__.Jf,useExisting:AsmCreateCustomerService}];class AsmStatePersistenceService{constructor(statePersistenceService,store,authStorageService){this.statePersistenceService=statePersistenceService,this.store=store,this.authStorageService=authStorageService,this.subscription=new rxjs__WEBPACK_IMPORTED_MODULE_12__.w,this.key="asm"}initSync(){this.subscription.add(this.statePersistenceService.syncWithStorage({key:this.key,state$:this.getAsmState(),onRead:state=>this.onRead(state)}))}getAsmState(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_13__.aj)([this.store.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.h)(store=>!!store.asm),(0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.Ys)(getAsmUi)),(0,rxjs__WEBPACK_IMPORTED_MODULE_9__.of)(this.authStorageService.getEmulatedUserToken()),this.authStorageService.getTokenTarget()]).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_1__.U)(([ui,emulatedUserToken,tokenTarget])=>{let emulatedToken=emulatedUserToken;return emulatedToken&&(emulatedToken={...emulatedUserToken},delete emulatedToken.refresh_token),{ui,emulatedUserToken:emulatedToken,tokenTarget}}))}onRead(state){state&&(state.ui&&this.store.dispatch(new AsmUiUpdate(state.ui)),state.emulatedUserToken&&this.authStorageService.setEmulatedUserToken(state.emulatedUserToken),state.tokenTarget&&this.authStorageService.setTokenTarget(state.tokenTarget))}ngOnDestroy(){this.subscription.unsubscribe()}}__name(AsmStatePersistenceService,"AsmStatePersistenceService"),AsmStatePersistenceService.\u0275fac=__name(function(t){return new(t||AsmStatePersistenceService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.WBb),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.yh),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_spartacus_asm_root__WEBPACK_IMPORTED_MODULE_11__.JW))},"AsmStatePersistenceService_Factory"),AsmStatePersistenceService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:AsmStatePersistenceService,factory:AsmStatePersistenceService.\u0275fac,providedIn:"root"});class AsmStoreModule{}function asmStatePersistenceFactory(asmStatePersistenceService){return __name(()=>asmStatePersistenceService.initSync(),"result")}__name(AsmStoreModule,"AsmStoreModule"),AsmStoreModule.\u0275fac=__name(function(t){return new(t||AsmStoreModule)},"AsmStoreModule_Factory"),AsmStoreModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:AsmStoreModule}),AsmStoreModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({providers:[reducerProvider],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.ez,_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.vUS,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.Aw.forFeature("asm",reducerToken,{metaReducers}),_ngrx_effects__WEBPACK_IMPORTED_MODULE_6__.sQ.forFeature(effects)]}),__name(asmStatePersistenceFactory,"asmStatePersistenceFactory");class AsmCoreModule{}__name(AsmCoreModule,"AsmCoreModule"),AsmCoreModule.\u0275fac=__name(function(t){return new(t||AsmCoreModule)},"AsmCoreModule_Factory"),AsmCoreModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:AsmCoreModule}),AsmCoreModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({providers:[AsmConnector,{provide:_spartacus_core__WEBPACK_IMPORTED_MODULE_4__.z4I,useFactory:asmStatePersistenceFactory,deps:[AsmStatePersistenceService],multi:!0},...facadeProviders],imports:[_angular_common__WEBPACK_IMPORTED_MODULE_15__.ez,AsmStoreModule]});class AsmService{constructor(store){this.store=store}customerSearch(options){this.store.dispatch(new CustomerSearch(options))}customerSearchReset(){this.store.dispatch(new CustomerSearchReset)}getCustomerSearchResults(){return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.Ys)(getCustomerSearchResults))}getCustomerSearchResultsLoading(){return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.Ys)(getCustomerSearchResultsLoading))}updateAsmUiState(asmUi){this.store.dispatch(new AsmUiUpdate(asmUi))}getAsmUiState(){return this.store.pipe((0,_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.Ys)(getAsmUi))}}__name(AsmService,"AsmService"),AsmService.\u0275fac=__name(function(t){return new(t||AsmService)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_10__.yh))},"AsmService_Factory"),AsmService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:AsmService,factory:AsmService.\u0275fac,providedIn:"root"});class ArgsPipe{transform(projectionFunction,...args){return projectionFunction(...args)}}__name(ArgsPipe,"ArgsPipe"),ArgsPipe.\u0275fac=__name(function(t){return new(t||ArgsPipe)},"ArgsPipe_Factory"),ArgsPipe.\u0275pipe=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yjl({name:"cxArgs",type:ArgsPipe,pure:!0});class ArgsModule{}var SortOrder,SortOrder2;function byBoolean(ordering=SortOrder.ASC){return(a,b)=>a===b?0:(!0===a?-1:1)*ordering}__name(ArgsModule,"ArgsModule"),ArgsModule.\u0275fac=__name(function(t){return new(t||ArgsModule)},"ArgsModule_Factory"),ArgsModule.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:ArgsModule}),ArgsModule.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),(SortOrder2=SortOrder||(SortOrder={}))[SortOrder2.ASC=1]="ASC",SortOrder2[SortOrder2.DESC=-1]="DESC",__name(byBoolean,"byBoolean");byBoolean(SortOrder.ASC);function byComparison(ordering=SortOrder.ASC){return(a,b)=>a===b?0:(a<b?-1:1)*ordering}__name(byComparison,"byComparison");byComparison(SortOrder.ASC);function byNullish(ordering=SortOrder.ASC){return(a,b)=>{const aNullish=null==a;return aNullish===(null==b)?0:(aNullish?-1:1)*ordering}}__name(byNullish,"byNullish");byNullish(SortOrder.ASC),byNullish(SortOrder.DESC);function byNumber(ordering=SortOrder.ASC){return(a,b)=>a===b?0:(a-b<0?-1:1)*ordering}__name(byNumber,"byNumber");byNumber(SortOrder.ASC),byNumber(SortOrder.DESC);function byString(ordering=SortOrder.ASC,locales,opts){return(a,b)=>(a??"").localeCompare(b??"",locales,opts)*ordering}__name(byString,"byString");byString(SortOrder.ASC);function itemsWith(...fns){return(a,b)=>{for(const fn of fns){const result=fn(a,b);if(0!==result)return result}return 0}}__name(itemsWith,"itemsWith");function property(prop1,prop2OrComparator,comparator){if("function"==typeof prop2OrComparator)return(a,b)=>prop2OrComparator(a[prop1],b[prop1]);if(comparator)return(a,b)=>comparator(a[prop1][prop2OrComparator],b[prop1][prop2OrComparator]);throw new Error("No comparator provided")}__name(property,"property");const isString=__name(x=>"string"==typeof x,"isString"),isNumber=__name(x=>"number"==typeof x,"isNumber"),isBoolean=__name(x=>"boolean"==typeof x,"isBoolean");function whenType(typeGuard,comparator){return(a,b)=>typeGuard(a)&&typeGuard(b)?comparator(a,b):0}__name(whenType,"whenType")},93371:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{AsmModule:()=>AsmModule});var core=__webpack_require__(40305),spartacus_storefront=__webpack_require__(25907),spartacus_core=__webpack_require__(46167),fesm2020_forms=__webpack_require__(43070),BehaviorSubject=__webpack_require__(60403),Subscription=__webpack_require__(31765),combineLatest=__webpack_require__(20085),iif=__webpack_require__(36293),defer=__webpack_require__(88673),empty=__webpack_require__(14614),of=__webpack_require__(95202),never=__webpack_require__(61275),take=__webpack_require__(95426),map=__webpack_require__(86466),shareReplay=__webpack_require__(21753),filter=__webpack_require__(2026),tap=__webpack_require__(85171),concatMap=__webpack_require__(26942),finalize=__webpack_require__(33970),first=__webpack_require__(54473),debounceTime=__webpack_require__(86797),distinctUntilChanged=__webpack_require__(33029),switchMap=__webpack_require__(63714),spartacus_cart_saved_cart_root=__webpack_require__(96e3),common=__webpack_require__(89318),spartacus_cart_base_root=__webpack_require__(638),spartacus_asm_root=__webpack_require__(97283),spartacus_asm_customer_360_root=__webpack_require__(63035),ng_select_ng_select=__webpack_require__(80060),spartacus_asm_core=__webpack_require__(42241),spartacus_user_account_root=__webpack_require__(89693);function AsmSaveCartDialogComponent_ng_container_7_cx_message_2_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.TgZ(0,"cx-message",16),core.NdJ("closeMessage",__name(function(){core.CHM(_r5);const ctx_r4=core.oxw(2);return core.KtG(ctx_r4.closeDialogAlert())},"AsmSaveCartDialogComponent_ng_container_7_cx_message_2_Template_cx_message_closeMessage_0_listener")),core.ALo(1,"cxTranslate"),core.qZA()}if(2&rf){const ctx_r3=core.oxw(2);core.Q6J("text",core.lcZ(1,2,"asm.saveCart.dialog.saveInfo"))("type",ctx_r3.globalMessageType.MSG_TYPE_INFO)}}function AsmSaveCartDialogComponent_ng_container_7_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"div",14),core.YNc(2,AsmSaveCartDialogComponent_ng_container_7_cx_message_2_Template,2,4,"cx-message",15),core.ALo(3,"async"),core.qZA(),core.BQk()),2&rf){const ctx_r0=core.oxw();core.xp6(2),core.Q6J("ngIf",core.lcZ(3,1,ctx_r0.showDialogAlert$))}}function AsmSaveCartDialogComponent_ng_template_8_cx_message_1_Template(rf,ctx){if(1&rf){const _r8=core.EpF();core.TgZ(0,"cx-message",16),core.NdJ("closeMessage",__name(function(){core.CHM(_r8);const ctx_r7=core.oxw(2);return core.KtG(ctx_r7.closeDialogAlert())},"AsmSaveCartDialogComponent_ng_template_8_cx_message_1_Template_cx_message_closeMessage_0_listener")),core.ALo(1,"cxTranslate"),core.qZA()}if(2&rf){const ctx_r6=core.oxw(2);core.Q6J("text",core.lcZ(1,2,"asm.saveCart.dialog.disableInfo"))("type",ctx_r6.globalMessageType.MSG_TYPE_WARNING)}}function AsmSaveCartDialogComponent_ng_template_8_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",14),core.YNc(1,AsmSaveCartDialogComponent_ng_template_8_cx_message_1_Template,2,4,"cx-message",15),core.ALo(2,"async"),core.qZA()),2&rf){const ctx_r2=core.oxw();core.xp6(1),core.Q6J("ngIf",core.lcZ(2,1,ctx_r2.showDialogAlert$))}}__name(AsmSaveCartDialogComponent_ng_container_7_cx_message_2_Template,"AsmSaveCartDialogComponent_ng_container_7_cx_message_2_Template"),__name(AsmSaveCartDialogComponent_ng_container_7_Template,"AsmSaveCartDialogComponent_ng_container_7_Template"),__name(AsmSaveCartDialogComponent_ng_template_8_cx_message_1_Template,"AsmSaveCartDialogComponent_ng_template_8_cx_message_1_Template"),__name(AsmSaveCartDialogComponent_ng_template_8_Template,"AsmSaveCartDialogComponent_ng_template_8_Template");const _c0=["bindToCart"],_c1=["saveInactiveCart"];function AsmBindCartComponent_button_13_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.TgZ(0,"button",8,9),core.NdJ("click",__name(function(){core.CHM(_r5);const ctx_r4=core.oxw();return core.KtG(ctx_r4.bindCartToCustomer())},"AsmBindCartComponent_button_13_Template_button_click_0_listener")),core.ALo(2,"async"),core.ALo(3,"async"),core.ALo(4,"async"),core.TgZ(5,"span"),core.ALo(6,"async"),core._uU(7),core.ALo(8,"cxTranslate"),core.qZA(),core._UZ(9,"cx-dot-spinner"),core.ALo(10,"async"),core.ALo(11,"cxTranslate"),core.qZA()}if(2&rf){const ctx_r1=core.oxw();core.ekj("cx-asm-active",core.lcZ(2,9,ctx_r1.valid$))("cx-bind-loading",core.lcZ(3,11,ctx_r1.loading$)),core.Q6J("disabled",!core.lcZ(4,13,ctx_r1.valid$)),core.xp6(5),core.uIk("aria-hidden",core.lcZ(6,15,ctx_r1.loading$)),core.xp6(2),core.hij(" ",core.lcZ(8,17,"asm.bindCart.bindCartToCustomer")," "),core.xp6(2),core.uIk("aria-hidden",!core.lcZ(10,19,ctx_r1.loading$))("aria-label",core.lcZ(11,21,"common.loading"))}}function AsmBindCartComponent_ng_container_15_button_1_Template(rf,ctx){if(1&rf){const _r9=core.EpF();core.TgZ(0,"button",11,12),core.NdJ("click",__name(function(){core.CHM(_r9);const ctx_r8=core.oxw(2);return core.KtG(ctx_r8.onSaveInactiveCart())},"AsmBindCartComponent_ng_container_15_button_1_Template_button_click_0_listener")),core.ALo(2,"async"),core.TgZ(3,"span"),core.ALo(4,"async"),core._uU(5),core.ALo(6,"cxTranslate"),core.qZA(),core._UZ(7,"cx-dot-spinner"),core.ALo(8,"async"),core.ALo(9,"cxTranslate"),core.qZA()}if(2&rf){const ctx_r6=core.oxw(2);core.ekj("cx-bind-loading",core.lcZ(2,6,ctx_r6.loading$)),core.xp6(3),core.uIk("aria-hidden",core.lcZ(4,8,ctx_r6.loading$)),core.xp6(2),core.hij(" ",core.lcZ(6,10,"asm.saveCart.saveCartBtn")," "),core.xp6(2),core.uIk("aria-hidden",!core.lcZ(8,12,ctx_r6.loading$))("aria-label",core.lcZ(9,14,"common.loading"))}}function AsmBindCartComponent_ng_container_15_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,AsmBindCartComponent_ng_container_15_button_1_Template,10,16,"button",10),core.ALo(2,"async"),core.BQk()),2&rf){const ctx_r2=core.oxw();core.xp6(1),core.Q6J("ngIf",core.lcZ(2,1,ctx_r2.displaySaveCartBtn$))}}function AsmCreateCustomerFormComponent_cx_message_10_Template(rf,ctx){if(1&rf){const _r6=core.EpF();core.TgZ(0,"cx-message",14),core.NdJ("closeMessage",__name(function(){core.CHM(_r6);const ctx_r5=core.oxw();return core.KtG(ctx_r5.closeDialogInfoAlert())},"AsmCreateCustomerFormComponent_cx_message_10_Template_cx_message_closeMessage_0_listener")),core.ALo(1,"cxTranslate"),core.qZA()}if(2&rf){const ctx_r0=core.oxw();core.Q6J("text",core.lcZ(1,2,"asm.createCustomerForm.createAccountAlert"))("type",ctx_r0.globalMessageType.MSG_TYPE_INFO)}}function AsmCreateCustomerFormComponent_ng_container_11_cx_message_1_Template(rf,ctx){if(1&rf){const _r12=core.EpF();core.TgZ(0,"cx-message",14),core.NdJ("closeMessage",__name(function(){core.CHM(_r12);const i_r8=core.oxw().index,ctx_r10=core.oxw();return core.KtG(ctx_r10.closeDialogBackendErroAlert(i_r8))},"AsmCreateCustomerFormComponent_ng_container_11_cx_message_1_Template_cx_message_closeMessage_0_listener")),core.qZA()}if(2&rf){const errorMessage_r7=core.oxw().$implicit,ctx_r9=core.oxw();core.Q6J("text",errorMessage_r7)("type",ctx_r9.globalMessageType.MSG_TYPE_ERROR)}}function AsmCreateCustomerFormComponent_ng_container_11_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,AsmCreateCustomerFormComponent_ng_container_11_cx_message_1_Template,1,2,"cx-message",7),core.BQk()),2&rf){const i_r8=ctx.index,ctx_r1=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r1.showDialogBackendErrorAlerts[i_r8])}}function AsmCreateCustomerFormComponent_div_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div")(1,"div",15)(2,"label")(3,"span",16),core._uU(4),core.ALo(5,"cxTranslate"),core.qZA(),core._UZ(6,"input",17),core.ALo(7,"cxTranslate"),core._UZ(8,"cx-form-errors",18),core.qZA()(),core.TgZ(9,"div",15)(10,"label")(11,"span",16),core._uU(12),core.ALo(13,"cxTranslate"),core.qZA(),core._UZ(14,"input",19),core.ALo(15,"cxTranslate"),core._UZ(16,"cx-form-errors",18),core.qZA()(),core.TgZ(17,"div",15)(18,"label")(19,"span",16),core._uU(20),core.ALo(21,"cxTranslate"),core.qZA(),core._UZ(22,"input",20),core.ALo(23,"cxTranslate"),core._UZ(24,"cx-form-errors",18),core.qZA()()()),2&rf){const ctx_r2=core.oxw();core.xp6(4),core.Oqu(core.lcZ(5,9,"asm.createCustomerForm.firstName.label")),core.xp6(2),core.s9C("placeholder",core.lcZ(7,11,"asm.createCustomerForm.firstName.placeholder")),core.xp6(2),core.Q6J("control",ctx_r2.registerForm.get("firstName")),core.xp6(4),core.Oqu(core.lcZ(13,13,"asm.createCustomerForm.lastName.label")),core.xp6(2),core.s9C("placeholder",core.lcZ(15,15,"asm.createCustomerForm.lastName.placeholder")),core.xp6(2),core.Q6J("control",ctx_r2.registerForm.get("lastName")),core.xp6(4),core.Oqu(core.lcZ(21,17,"asm.createCustomerForm.emailAddress.label")),core.xp6(2),core.s9C("placeholder",core.lcZ(23,19,"asm.createCustomerForm.emailAddress.placeholder")),core.xp6(2),core.Q6J("control",ctx_r2.registerForm.get("email"))}}function AsmCreateCustomerFormComponent_ng_template_21_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",21),core._UZ(1,"cx-spinner"),core.qZA())}function CSAgentLoginFormComponent_form_0_Template(rf,ctx){if(1&rf){const _r3=core.EpF();core.TgZ(0,"form",2),core.NdJ("ngSubmit",__name(function(){core.CHM(_r3);const ctx_r2=core.oxw();return core.KtG(ctx_r2.onSubmit())},"CSAgentLoginFormComponent_form_0_Template_form_ngSubmit_0_listener")),core.TgZ(1,"label"),core._UZ(2,"input",3),core.ALo(3,"cxTranslate"),core.ALo(4,"cxTranslate"),core._UZ(5,"cx-form-errors",4),core.qZA(),core.TgZ(6,"label"),core._UZ(7,"input",5),core.ALo(8,"cxTranslate"),core.ALo(9,"cxTranslate"),core._UZ(10,"cx-form-errors",4),core.qZA(),core.TgZ(11,"button",6),core._uU(12),core.ALo(13,"cxTranslate"),core.qZA()()}if(2&rf){const ctx_r0=core.oxw();core.Q6J("formGroup",ctx_r0.csAgentLoginForm),core.xp6(2),core.s9C("placeholder",core.lcZ(3,8,"asm.loginForm.userId.label")),core.uIk("aria-label",core.lcZ(4,10,"asm.loginForm.userId.label")),core.xp6(3),core.Q6J("control",ctx_r0.csAgentLoginForm.get("userId")),core.xp6(2),core.s9C("placeholder",core.lcZ(8,12,"asm.loginForm.password.label")),core.uIk("aria-label",core.lcZ(9,14,"asm.loginForm.password.label")),core.xp6(3),core.Q6J("control",ctx_r0.csAgentLoginForm.get("password")),core.xp6(2),core.hij(" ",core.lcZ(13,16,"asm.loginForm.submit")," ")}}function CSAgentLoginFormComponent_cx_dot_spinner_1_Template(rf,ctx){1&rf&&(core._UZ(0,"cx-dot-spinner",7),core.ALo(1,"cxTranslate")),2&rf&&core.uIk("aria-label",core.lcZ(1,1,"common.loading"))}__name(AsmBindCartComponent_button_13_Template,"AsmBindCartComponent_button_13_Template"),__name(AsmBindCartComponent_ng_container_15_button_1_Template,"AsmBindCartComponent_ng_container_15_button_1_Template"),__name(AsmBindCartComponent_ng_container_15_Template,"AsmBindCartComponent_ng_container_15_Template"),__name(AsmCreateCustomerFormComponent_cx_message_10_Template,"AsmCreateCustomerFormComponent_cx_message_10_Template"),__name(AsmCreateCustomerFormComponent_ng_container_11_cx_message_1_Template,"AsmCreateCustomerFormComponent_ng_container_11_cx_message_1_Template"),__name(AsmCreateCustomerFormComponent_ng_container_11_Template,"AsmCreateCustomerFormComponent_ng_container_11_Template"),__name(AsmCreateCustomerFormComponent_div_12_Template,"AsmCreateCustomerFormComponent_div_12_Template"),__name(AsmCreateCustomerFormComponent_ng_template_21_Template,"AsmCreateCustomerFormComponent_ng_template_21_Template"),__name(CSAgentLoginFormComponent_form_0_Template,"CSAgentLoginFormComponent_form_0_Template"),__name(CSAgentLoginFormComponent_cx_dot_spinner_1_Template,"CSAgentLoginFormComponent_cx_dot_spinner_1_Template");const _c2=["resultList"],_c3=["searchTerm"],_c4=["createCustomerLink"],_c5=["searchResultItem"];function CustomerSelectionComponent_div_10_button_2_Template(rf,ctx){if(1&rf){const _r12=core.EpF();core.TgZ(0,"button",10,11),core.NdJ("keydown.arrowup",__name(function($event){core.CHM(_r12);const ctx_r11=core.oxw(2);return core.KtG(ctx_r11.focusPreviousChild($event))},"CustomerSelectionComponent_div_10_button_2_Template_button_keydown_arrowup_0_listener"))("keydown.arrowdown",__name(function($event){core.CHM(_r12);const ctx_r13=core.oxw(2);return core.KtG(ctx_r13.focusNextChild($event))},"CustomerSelectionComponent_div_10_button_2_Template_button_keydown_arrowdown_0_listener"))("keydown.arrowright",__name(function($event){core.CHM(_r12);const ctx_r14=core.oxw(2);return core.KtG(ctx_r14.focusInputText($event))},"CustomerSelectionComponent_div_10_button_2_Template_button_keydown_arrowright_0_listener"))("keydown.arrowleft",__name(function($event){core.CHM(_r12);const ctx_r15=core.oxw(2);return core.KtG(ctx_r15.focusInputText($event))},"CustomerSelectionComponent_div_10_button_2_Template_button_keydown_arrowleft_0_listener"))("keydown.enter",__name(function($event){const result_r8=core.CHM(_r12).$implicit,ctx_r16=core.oxw(2);return core.KtG(ctx_r16.selectCustomerFromList($event,result_r8))},"CustomerSelectionComponent_div_10_button_2_Template_button_keydown_enter_0_listener"))("keydown.escape",__name(function($event){core.CHM(_r12);const ctx_r17=core.oxw(2);return core.KtG(ctx_r17.closeResults($event))},"CustomerSelectionComponent_div_10_button_2_Template_button_keydown_escape_0_listener"))("keydown.home",__name(function($event){core.CHM(_r12);const ctx_r18=core.oxw(2);return core.KtG(ctx_r18.focusInputText($event))},"CustomerSelectionComponent_div_10_button_2_Template_button_keydown_home_0_listener"))("keydown.end",__name(function($event){core.CHM(_r12);const ctx_r19=core.oxw(2);return core.KtG(ctx_r19.focusInputText($event))},"CustomerSelectionComponent_div_10_button_2_Template_button_keydown_end_0_listener"))("click",__name(function($event){const result_r8=core.CHM(_r12).$implicit,ctx_r20=core.oxw(2);return core.KtG(ctx_r20.selectCustomerFromList($event,result_r8))},"CustomerSelectionComponent_div_10_button_2_Template_button_click_0_listener")),core.TgZ(2,"span",12),core._uU(3),core.qZA(),core.TgZ(4,"span",13),core._uU(5),core.qZA()()}if(2&rf){const result_r8=ctx.$implicit,i_r9=ctx.index,ctx_r5=core.oxw(2);core.ekj("active",ctx_r5.activeFocusedButtonIndex===i_r9),core.Q6J("tabindex",ctx_r5.activeFocusedButtonIndex===i_r9?0:-1),core.uIk("aria-selected",ctx_r5.activeFocusedButtonIndex===i_r9),core.xp6(3),core.Oqu(result_r8.name),core.xp6(2),core.Oqu(result_r8.uid)}}function CustomerSelectionComponent_div_10_ng_container_3_button_1_Template(rf,ctx){if(1&rf){const _r24=core.EpF();core.TgZ(0,"button",15,11),core.NdJ("click",__name(function($event){core.CHM(_r24);const ctx_r23=core.oxw(3);return core.KtG(ctx_r23.closeResults($event))},"CustomerSelectionComponent_div_10_ng_container_3_button_1_Template_button_click_0_listener"))("keydown.enter",__name(function($event){core.CHM(_r24);const ctx_r25=core.oxw(3);return core.KtG(ctx_r25.closeResults($event))},"CustomerSelectionComponent_div_10_ng_container_3_button_1_Template_button_keydown_enter_0_listener"))("keydown.escape",__name(function($event){core.CHM(_r24);const ctx_r26=core.oxw(3);return core.KtG(ctx_r26.closeResults($event))},"CustomerSelectionComponent_div_10_ng_container_3_button_1_Template_button_keydown_escape_0_listener"))("keydown.arrowright",__name(function($event){core.CHM(_r24);const ctx_r27=core.oxw(3);return core.KtG(ctx_r27.focusInputText($event))},"CustomerSelectionComponent_div_10_ng_container_3_button_1_Template_button_keydown_arrowright_0_listener"))("keydown.arrowleft",__name(function($event){core.CHM(_r24);const ctx_r28=core.oxw(3);return core.KtG(ctx_r28.focusInputText($event))},"CustomerSelectionComponent_div_10_ng_container_3_button_1_Template_button_keydown_arrowleft_0_listener"))("keydown.home",__name(function($event){core.CHM(_r24);const ctx_r29=core.oxw(3);return core.KtG(ctx_r29.focusInputText($event))},"CustomerSelectionComponent_div_10_ng_container_3_button_1_Template_button_keydown_home_0_listener"))("keydown.end",__name(function($event){core.CHM(_r24);const ctx_r30=core.oxw(3);return core.KtG(ctx_r30.focusInputText($event))},"CustomerSelectionComponent_div_10_ng_container_3_button_1_Template_button_keydown_end_0_listener")),core._uU(2),core.ALo(3,"cxTranslate"),core.qZA()}if(2&rf){const ctx_r21=core.oxw(3);core.ekj("active",0===ctx_r21.activeFocusedButtonIndex),core.uIk("aria-selected",0===ctx_r21.activeFocusedButtonIndex),core.xp6(2),core.hij(" ",core.lcZ(3,4,"asm.customerSearch.noMatch")," ")}}function CustomerSelectionComponent_div_10_ng_container_3_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerSelectionComponent_div_10_ng_container_3_button_1_Template,4,6,"button",14),core.ALo(2,"async"),core.BQk()),2&rf){const results_r3=core.oxw().ngIf,ctx_r6=core.oxw(),_r0=core.MAs(3);core.xp6(1),core.Q6J("ngIf",!core.lcZ(2,1,ctx_r6.searchResultsLoading$)&&_r0.value.length>=3&&!!results_r3.entries&&results_r3.entries.length<=0)}}function CustomerSelectionComponent_div_10_ng_container_4_button_1_Template(rf,ctx){if(1&rf){const _r36=core.EpF();core.TgZ(0,"button",17,11),core.NdJ("click",__name(function(){core.CHM(_r36);const ctx_r35=core.oxw(3);return core.KtG(ctx_r35.createCustomer())},"CustomerSelectionComponent_div_10_ng_container_4_button_1_Template_button_click_0_listener"))("keydown.escape",__name(function($event){core.CHM(_r36);const ctx_r37=core.oxw(3);return core.KtG(ctx_r37.closeResults($event))},"CustomerSelectionComponent_div_10_ng_container_4_button_1_Template_button_keydown_escape_0_listener"))("keydown.arrowright",__name(function($event){core.CHM(_r36);const ctx_r38=core.oxw(3);return core.KtG(ctx_r38.focusInputText($event))},"CustomerSelectionComponent_div_10_ng_container_4_button_1_Template_button_keydown_arrowright_0_listener"))("keydown.arrowleft",__name(function($event){core.CHM(_r36);const ctx_r39=core.oxw(3);return core.KtG(ctx_r39.focusInputText($event))},"CustomerSelectionComponent_div_10_ng_container_4_button_1_Template_button_keydown_arrowleft_0_listener"))("keydown.home",__name(function($event){core.CHM(_r36);const ctx_r40=core.oxw(3);return core.KtG(ctx_r40.focusInputText($event))},"CustomerSelectionComponent_div_10_ng_container_4_button_1_Template_button_keydown_home_0_listener"))("keydown.end",__name(function($event){core.CHM(_r36);const ctx_r41=core.oxw(3);return core.KtG(ctx_r41.focusInputText($event))},"CustomerSelectionComponent_div_10_ng_container_4_button_1_Template_button_keydown_end_0_listener")),core.TgZ(2,"span"),core._uU(3),core.ALo(4,"cxTranslate"),core.qZA(),core.TgZ(5,"span",18,19),core._uU(7),core.ALo(8,"cxTranslate"),core.qZA()()}if(2&rf){const ctx_r32=core.oxw(3);core.ekj("active",0===ctx_r32.activeFocusedButtonIndex),core.uIk("aria-selected",0===ctx_r32.activeFocusedButtonIndex),core.xp6(3),core.Oqu(core.lcZ(4,5,"asm.customerSearch.noMatchResult")),core.xp6(4),core.Oqu(core.lcZ(8,7,"asm.customerSearch.createCustomer"))}}function CustomerSelectionComponent_div_10_ng_container_4_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerSelectionComponent_div_10_ng_container_4_button_1_Template,9,9,"button",16),core.ALo(2,"async"),core.BQk()),2&rf){const results_r3=core.oxw().ngIf,ctx_r7=core.oxw(),_r0=core.MAs(3);core.xp6(1),core.Q6J("ngIf",!core.lcZ(2,1,ctx_r7.searchResultsLoading$)&&_r0.value.length>=3&&!!results_r3.entries&&results_r3.entries.length<=0)}}function CustomerSelectionComponent_div_10_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",6,7),core.YNc(2,CustomerSelectionComponent_div_10_button_2_Template,6,6,"button",8),core.YNc(3,CustomerSelectionComponent_div_10_ng_container_3_Template,3,3,"ng-container",9),core.YNc(4,CustomerSelectionComponent_div_10_ng_container_4_Template,3,3,"ng-container",9),core.qZA()),2&rf){const results_r3=ctx.ngIf;core.xp6(2),core.Q6J("ngForOf",results_r3.entries),core.xp6(1),core.Q6J("cxFeatureLevel","!6.1"),core.xp6(1),core.Q6J("cxFeatureLevel","6.1")}}function CustomerSelectionComponent_div_12_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",6),core._UZ(1,"cx-dot-spinner",20),core.ALo(2,"cxTranslate"),core.qZA()),2&rf&&(core.xp6(1),core.uIk("aria-label",core.lcZ(2,1,"common.loading")))}__name(CustomerSelectionComponent_div_10_button_2_Template,"CustomerSelectionComponent_div_10_button_2_Template"),__name(CustomerSelectionComponent_div_10_ng_container_3_button_1_Template,"CustomerSelectionComponent_div_10_ng_container_3_button_1_Template"),__name(CustomerSelectionComponent_div_10_ng_container_3_Template,"CustomerSelectionComponent_div_10_ng_container_3_Template"),__name(CustomerSelectionComponent_div_10_ng_container_4_button_1_Template,"CustomerSelectionComponent_div_10_ng_container_4_button_1_Template"),__name(CustomerSelectionComponent_div_10_ng_container_4_Template,"CustomerSelectionComponent_div_10_ng_container_4_Template"),__name(CustomerSelectionComponent_div_10_Template,"CustomerSelectionComponent_div_10_Template"),__name(CustomerSelectionComponent_div_12_Template,"CustomerSelectionComponent_div_12_Template");const _c6=["asmCustomer360Launcher"];function CustomerEmulationComponent_ng_container_0_ng_container_7_button_1_Template(rf,ctx){if(1&rf){const _r5=core.EpF();core.TgZ(0,"button",7,8),core.NdJ("click",__name(function(){core.CHM(_r5);const ctx_r4=core.oxw(3);return core.KtG(ctx_r4.openAsmCustomer360())},"CustomerEmulationComponent_ng_container_0_ng_container_7_button_1_Template_button_click_0_listener")),core._uU(2),core.ALo(3,"cxTranslate"),core.qZA()}2&rf&&(core.xp6(2),core.hij(" ",core.lcZ(3,1,"asm.asmCustomer360Button")," "))}function CustomerEmulationComponent_ng_container_0_ng_container_7_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerEmulationComponent_ng_container_0_ng_container_7_button_1_Template,4,3,"button",6),core.BQk()),2&rf){const ctx_r1=core.oxw(2);core.xp6(1),core.Q6J("ngIf",ctx_r1.isAsmCustomer360Configured&&ctx_r1.customer)}}function CustomerEmulationComponent_ng_container_0_Template(rf,ctx){if(1&rf){const _r7=core.EpF();core.ynx(0),core.TgZ(1,"div",1)(2,"label",2),core._uU(3),core.qZA(),core.TgZ(4,"label",3),core._uU(5),core.qZA()(),core._UZ(6,"cx-asm-bind-cart"),core.YNc(7,CustomerEmulationComponent_ng_container_0_ng_container_7_Template,2,1,"ng-container",4),core.TgZ(8,"button",5),core.NdJ("click",__name(function(){core.CHM(_r7);const ctx_r6=core.oxw();return core.KtG(ctx_r6.logoutCustomer())},"CustomerEmulationComponent_ng_container_0_Template_button_click_8_listener")),core._uU(9),core.ALo(10,"cxTranslate"),core.qZA(),core.BQk()}if(2&rf){const ctx_r0=core.oxw();core.xp6(3),core.Oqu(null==ctx_r0.customer?null:ctx_r0.customer.name),core.xp6(2),core.Oqu(null==ctx_r0.customer?null:ctx_r0.customer.uid),core.xp6(2),core.Q6J("cxFeatureLevel","6.6"),core.xp6(2),core.hij(" ",core.lcZ(10,4,"asm.endSession")," ")}}function AsmToggleUiComponent_span_2_Template(rf,ctx){1&rf&&(core.TgZ(0,"span",3),core._uU(1),core.ALo(2,"cxTranslate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"asm.toggleUi.collapse")," "))}function AsmToggleUiComponent_span_3_Template(rf,ctx){1&rf&&(core.TgZ(0,"span",3),core._uU(1),core.ALo(2,"cxTranslate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"asm.toggleUi.expand")," "))}__name(CustomerEmulationComponent_ng_container_0_ng_container_7_button_1_Template,"CustomerEmulationComponent_ng_container_0_ng_container_7_button_1_Template"),__name(CustomerEmulationComponent_ng_container_0_ng_container_7_Template,"CustomerEmulationComponent_ng_container_0_ng_container_7_Template"),__name(CustomerEmulationComponent_ng_container_0_Template,"CustomerEmulationComponent_ng_container_0_Template"),__name(AsmToggleUiComponent_span_2_Template,"AsmToggleUiComponent_span_2_Template"),__name(AsmToggleUiComponent_span_3_Template,"AsmToggleUiComponent_span_3_Template");const _c7=["customerListLink"],_c8=["addNewCustomerLink"];function AsmMainUiComponent_div_8_Template(rf,ctx){if(1&rf){const _r7=core.EpF();core.TgZ(0,"div",9)(1,"a",10,11),core.NdJ("click",__name(function(){core.CHM(_r7);const ctx_r6=core.oxw();return core.KtG(ctx_r6.showCustomList())},"AsmMainUiComponent_div_8_Template_a_click_1_listener")),core._UZ(3,"cx-icon",12),core.TgZ(4,"span"),core._uU(5),core.ALo(6,"cxTranslate"),core.qZA()()()}if(2&rf){const ctx_r0=core.oxw();core.xp6(3),core.Q6J("type",ctx_r0.iconTypes.USER_FRIENDS),core.xp6(2),core.Oqu(core.lcZ(6,2,"asm.customers"))}}function AsmMainUiComponent_cx_asm_session_timer_11_Template(rf,ctx){1&rf&&core._UZ(0,"cx-asm-session-timer")}function AsmMainUiComponent_button_13_Template(rf,ctx){if(1&rf){const _r9=core.EpF();core.TgZ(0,"button",13),core.NdJ("click",__name(function(){core.CHM(_r9);const ctx_r8=core.oxw();return core.KtG(ctx_r8.hideUi())},"AsmMainUiComponent_button_13_Template_button_click_0_listener")),core.ALo(1,"cxTranslate"),core.qZA()}2&rf&&core.s9C("title",core.lcZ(1,1,"asm.hideUi"))}function AsmMainUiComponent_button_16_Template(rf,ctx){if(1&rf){const _r11=core.EpF();core.TgZ(0,"button",14),core.NdJ("click",__name(function(){core.CHM(_r11);const ctx_r10=core.oxw();return core.KtG(ctx_r10.logout())},"AsmMainUiComponent_button_16_Template_button_click_0_listener")),core.ALo(1,"cxTranslate"),core.qZA()}2&rf&&core.s9C("title",core.lcZ(1,1,"asm.logout"))}function AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_cx_customer_emulation_1_Template(rf,ctx){1&rf&&core._UZ(0,"cx-customer-emulation")}function AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_2_cx_message_1_Template(rf,ctx){if(1&rf){const _r25=core.EpF();core.TgZ(0,"cx-message",20),core.NdJ("closeMessage",__name(function(){core.CHM(_r25);const ctx_r24=core.oxw(5);return core.KtG(ctx_r24.closeDialogConfirmationAlert())},"AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_2_cx_message_1_Template_cx_message_closeMessage_0_listener")),core.ALo(1,"cxTranslate"),core.qZA()}if(2&rf){const ctx_r23=core.oxw(5);core.Q6J("text",core.lcZ(1,2,"asm.createCustomerSuccessfullyAlert"))("type",ctx_r23.globalMessageType.MSG_TYPE_CONFIRMATION)}}function AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_2_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_2_cx_message_1_Template,2,4,"cx-message",19),core.BQk()),2&rf){const notCollapsed_r12=core.oxw(3).ngIf,ctx_r20=core.oxw();core.xp6(1),core.Q6J("ngIf",notCollapsed_r12&&ctx_r20.showCreateCustomerSuccessfullyAlert)}}function AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_3_cx_message_1_Template(rf,ctx){if(1&rf){const _r29=core.EpF();core.TgZ(0,"cx-message",20),core.NdJ("closeMessage",__name(function(){core.CHM(_r29);const ctx_r28=core.oxw(5);return core.KtG(ctx_r28.closeDeeplinkCartInfoAlert())},"AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_3_cx_message_1_Template_cx_message_closeMessage_0_listener")),core.ALo(1,"cxTranslate"),core.qZA()}if(2&rf){const ctx_r27=core.oxw(5);core.Q6J("text",core.lcZ(1,2,ctx_r27.deeplinkCartAlertKey))("type",ctx_r27.globalMessageType.MSG_TYPE_INFO)}}function AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_3_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_3_cx_message_1_Template,2,4,"cx-message",19),core.ALo(2,"async"),core.BQk()),2&rf){const ctx_r21=core.oxw(4);core.xp6(1),core.Q6J("ngIf",core.lcZ(2,1,ctx_r21.showDeeplinkCartInfoAlert$))}}function AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_4_cx_message_1_Template(rf,ctx){if(1&rf){const _r32=core.EpF();core.TgZ(0,"cx-message",20),core.NdJ("closeMessage",__name(function(){core.CHM(_r32);const ctx_r31=core.oxw(5);return core.KtG(ctx_r31.closeCustomerEmulationInfoAlert())},"AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_4_cx_message_1_Template_cx_message_closeMessage_0_listener")),core.ALo(1,"cxTranslate"),core.qZA()}if(2&rf){const ctx_r30=core.oxw(5);core.Q6J("text",core.lcZ(1,2,"asm.startCustomerEmulationAlertInfo"))("type",ctx_r30.globalMessageType.MSG_TYPE_INFO)}}function AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_4_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_4_cx_message_1_Template,2,4,"cx-message",19),core.BQk()),2&rf){const notCollapsed_r12=core.oxw(3).ngIf,ctx_r22=core.oxw();core.xp6(1),core.Q6J("ngIf",notCollapsed_r12&&ctx_r22.showCustomerEmulationInfoAlert)}}function AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_cx_customer_emulation_1_Template,1,0,"cx-customer-emulation",6),core.YNc(2,AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_2_Template,2,1,"ng-container",18),core.YNc(3,AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_3_Template,3,3,"ng-container",18),core.YNc(4,AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_4_Template,2,1,"ng-container",18),core.BQk()),2&rf){const notCollapsed_r12=core.oxw(2).ngIf;core.xp6(1),core.Q6J("ngIf",notCollapsed_r12),core.xp6(1),core.Q6J("cxFeatureLevel","6.1"),core.xp6(1),core.Q6J("cxFeatureLevel","6.2"),core.xp6(1),core.Q6J("cxFeatureLevel","6.3")}}function AsmMainUiComponent_ng_container_18_ng_container_1_ng_template_3_cx_customer_selection_0_Template(rf,ctx){if(1&rf){const _r37=core.EpF();core.TgZ(0,"cx-customer-selection",22),core.NdJ("submitEvent",__name(function($event){core.CHM(_r37);const ctx_r36=core.oxw(4);return core.KtG(ctx_r36.startCustomerEmulationSession($event))},"AsmMainUiComponent_ng_container_18_ng_container_1_ng_template_3_cx_customer_selection_0_Template_cx_customer_selection_submitEvent_0_listener")),core.qZA()}}function AsmMainUiComponent_ng_container_18_ng_container_1_ng_template_3_Template(rf,ctx){if(1&rf&&core.YNc(0,AsmMainUiComponent_ng_container_18_ng_container_1_ng_template_3_cx_customer_selection_0_Template,1,0,"cx-customer-selection",21),2&rf){const notCollapsed_r12=core.oxw(2).ngIf;core.Q6J("ngIf",notCollapsed_r12)}}function AsmMainUiComponent_ng_container_18_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_Template,5,4,"ng-container",15),core.ALo(2,"async"),core.YNc(3,AsmMainUiComponent_ng_container_18_ng_container_1_ng_template_3_Template,1,1,"ng-template",null,17,core.W1O),core.BQk()),2&rf){const _r17=core.MAs(4),ctx_r13=core.oxw(2);core.xp6(1),core.Q6J("ngIf",core.lcZ(2,2,ctx_r13.customer$))("ngIfElse",_r17)}}function AsmMainUiComponent_ng_container_18_ng_template_3_cx_csagent_login_form_0_Template(rf,ctx){if(1&rf){const _r41=core.EpF();core.TgZ(0,"cx-csagent-login-form",24),core.NdJ("submitEvent",__name(function($event){core.CHM(_r41);const ctx_r40=core.oxw(3);return core.KtG(ctx_r40.loginCustomerSupportAgent($event))},"AsmMainUiComponent_ng_container_18_ng_template_3_cx_csagent_login_form_0_Template_cx_csagent_login_form_submitEvent_0_listener")),core.ALo(1,"async"),core.qZA()}if(2&rf){const ctx_r39=core.oxw(3);core.Q6J("csAgentTokenLoading",core.lcZ(1,1,ctx_r39.csAgentTokenLoading$))}}function AsmMainUiComponent_ng_container_18_ng_template_3_Template(rf,ctx){if(1&rf&&core.YNc(0,AsmMainUiComponent_ng_container_18_ng_template_3_cx_csagent_login_form_0_Template,2,3,"cx-csagent-login-form",23),2&rf){const notCollapsed_r12=core.oxw().ngIf;core.Q6J("ngIf",notCollapsed_r12)}}function AsmMainUiComponent_ng_container_18_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,AsmMainUiComponent_ng_container_18_ng_container_1_Template,5,4,"ng-container",15),core.ALo(2,"async"),core.YNc(3,AsmMainUiComponent_ng_container_18_ng_template_3_Template,1,1,"ng-template",null,16,core.W1O),core.BQk()),2&rf){const _r14=core.MAs(4),ctx_r4=core.oxw();core.xp6(1),core.Q6J("ngIf",core.lcZ(2,2,ctx_r4.customerSupportAgentLoggedIn$))("ngIfElse",_r14)}}__name(AsmMainUiComponent_div_8_Template,"AsmMainUiComponent_div_8_Template"),__name(AsmMainUiComponent_cx_asm_session_timer_11_Template,"AsmMainUiComponent_cx_asm_session_timer_11_Template"),__name(AsmMainUiComponent_button_13_Template,"AsmMainUiComponent_button_13_Template"),__name(AsmMainUiComponent_button_16_Template,"AsmMainUiComponent_button_16_Template"),__name(AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_cx_customer_emulation_1_Template,"AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_cx_customer_emulation_1_Template"),__name(AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_2_cx_message_1_Template,"AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_2_cx_message_1_Template"),__name(AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_2_Template,"AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_2_Template"),__name(AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_3_cx_message_1_Template,"AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_3_cx_message_1_Template"),__name(AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_3_Template,"AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_3_Template"),__name(AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_4_cx_message_1_Template,"AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_4_cx_message_1_Template"),__name(AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_4_Template,"AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_ng_container_4_Template"),__name(AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_Template,"AsmMainUiComponent_ng_container_18_ng_container_1_ng_container_1_Template"),__name(AsmMainUiComponent_ng_container_18_ng_container_1_ng_template_3_cx_customer_selection_0_Template,"AsmMainUiComponent_ng_container_18_ng_container_1_ng_template_3_cx_customer_selection_0_Template"),__name(AsmMainUiComponent_ng_container_18_ng_container_1_ng_template_3_Template,"AsmMainUiComponent_ng_container_18_ng_container_1_ng_template_3_Template"),__name(AsmMainUiComponent_ng_container_18_ng_container_1_Template,"AsmMainUiComponent_ng_container_18_ng_container_1_Template"),__name(AsmMainUiComponent_ng_container_18_ng_template_3_cx_csagent_login_form_0_Template,"AsmMainUiComponent_ng_container_18_ng_template_3_cx_csagent_login_form_0_Template"),__name(AsmMainUiComponent_ng_container_18_ng_template_3_Template,"AsmMainUiComponent_ng_container_18_ng_template_3_Template"),__name(AsmMainUiComponent_ng_container_18_Template,"AsmMainUiComponent_ng_container_18_Template");const _c9=__name(function(a0,a1){return{customerA:a0,customerB:a1}},"_c9");function CustomerListComponent_ng_container_10_1_ng_template_0_Template(rf,ctx){}function CustomerListComponent_ng_container_10_1_Template(rf,ctx){1&rf&&core.YNc(0,CustomerListComponent_ng_container_10_1_ng_template_0_Template,0,0,"ng-template")}function CustomerListComponent_ng_container_10_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerListComponent_ng_container_10_1_Template,1,0,null,21),core.BQk()),2&rf){core.oxw();const _r23=core.MAs(41);core.xp6(1),core.Q6J("ngTemplateOutlet",_r23)}}function CustomerListComponent_ng_container_11_1_ng_template_0_Template(rf,ctx){}function CustomerListComponent_ng_container_11_1_Template(rf,ctx){1&rf&&core.YNc(0,CustomerListComponent_ng_container_11_1_ng_template_0_Template,0,0,"ng-template")}function CustomerListComponent_ng_container_11_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerListComponent_ng_container_11_1_Template,1,0,null,21),core.BQk()),2&rf){core.oxw();const _r25=core.MAs(43);core.xp6(1),core.Q6J("ngTemplateOutlet",_r25)}}function CustomerListComponent_div_12_ng_container_2_1_ng_template_0_Template(rf,ctx){}function CustomerListComponent_div_12_ng_container_2_1_Template(rf,ctx){1&rf&&core.YNc(0,CustomerListComponent_div_12_ng_container_2_1_ng_template_0_Template,0,0,"ng-template")}__name(CustomerListComponent_ng_container_10_1_ng_template_0_Template,"CustomerListComponent_ng_container_10_1_ng_template_0_Template"),__name(CustomerListComponent_ng_container_10_1_Template,"CustomerListComponent_ng_container_10_1_Template"),__name(CustomerListComponent_ng_container_10_Template,"CustomerListComponent_ng_container_10_Template"),__name(CustomerListComponent_ng_container_11_1_ng_template_0_Template,"CustomerListComponent_ng_container_11_1_ng_template_0_Template"),__name(CustomerListComponent_ng_container_11_1_Template,"CustomerListComponent_ng_container_11_1_Template"),__name(CustomerListComponent_ng_container_11_Template,"CustomerListComponent_ng_container_11_Template"),__name(CustomerListComponent_div_12_ng_container_2_1_ng_template_0_Template,"CustomerListComponent_div_12_ng_container_2_1_ng_template_0_Template"),__name(CustomerListComponent_div_12_ng_container_2_1_Template,"CustomerListComponent_div_12_ng_container_2_1_Template");const _c10=__name(function(a0){return{customerListsPage:a0}},"_c10");function CustomerListComponent_div_12_ng_container_2_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerListComponent_div_12_ng_container_2_1_Template,1,0,null,24),core.BQk()),2&rf){const customerListsPage_r31=core.oxw().ngIf;core.oxw();const _r21=core.MAs(39);core.xp6(1),core.Q6J("ngTemplateOutlet",_r21)("ngTemplateOutletContext",core.VKq(2,_c10,customerListsPage_r31))}}function CustomerListComponent_div_12_ng_container_3_3_ng_template_0_Template(rf,ctx){}function CustomerListComponent_div_12_ng_container_3_3_Template(rf,ctx){1&rf&&core.YNc(0,CustomerListComponent_div_12_ng_container_3_3_ng_template_0_Template,0,0,"ng-template")}function CustomerListComponent_div_12_ng_container_3_4_ng_template_0_Template(rf,ctx){}function CustomerListComponent_div_12_ng_container_3_4_Template(rf,ctx){1&rf&&core.YNc(0,CustomerListComponent_div_12_ng_container_3_4_ng_template_0_Template,0,0,"ng-template")}__name(CustomerListComponent_div_12_ng_container_2_Template,"CustomerListComponent_div_12_ng_container_2_Template"),__name(CustomerListComponent_div_12_ng_container_3_3_ng_template_0_Template,"CustomerListComponent_div_12_ng_container_3_3_ng_template_0_Template"),__name(CustomerListComponent_div_12_ng_container_3_3_Template,"CustomerListComponent_div_12_ng_container_3_3_Template"),__name(CustomerListComponent_div_12_ng_container_3_4_ng_template_0_Template,"CustomerListComponent_div_12_ng_container_3_4_ng_template_0_Template"),__name(CustomerListComponent_div_12_ng_container_3_4_Template,"CustomerListComponent_div_12_ng_container_3_4_Template");const _c11=__name(function(a0){return{customerSearchPage:a0}},"_c11");function CustomerListComponent_div_12_ng_container_3_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"div",25),core.ALo(2,"async"),core.YNc(3,CustomerListComponent_div_12_ng_container_3_3_Template,1,0,null,24),core.YNc(4,CustomerListComponent_div_12_ng_container_3_4_Template,1,0,null,24),core.ALo(5,"async"),core.qZA(),core.BQk()),2&rf){const customerListsPage_r31=core.oxw().ngIf,ctx_r33=core.oxw(),_r21=core.MAs(39),_r15=core.MAs(33);core.xp6(1),core.ekj("mobile",core.lcZ(2,6,ctx_r33.breakpoint$)===ctx_r33.BREAKPOINT.xs),core.xp6(2),core.Q6J("ngTemplateOutlet",_r21)("ngTemplateOutletContext",core.VKq(10,_c10,customerListsPage_r31)),core.xp6(1),core.Q6J("ngTemplateOutlet",_r15)("ngTemplateOutletContext",core.VKq(12,_c11,core.lcZ(5,8,ctx_r33.customerSearchPage$)))}}function CustomerListComponent_div_12_6_ng_template_0_Template(rf,ctx){}function CustomerListComponent_div_12_6_Template(rf,ctx){1&rf&&core.YNc(0,CustomerListComponent_div_12_6_ng_template_0_Template,0,0,"ng-template")}function CustomerListComponent_div_12_ng_container_7_1_ng_template_0_Template(rf,ctx){}function CustomerListComponent_div_12_ng_container_7_1_Template(rf,ctx){1&rf&&core.YNc(0,CustomerListComponent_div_12_ng_container_7_1_ng_template_0_Template,0,0,"ng-template")}function CustomerListComponent_div_12_ng_container_7_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerListComponent_div_12_ng_container_7_1_Template,1,0,null,21),core.BQk()),2&rf){core.oxw(2);const _r19=core.MAs(37);core.xp6(1),core.Q6J("ngTemplateOutlet",_r19)}}function CustomerListComponent_div_12_ng_container_8_1_ng_template_0_Template(rf,ctx){}function CustomerListComponent_div_12_ng_container_8_1_Template(rf,ctx){1&rf&&core.YNc(0,CustomerListComponent_div_12_ng_container_8_1_ng_template_0_Template,0,0,"ng-template")}function CustomerListComponent_div_12_ng_container_8_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerListComponent_div_12_ng_container_8_1_Template,1,0,null,21),core.BQk()),2&rf){core.oxw(2);const _r13=core.MAs(31);core.xp6(1),core.Q6J("ngTemplateOutlet",_r13)}}function CustomerListComponent_div_12_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",22),core.ALo(1,"async"),core.YNc(2,CustomerListComponent_div_12_ng_container_2_Template,2,4,"ng-container",5),core.YNc(3,CustomerListComponent_div_12_ng_container_3_Template,6,14,"ng-container",5),core.TgZ(4,"div",23),core.ALo(5,"async"),core.YNc(6,CustomerListComponent_div_12_6_Template,1,0,null,21),core.YNc(7,CustomerListComponent_div_12_ng_container_7_Template,2,1,"ng-container",5),core.YNc(8,CustomerListComponent_div_12_ng_container_8_Template,2,1,"ng-container",5),core.qZA()()),2&rf){const ctx_r2=core.oxw(),_r17=core.MAs(35);core.ekj("tablet-mobile",core.lcZ(1,9,ctx_r2.breakpoint$)!==ctx_r2.BREAKPOINT.md),core.xp6(2),core.Q6J("cxFeatureLevel","!6.1"),core.xp6(1),core.Q6J("cxFeatureLevel","6.1"),core.xp6(1),core.ekj("mobile",core.lcZ(5,11,ctx_r2.breakpoint$)===ctx_r2.BREAKPOINT.xs),core.xp6(2),core.Q6J("ngTemplateOutlet",_r17),core.xp6(1),core.Q6J("cxFeatureLevel","!6.1"),core.xp6(1),core.Q6J("cxFeatureLevel","6.1")}}function CustomerListComponent_div_17_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",26),core._uU(1),core.ALo(2,"cxTranslate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"asm.customerList.noLists")," "))}function CustomerListComponent_div_18_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",26),core._uU(1),core.ALo(2,"cxTranslate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"asm.customerList.listsError")," "))}function CustomerListComponent_div_19_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",26),core._uU(1),core.ALo(2,"cxTranslate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"generalErrors.pageFailure")," "))}function CustomerListComponent_cx_spinner_21_Template(rf,ctx){1&rf&&core._UZ(0,"cx-spinner")}function CustomerListComponent_div_23_table_1_thead_4_ng_container_2_th_1_Template(rf,ctx){1&rf&&(core.TgZ(0,"th",35)(1,"span",30),core._uU(2),core.ALo(3,"cxTranslate"),core.qZA()()),2&rf&&(core.xp6(2),core.hij(" ",core.lcZ(3,1,"asm.customerList.tableHeader.customer")," "))}function CustomerListComponent_div_23_table_1_thead_4_ng_container_2_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerListComponent_div_23_table_1_thead_4_ng_container_2_th_1_Template,4,3,"th",34),core.BQk()),2&rf){const ctx_r55=core.oxw(4);core.xp6(1),core.Q6J("ngIf",null==ctx_r55.customerListConfig?null:ctx_r55.customerListConfig.showAvatar)}}function CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._uU(1),core.ALo(2,"cxTranslate"),core.BQk()),2&rf){const column_r58=core.oxw(2).$implicit;core.xp6(1),core.hij(" ",core.lcZ(2,1,column_r58.headerLocalizationKey)," ")}}function CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_2_ng_container_1_Template(rf,ctx){1&rf&&(core.ynx(0),core._uU(1),core.ALo(2,"cxTranslate"),core.BQk()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"asm.customerList.tableHeader.customerName")," "))}function CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_2_ng_container_2_Template(rf,ctx){1&rf&&(core.ynx(0),core._uU(1),core.ALo(2,"cxTranslate"),core.BQk()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"asm.customerList.tableHeader.emailId")," "))}function CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_2_ng_container_3_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._uU(1),core.ALo(2,"cxTranslate"),core.BQk()),2&rf){const column_r58=core.oxw(3).$implicit;core.xp6(1),core.hij(" ",core.lcZ(2,1,column_r58.headerLocalizationKey)," ")}}function CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_2_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_2_ng_container_1_Template,3,3,"ng-container",11),core.YNc(2,CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_2_ng_container_2_Template,3,3,"ng-container",11),core.YNc(3,CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_2_ng_container_3_Template,3,3,"ng-container",11),core.BQk()),2&rf){const column_r58=core.oxw(2).$implicit;core.xp6(1),core.Q6J("ngIf","asm.customerList.tableHeader.customer"===column_r58.headerLocalizationKey),core.xp6(1),core.Q6J("ngIf","asm.customerList.tableHeader.email"===column_r58.headerLocalizationKey),core.xp6(1),core.Q6J("ngIf","asm.customerList.tableHeader.customer"!==column_r58.headerLocalizationKey&&"asm.customerList.tableHeader.email"!==column_r58.headerLocalizationKey)}}function CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_Template(rf,ctx){1&rf&&(core.TgZ(0,"span"),core.YNc(1,CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_1_Template,3,3,"ng-container",5),core.YNc(2,CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_2_Template,4,3,"ng-container",5),core.qZA()),2&rf&&(core.xp6(1),core.Q6J("cxFeatureLevel","!6.1"),core.xp6(1),core.Q6J("cxFeatureLevel","6.1"))}function CustomerListComponent_div_23_table_1_thead_4_th_3_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"th",36),core.YNc(1,CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_Template,3,2,"span",11),core.qZA()),2&rf){const column_r58=ctx.$implicit;core.xp6(1),core.Q6J("ngIf",column_r58.headerLocalizationKey&&"hideHeaders"!==column_r58.headerLocalizationKey)}}function CustomerListComponent_div_23_table_1_thead_4_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"thead")(1,"tr",32),core.YNc(2,CustomerListComponent_div_23_table_1_thead_4_ng_container_2_Template,2,1,"ng-container",5),core.YNc(3,CustomerListComponent_div_23_table_1_thead_4_th_3_Template,2,1,"th",33),core.qZA()()),2&rf){const ctx_r53=core.oxw(3);core.xp6(2),core.Q6J("cxFeatureLevel","!6.1"),core.xp6(1),core.Q6J("ngForOf",null==ctx_r53.customerListConfig?null:ctx_r53.customerListConfig.columns)}}function CustomerListComponent_div_23_table_1_tr_7_ng_container_1_td_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"td",39)(1,"div",40),core._uU(2),core.qZA()()),2&rf){const customerEntry_r68=core.oxw(2).$implicit,ctx_r73=core.oxw(3);core.xp6(2),core.hij(" ",ctx_r73.getBadgeText(customerEntry_r68)," ")}}function CustomerListComponent_div_23_table_1_tr_7_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerListComponent_div_23_table_1_tr_7_ng_container_1_td_1_Template,3,1,"td",38),core.BQk()),2&rf){const ctx_r69=core.oxw(4);core.xp6(1),core.Q6J("ngIf",null==ctx_r69.customerListConfig?null:ctx_r69.customerListConfig.showAvatar)}}function CustomerListComponent_div_23_table_1_tr_7_ng_container_2_td_1_1_ng_template_0_Template(rf,ctx){}function CustomerListComponent_div_23_table_1_tr_7_ng_container_2_td_1_1_Template(rf,ctx){1&rf&&core.YNc(0,CustomerListComponent_div_23_table_1_tr_7_ng_container_2_td_1_1_ng_template_0_Template,0,0,"ng-template")}__name(CustomerListComponent_div_12_ng_container_3_Template,"CustomerListComponent_div_12_ng_container_3_Template"),__name(CustomerListComponent_div_12_6_ng_template_0_Template,"CustomerListComponent_div_12_6_ng_template_0_Template"),__name(CustomerListComponent_div_12_6_Template,"CustomerListComponent_div_12_6_Template"),__name(CustomerListComponent_div_12_ng_container_7_1_ng_template_0_Template,"CustomerListComponent_div_12_ng_container_7_1_ng_template_0_Template"),__name(CustomerListComponent_div_12_ng_container_7_1_Template,"CustomerListComponent_div_12_ng_container_7_1_Template"),__name(CustomerListComponent_div_12_ng_container_7_Template,"CustomerListComponent_div_12_ng_container_7_Template"),__name(CustomerListComponent_div_12_ng_container_8_1_ng_template_0_Template,"CustomerListComponent_div_12_ng_container_8_1_ng_template_0_Template"),__name(CustomerListComponent_div_12_ng_container_8_1_Template,"CustomerListComponent_div_12_ng_container_8_1_Template"),__name(CustomerListComponent_div_12_ng_container_8_Template,"CustomerListComponent_div_12_ng_container_8_Template"),__name(CustomerListComponent_div_12_Template,"CustomerListComponent_div_12_Template"),__name(CustomerListComponent_div_17_Template,"CustomerListComponent_div_17_Template"),__name(CustomerListComponent_div_18_Template,"CustomerListComponent_div_18_Template"),__name(CustomerListComponent_div_19_Template,"CustomerListComponent_div_19_Template"),__name(CustomerListComponent_cx_spinner_21_Template,"CustomerListComponent_cx_spinner_21_Template"),__name(CustomerListComponent_div_23_table_1_thead_4_ng_container_2_th_1_Template,"CustomerListComponent_div_23_table_1_thead_4_ng_container_2_th_1_Template"),__name(CustomerListComponent_div_23_table_1_thead_4_ng_container_2_Template,"CustomerListComponent_div_23_table_1_thead_4_ng_container_2_Template"),__name(CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_1_Template,"CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_1_Template"),__name(CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_2_ng_container_1_Template,"CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_2_ng_container_1_Template"),__name(CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_2_ng_container_2_Template,"CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_2_ng_container_2_Template"),__name(CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_2_ng_container_3_Template,"CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_2_ng_container_3_Template"),__name(CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_2_Template,"CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_ng_container_2_Template"),__name(CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_Template,"CustomerListComponent_div_23_table_1_thead_4_th_3_span_1_Template"),__name(CustomerListComponent_div_23_table_1_thead_4_th_3_Template,"CustomerListComponent_div_23_table_1_thead_4_th_3_Template"),__name(CustomerListComponent_div_23_table_1_thead_4_Template,"CustomerListComponent_div_23_table_1_thead_4_Template"),__name(CustomerListComponent_div_23_table_1_tr_7_ng_container_1_td_1_Template,"CustomerListComponent_div_23_table_1_tr_7_ng_container_1_td_1_Template"),__name(CustomerListComponent_div_23_table_1_tr_7_ng_container_1_Template,"CustomerListComponent_div_23_table_1_tr_7_ng_container_1_Template"),__name(CustomerListComponent_div_23_table_1_tr_7_ng_container_2_td_1_1_ng_template_0_Template,"CustomerListComponent_div_23_table_1_tr_7_ng_container_2_td_1_1_ng_template_0_Template"),__name(CustomerListComponent_div_23_table_1_tr_7_ng_container_2_td_1_1_Template,"CustomerListComponent_div_23_table_1_tr_7_ng_container_2_td_1_1_Template");const _c12=__name(function(a0,a1){return{customerEntry:a0,column:a1,showHeader:!1}},"_c12");function CustomerListComponent_div_23_table_1_tr_7_ng_container_2_td_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"td",42),core.YNc(1,CustomerListComponent_div_23_table_1_tr_7_ng_container_2_td_1_1_Template,1,0,null,24),core.qZA()),2&rf){const column_r76=ctx.$implicit,customerEntry_r68=core.oxw(2).$implicit;core.oxw(3);const _r9=core.MAs(27);core.xp6(1),core.Q6J("ngTemplateOutlet",_r9)("ngTemplateOutletContext",core.WLB(2,_c12,customerEntry_r68,column_r76))}}function CustomerListComponent_div_23_table_1_tr_7_ng_container_2_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerListComponent_div_23_table_1_tr_7_ng_container_2_td_1_Template,2,5,"td",41),core.BQk()),2&rf){const ctx_r70=core.oxw(4);core.xp6(1),core.Q6J("ngForOf",null==ctx_r70.customerListConfig?null:ctx_r70.customerListConfig.columns)}}function CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_2_ng_container_1_1_ng_template_0_Template(rf,ctx){}function CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_2_ng_container_1_1_Template(rf,ctx){1&rf&&core.YNc(0,CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_2_ng_container_1_1_ng_template_0_Template,0,0,"ng-template")}__name(CustomerListComponent_div_23_table_1_tr_7_ng_container_2_td_1_Template,"CustomerListComponent_div_23_table_1_tr_7_ng_container_2_td_1_Template"),__name(CustomerListComponent_div_23_table_1_tr_7_ng_container_2_Template,"CustomerListComponent_div_23_table_1_tr_7_ng_container_2_Template"),__name(CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_2_ng_container_1_1_ng_template_0_Template,"CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_2_ng_container_1_1_ng_template_0_Template"),__name(CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_2_ng_container_1_1_Template,"CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_2_ng_container_1_1_Template");const _c13=__name(function(a0,a1){return{customerEntry:a0,column:a1,showHeader:!0}},"_c13");function CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_2_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_2_ng_container_1_1_Template,1,0,null,24),core.BQk()),2&rf){const column_r82=core.oxw().$implicit,customerEntry_r68=core.oxw(2).$implicit;core.oxw(3);const _r9=core.MAs(27);core.xp6(1),core.Q6J("ngTemplateOutlet",_r9)("ngTemplateOutletContext",core.WLB(2,_c13,customerEntry_r68,column_r82))}}function CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_2_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_2_ng_container_1_Template,2,5,"ng-container",11),core.BQk()),2&rf){const even_r83=ctx.even;core.xp6(1),core.Q6J("ngIf",even_r83)}}function CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_4_ng_container_1_1_ng_template_0_Template(rf,ctx){}function CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_4_ng_container_1_1_Template(rf,ctx){1&rf&&core.YNc(0,CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_4_ng_container_1_1_ng_template_0_Template,0,0,"ng-template")}function CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_4_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_4_ng_container_1_1_Template,1,0,null,24),core.BQk()),2&rf){const column_r89=core.oxw().$implicit,customerEntry_r68=core.oxw(2).$implicit;core.oxw(3);const _r9=core.MAs(27);core.xp6(1),core.Q6J("ngTemplateOutlet",_r9)("ngTemplateOutletContext",core.WLB(2,_c13,customerEntry_r68,column_r89))}}function CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_4_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_4_ng_container_1_Template,2,5,"ng-container",11),core.BQk()),2&rf){const odd_r90=ctx.odd;core.xp6(1),core.Q6J("ngIf",odd_r90)}}function CustomerListComponent_div_23_table_1_tr_7_ng_container_4_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.TgZ(1,"td",43),core.YNc(2,CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_2_Template,2,1,"ng-container",44),core.qZA(),core.TgZ(3,"td",43),core.YNc(4,CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_4_Template,2,1,"ng-container",44),core.qZA(),core.BQk()),2&rf){const ctx_r71=core.oxw(4);core.xp6(2),core.Q6J("ngForOf",null==ctx_r71.customerListConfig?null:ctx_r71.customerListConfig.columns),core.xp6(2),core.Q6J("ngForOf",null==ctx_r71.customerListConfig?null:ctx_r71.customerListConfig.columns)}}function CustomerListComponent_div_23_table_1_tr_7_td_6_ng_container_1_1_ng_template_0_Template(rf,ctx){}function CustomerListComponent_div_23_table_1_tr_7_td_6_ng_container_1_1_Template(rf,ctx){1&rf&&core.YNc(0,CustomerListComponent_div_23_table_1_tr_7_td_6_ng_container_1_1_ng_template_0_Template,0,0,"ng-template")}function CustomerListComponent_div_23_table_1_tr_7_td_6_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerListComponent_div_23_table_1_tr_7_td_6_ng_container_1_1_Template,1,0,null,24),core.BQk()),2&rf){const column_r97=ctx.$implicit,customerEntry_r68=core.oxw(2).$implicit;core.oxw(3);const _r9=core.MAs(27);core.xp6(1),core.Q6J("ngTemplateOutlet",_r9)("ngTemplateOutletContext",core.WLB(2,_c13,customerEntry_r68,column_r97))}}function CustomerListComponent_div_23_table_1_tr_7_td_6_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"td",43),core.YNc(1,CustomerListComponent_div_23_table_1_tr_7_td_6_ng_container_1_Template,2,5,"ng-container",44),core.qZA()),2&rf){const ctx_r72=core.oxw(4);core.xp6(1),core.Q6J("ngForOf",null==ctx_r72.customerListConfig?null:ctx_r72.customerListConfig.columns)}}function CustomerListComponent_div_23_table_1_tr_7_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"tr",32),core.YNc(1,CustomerListComponent_div_23_table_1_tr_7_ng_container_1_Template,2,1,"ng-container",5),core.YNc(2,CustomerListComponent_div_23_table_1_tr_7_ng_container_2_Template,2,1,"ng-container",11),core.ALo(3,"async"),core.YNc(4,CustomerListComponent_div_23_table_1_tr_7_ng_container_4_Template,5,2,"ng-container",11),core.ALo(5,"async"),core.YNc(6,CustomerListComponent_div_23_table_1_tr_7_td_6_Template,2,1,"td",37),core.ALo(7,"async"),core.qZA()),2&rf){const ctx_r54=core.oxw(3);core.xp6(1),core.Q6J("cxFeatureLevel","!6.1"),core.xp6(1),core.Q6J("ngIf",core.lcZ(3,4,ctx_r54.breakpoint$)===ctx_r54.BREAKPOINT.md),core.xp6(2),core.Q6J("ngIf",core.lcZ(5,6,ctx_r54.breakpoint$)===ctx_r54.BREAKPOINT.sm),core.xp6(2),core.Q6J("ngIf",core.lcZ(7,8,ctx_r54.breakpoint$)===ctx_r54.BREAKPOINT.xs)}}function CustomerListComponent_div_23_table_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"table",29)(1,"caption",30),core._uU(2),core.ALo(3,"cxTranslate"),core.qZA(),core.YNc(4,CustomerListComponent_div_23_table_1_thead_4_Template,4,2,"thead",11),core.ALo(5,"async"),core.TgZ(6,"tbody"),core.YNc(7,CustomerListComponent_div_23_table_1_tr_7_Template,8,10,"tr",31),core.qZA()()),2&rf){const customerSearchPage_r50=core.oxw().ngIf,ctx_r51=core.oxw();core.xp6(2),core.hij(" ",core.lcZ(3,3,"asm.customerList.title")," "),core.xp6(2),core.Q6J("ngIf",core.lcZ(5,5,ctx_r51.breakpoint$)===ctx_r51.BREAKPOINT.md),core.xp6(3),core.Q6J("ngForOf",null==customerSearchPage_r50?null:customerSearchPage_r50.entries)}}function CustomerListComponent_div_23_div_2_Template(rf,ctx){1&rf&&(core.TgZ(0,"div",45),core._uU(1),core.ALo(2,"cxTranslate"),core.qZA()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"asm.customerList.noCustomers")," "))}function CustomerListComponent_div_23_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div"),core.YNc(1,CustomerListComponent_div_23_table_1_Template,8,7,"table",27),core.YNc(2,CustomerListComponent_div_23_div_2_Template,3,3,"div",28),core.qZA()),2&rf){const customerSearchPage_r50=ctx.ngIf,ctx_r7=core.oxw();core.xp6(1),core.Q6J("ngIf",ctx_r7.loaded),core.xp6(1),core.Q6J("ngIf",!(null!=customerSearchPage_r50&&customerSearchPage_r50.entries.length))}}function CustomerListComponent_ng_container_25_div_1_div_4_Template(rf,ctx){if(1&rf){const _r107=core.EpF();core.TgZ(0,"div")(1,"cx-pagination",50),core.NdJ("viewPageEvent",__name(function($event){core.CHM(_r107);const ctx_r106=core.oxw(3);return core.KtG(ctx_r106.changePage($event))},"CustomerListComponent_ng_container_25_div_1_div_4_Template_cx_pagination_viewPageEvent_1_listener")),core.qZA()()}if(2&rf){const customerSearchPage_r105=ctx.ngIf;core.xp6(1),core.Q6J("pagination",customerSearchPage_r105.pagination)}}function CustomerListComponent_ng_container_25_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",49),core.ALo(1,"async"),core.TgZ(2,"div",23),core.ALo(3,"async"),core.YNc(4,CustomerListComponent_ng_container_25_div_1_div_4_Template,2,1,"div",11),core.ALo(5,"async"),core.qZA()()),2&rf){const ctx_r102=core.oxw(2);core.ekj("asm-mobile-pagination",core.lcZ(1,5,ctx_r102.breakpoint$)!==ctx_r102.BREAKPOINT.md),core.xp6(2),core.ekj("mobile",core.lcZ(3,7,ctx_r102.breakpoint$)===ctx_r102.BREAKPOINT.xs),core.xp6(2),core.Q6J("ngIf",core.lcZ(5,9,ctx_r102.customerSearchPage$))}}function CustomerListComponent_ng_container_25_Template(rf,ctx){if(1&rf){const _r109=core.EpF();core.ynx(0),core.YNc(1,CustomerListComponent_ng_container_25_div_1_Template,6,11,"div",46),core.ALo(2,"async"),core.TgZ(3,"div",47)(4,"button",48),core.NdJ("click",__name(function(){core.CHM(_r109);const ctx_r108=core.oxw();return core.KtG(ctx_r108.closeModal("Cancel click"))},"CustomerListComponent_ng_container_25_Template_button_click_4_listener")),core._uU(5),core.ALo(6,"cxTranslate"),core.qZA()(),core.BQk()}if(2&rf){const ctx_r8=core.oxw();core.xp6(1),core.Q6J("ngIf",core.lcZ(2,2,ctx_r8.customerListsPage$)),core.xp6(4),core.hij(" ",core.lcZ(6,4,"asm.createCustomerForm.cancel")," ")}}function CustomerListComponent_ng_template_26_div_0_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",55),core._uU(1),core.ALo(2,"cxTranslate"),core.qZA()),2&rf){const column_r111=core.oxw(2).column;core.xp6(1),core.hij(" ",core.lcZ(2,1,column_r111.headerLocalizationKey)," ")}}function CustomerListComponent_ng_template_26_div_0_ng_container_2_ng_container_1_Template(rf,ctx){1&rf&&core.GkF(0)}__name(CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_2_ng_container_1_Template,"CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_2_ng_container_1_Template"),__name(CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_2_Template,"CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_2_Template"),__name(CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_4_ng_container_1_1_ng_template_0_Template,"CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_4_ng_container_1_1_ng_template_0_Template"),__name(CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_4_ng_container_1_1_Template,"CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_4_ng_container_1_1_Template"),__name(CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_4_ng_container_1_Template,"CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_4_ng_container_1_Template"),__name(CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_4_Template,"CustomerListComponent_div_23_table_1_tr_7_ng_container_4_ng_container_4_Template"),__name(CustomerListComponent_div_23_table_1_tr_7_ng_container_4_Template,"CustomerListComponent_div_23_table_1_tr_7_ng_container_4_Template"),__name(CustomerListComponent_div_23_table_1_tr_7_td_6_ng_container_1_1_ng_template_0_Template,"CustomerListComponent_div_23_table_1_tr_7_td_6_ng_container_1_1_ng_template_0_Template"),__name(CustomerListComponent_div_23_table_1_tr_7_td_6_ng_container_1_1_Template,"CustomerListComponent_div_23_table_1_tr_7_td_6_ng_container_1_1_Template"),__name(CustomerListComponent_div_23_table_1_tr_7_td_6_ng_container_1_Template,"CustomerListComponent_div_23_table_1_tr_7_td_6_ng_container_1_Template"),__name(CustomerListComponent_div_23_table_1_tr_7_td_6_Template,"CustomerListComponent_div_23_table_1_tr_7_td_6_Template"),__name(CustomerListComponent_div_23_table_1_tr_7_Template,"CustomerListComponent_div_23_table_1_tr_7_Template"),__name(CustomerListComponent_div_23_table_1_Template,"CustomerListComponent_div_23_table_1_Template"),__name(CustomerListComponent_div_23_div_2_Template,"CustomerListComponent_div_23_div_2_Template"),__name(CustomerListComponent_div_23_Template,"CustomerListComponent_div_23_Template"),__name(CustomerListComponent_ng_container_25_div_1_div_4_Template,"CustomerListComponent_ng_container_25_div_1_div_4_Template"),__name(CustomerListComponent_ng_container_25_div_1_Template,"CustomerListComponent_ng_container_25_div_1_Template"),__name(CustomerListComponent_ng_container_25_Template,"CustomerListComponent_ng_container_25_Template"),__name(CustomerListComponent_ng_template_26_div_0_span_1_Template,"CustomerListComponent_ng_template_26_div_0_span_1_Template"),__name(CustomerListComponent_ng_template_26_div_0_ng_container_2_ng_container_1_Template,"CustomerListComponent_ng_template_26_div_0_ng_container_2_ng_container_1_Template");const _c14=__name(function(a0,a1){return{column:a0,customerEntry:a1}},"_c14");function CustomerListComponent_ng_template_26_div_0_ng_container_2_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerListComponent_ng_template_26_div_0_ng_container_2_ng_container_1_Template,1,0,"ng-container",24),core.BQk()),2&rf){const ctx_r120=core.oxw(2),column_r111=ctx_r120.column,customerEntry_r110=ctx_r120.customerEntry;core.oxw();const _r11=core.MAs(29);core.xp6(1),core.Q6J("ngTemplateOutlet",_r11)("ngTemplateOutletContext",core.WLB(2,_c14,column_r111,customerEntry_r110))}}function CustomerListComponent_ng_template_26_div_0_ng_container_3_div_1_img_1_Template(rf,ctx){if(1&rf&&(core._UZ(0,"img",59),core.ALo(1,"cxTranslate")),2&rf){const customerEntry_r110=core.oxw(4).customerEntry,ctx_r122=core.oxw();core.s9C("alt",core.lcZ(1,2,"asm.mainLogoLabel")),core.uIk("src",(null==ctx_r122.occConfig||null==ctx_r122.occConfig.backend||null==ctx_r122.occConfig.backend.occ?null:ctx_r122.occConfig.backend.occ.baseUrl)+(null==customerEntry_r110||null==customerEntry_r110.userAvatar?null:customerEntry_r110.userAvatar.url),core.LSH)}}function CustomerListComponent_ng_template_26_div_0_ng_container_3_div_1_div_2_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",60),core._uU(1),core.qZA()),2&rf){const customerEntry_r110=core.oxw(4).customerEntry,ctx_r123=core.oxw();core.xp6(1),core.hij(" ",ctx_r123.getBadgeText(customerEntry_r110)," ")}}function CustomerListComponent_ng_template_26_div_0_ng_container_3_div_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",40),core.YNc(1,CustomerListComponent_ng_template_26_div_0_ng_container_3_div_1_img_1_Template,2,4,"img",57),core.YNc(2,CustomerListComponent_ng_template_26_div_0_ng_container_3_div_1_div_2_Template,2,1,"div",58),core.qZA()),2&rf){const customerEntry_r110=core.oxw(3).customerEntry;core.xp6(1),core.Q6J("ngIf",null==customerEntry_r110||null==customerEntry_r110.userAvatar?null:customerEntry_r110.userAvatar.url),core.xp6(1),core.Q6J("ngIf",!(null!=customerEntry_r110&&null!=customerEntry_r110.userAvatar&&customerEntry_r110.userAvatar.url))}}function CustomerListComponent_ng_template_26_div_0_ng_container_3_Template(rf,ctx){if(1&rf&&(core.ynx(0),core.YNc(1,CustomerListComponent_ng_template_26_div_0_ng_container_3_div_1_Template,3,2,"div",56),core.BQk()),2&rf){const column_r111=core.oxw(2).column,ctx_r116=core.oxw();core.xp6(1),core.Q6J("ngIf",(null==ctx_r116.customerListConfig?null:ctx_r116.customerListConfig.showAvatar)&&(null==column_r111?null:column_r111.actionType)===(null==ctx_r116.customerListColumnActionType?null:ctx_r116.customerListColumnActionType.START_SESSION))}}function CustomerListComponent_ng_template_26_div_0_button_4_ng_container_3_Template(rf,ctx){1&rf&&core.GkF(0)}function CustomerListComponent_ng_template_26_div_0_button_4_Template(rf,ctx){if(1&rf){const _r131=core.EpF();core.TgZ(0,"button",61),core.NdJ("click",__name(function(){core.CHM(_r131);const ctx_r130=core.oxw(2),customerEntry_r110=ctx_r130.customerEntry,column_r111=ctx_r130.column,ctx_r129=core.oxw();return core.KtG(ctx_r129.startColumnAction(customerEntry_r110,column_r111.actionType))},"CustomerListComponent_ng_template_26_div_0_button_4_Template_button_click_0_listener")),core.ALo(1,"cxTranslate"),core.ALo(2,"cxTranslate"),core.YNc(3,CustomerListComponent_ng_template_26_div_0_button_4_ng_container_3_Template,1,0,"ng-container",24),core.qZA()}if(2&rf){const ctx_r132=core.oxw(2),column_r111=ctx_r132.column,customerEntry_r110=ctx_r132.customerEntry,ctx_r117=core.oxw(),_r11=core.MAs(29);let tmp_2_0,tmp_3_0;core.Tol("ACTIVE_CART"===column_r111.actionType?"cx-cart":""),core.Q6J("disabled",ctx_r117.isRequired(customerEntry_r110,column_r111.actionType)),core.uIk("title",column_r111.icon?core.lcZ(1,7,null!==(tmp_2_0=column_r111.icon.captionLocalizationKey)&&void 0!==tmp_2_0?tmp_2_0:column_r111.headerLocalizationKey):void 0)("aria-label",column_r111.icon?core.lcZ(2,9,null!==(tmp_3_0=column_r111.icon.captionLocalizationKey)&&void 0!==tmp_3_0?tmp_3_0:column_r111.headerLocalizationKey):void 0),core.xp6(3),core.Q6J("ngTemplateOutlet",_r11)("ngTemplateOutletContext",core.WLB(11,_c14,column_r111,customerEntry_r110))}}function CustomerListComponent_ng_template_26_div_0_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",52),core.YNc(1,CustomerListComponent_ng_template_26_div_0_span_1_Template,3,3,"span",53),core.YNc(2,CustomerListComponent_ng_template_26_div_0_ng_container_2_Template,2,5,"ng-container",11),core.YNc(3,CustomerListComponent_ng_template_26_div_0_ng_container_3_Template,2,1,"ng-container",5),core.YNc(4,CustomerListComponent_ng_template_26_div_0_button_4_Template,4,14,"button",54),core.qZA()),2&rf){const ctx_r133=core.oxw(),showHeader_r112=ctx_r133.showHeader,column_r111=ctx_r133.column;core.xp6(1),core.Q6J("ngIf",showHeader_r112),core.xp6(1),core.Q6J("ngIf",!column_r111.actionType),core.xp6(1),core.Q6J("cxFeatureLevel","6.1"),core.xp6(1),core.Q6J("ngIf",column_r111.actionType)}}function CustomerListComponent_ng_template_26_Template(rf,ctx){if(1&rf&&core.YNc(0,CustomerListComponent_ng_template_26_div_0_Template,5,4,"div",51),2&rf){const column_r111=ctx.column;core.Q6J("ngIf","hideHeaders"!==column_r111.headerLocalizationKey)}}function CustomerListComponent_ng_template_28_span_1_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span"),core._uU(1),core.qZA()),2&rf){const ctx_r138=core.oxw(),column_r135=ctx_r138.column,customerEntry_r134=ctx_r138.customerEntry;core.xp6(1),core.Oqu((null==column_r135.renderer?null:column_r135.renderer(customerEntry_r134))||"")}}function CustomerListComponent_ng_template_28_cx_icon_2_Template(rf,ctx){if(1&rf&&(core._UZ(0,"cx-icon",63),core.ALo(1,"cxTranslate"),core.ALo(2,"cxTranslate")),2&rf){const ctx_r139=core.oxw(),column_r135=ctx_r139.column,customerEntry_r134=ctx_r139.customerEntry,ctx_r137=core.oxw();let tmp_2_0,tmp_3_0;core.ekj("cx-action-color",column_r135.actionType&&!ctx_r137.isRequired(customerEntry_r134,column_r135.actionType)),core.Q6J("type",column_r135.icon.symbol),core.uIk("title",column_r135.actionType?void 0:core.lcZ(1,5,null!==(tmp_2_0=column_r135.icon.captionLocalizationKey)&&void 0!==tmp_2_0?tmp_2_0:column_r135.headerLocalizationKey))("aria-label",column_r135.actionType?void 0:core.lcZ(2,7,null!==(tmp_3_0=column_r135.icon.captionLocalizationKey)&&void 0!==tmp_3_0?tmp_3_0:column_r135.headerLocalizationKey))}}function CustomerListComponent_ng_template_28_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div"),core.YNc(1,CustomerListComponent_ng_template_28_span_1_Template,2,1,"span",11),core.YNc(2,CustomerListComponent_ng_template_28_cx_icon_2_Template,3,9,"cx-icon",62),core.qZA()),2&rf){const column_r135=ctx.column;core.xp6(1),core.Q6J("ngIf",!column_r135.icon),core.xp6(1),core.Q6J("ngIf",column_r135.icon)}}function CustomerListComponent_ng_template_30_Template(rf,ctx){if(1&rf){const _r141=core.EpF();core.TgZ(0,"div",64)(1,"input",65),core.NdJ("keyup",__name(function($event){core.CHM(_r141);const ctx_r140=core.oxw();return core.KtG(ctx_r140.onKey($event))},"CustomerListComponent_ng_template_30_Template_input_keyup_1_listener")),core.ALo(2,"cxTranslate"),core.ALo(3,"cxTranslate"),core.qZA(),core.TgZ(4,"cx-icon",66),core.NdJ("click",__name(function(){core.CHM(_r141);const ctx_r142=core.oxw();return core.KtG(ctx_r142.searchCustomers())},"CustomerListComponent_ng_template_30_Template_cx_icon_click_4_listener")),core.ALo(5,"cxTranslate"),core.qZA()()}if(2&rf){const ctx_r14=core.oxw();core.xp6(1),core.s9C("placeholder",core.lcZ(2,5,"asm.customerList.searchBox")),core.Q6J("formControl",ctx_r14.searchBox),core.uIk("aria-label",core.lcZ(3,7,"asm.customerList.enterSearchBox")),core.xp6(3),core.Q6J("type",ctx_r14.iconTypes.SEARCH),core.uIk("aria-label",core.lcZ(5,9,"storeFinder.searchNearestStores"))}}__name(CustomerListComponent_ng_template_26_div_0_ng_container_2_Template,"CustomerListComponent_ng_template_26_div_0_ng_container_2_Template"),__name(CustomerListComponent_ng_template_26_div_0_ng_container_3_div_1_img_1_Template,"CustomerListComponent_ng_template_26_div_0_ng_container_3_div_1_img_1_Template"),__name(CustomerListComponent_ng_template_26_div_0_ng_container_3_div_1_div_2_Template,"CustomerListComponent_ng_template_26_div_0_ng_container_3_div_1_div_2_Template"),__name(CustomerListComponent_ng_template_26_div_0_ng_container_3_div_1_Template,"CustomerListComponent_ng_template_26_div_0_ng_container_3_div_1_Template"),__name(CustomerListComponent_ng_template_26_div_0_ng_container_3_Template,"CustomerListComponent_ng_template_26_div_0_ng_container_3_Template"),__name(CustomerListComponent_ng_template_26_div_0_button_4_ng_container_3_Template,"CustomerListComponent_ng_template_26_div_0_button_4_ng_container_3_Template"),__name(CustomerListComponent_ng_template_26_div_0_button_4_Template,"CustomerListComponent_ng_template_26_div_0_button_4_Template"),__name(CustomerListComponent_ng_template_26_div_0_Template,"CustomerListComponent_ng_template_26_div_0_Template"),__name(CustomerListComponent_ng_template_26_Template,"CustomerListComponent_ng_template_26_Template"),__name(CustomerListComponent_ng_template_28_span_1_Template,"CustomerListComponent_ng_template_28_span_1_Template"),__name(CustomerListComponent_ng_template_28_cx_icon_2_Template,"CustomerListComponent_ng_template_28_cx_icon_2_Template"),__name(CustomerListComponent_ng_template_28_Template,"CustomerListComponent_ng_template_28_Template"),__name(CustomerListComponent_ng_template_30_Template,"CustomerListComponent_ng_template_30_Template");const _c15=__name(function(a0){return{count:a0}},"_c15");function CustomerListComponent_ng_template_32_span_0_ng_container_1_Template(rf,ctx){if(1&rf&&(core.ynx(0),core._uU(1),core.ALo(2,"cxTranslate"),core.BQk()),2&rf){const customerSearchPage_r143=core.oxw(2).customerSearchPage;core.xp6(1),core.hij(" ",core.xi3(2,1,"asm.customerList.noOfCustomers",core.VKq(4,_c15,null==customerSearchPage_r143||null==customerSearchPage_r143.pagination?null:customerSearchPage_r143.pagination.totalResults))," ")}}function CustomerListComponent_ng_template_32_span_0_ng_container_2_Template(rf,ctx){1&rf&&(core.ynx(0),core._uU(1),core.ALo(2,"cxTranslate"),core.BQk()),2&rf&&(core.xp6(1),core.hij(" ",core.lcZ(2,1,"asm.customerList.oneCustomer")," "))}function CustomerListComponent_ng_template_32_span_0_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"span",68),core.YNc(1,CustomerListComponent_ng_template_32_span_0_ng_container_1_Template,3,6,"ng-container",11),core.YNc(2,CustomerListComponent_ng_template_32_span_0_ng_container_2_Template,3,3,"ng-container",11),core.qZA()),2&rf){const customerSearchPage_r143=core.oxw().customerSearchPage;core.xp6(1),core.Q6J("ngIf",(null==customerSearchPage_r143||null==customerSearchPage_r143.pagination?null:customerSearchPage_r143.pagination.totalResults)>1),core.xp6(1),core.Q6J("ngIf",1===(null==customerSearchPage_r143||null==customerSearchPage_r143.pagination?null:customerSearchPage_r143.pagination.totalResults))}}function CustomerListComponent_ng_template_32_Template(rf,ctx){if(1&rf&&core.YNc(0,CustomerListComponent_ng_template_32_span_0_Template,3,2,"span",67),2&rf){const customerSearchPage_r143=ctx.customerSearchPage;core.Q6J("ngIf",null==customerSearchPage_r143||null==customerSearchPage_r143.pagination?null:customerSearchPage_r143.pagination.totalResults)}}__name(CustomerListComponent_ng_template_32_span_0_ng_container_1_Template,"CustomerListComponent_ng_template_32_span_0_ng_container_1_Template"),__name(CustomerListComponent_ng_template_32_span_0_ng_container_2_Template,"CustomerListComponent_ng_template_32_span_0_ng_container_2_Template"),__name(CustomerListComponent_ng_template_32_span_0_Template,"CustomerListComponent_ng_template_32_span_0_Template"),__name(CustomerListComponent_ng_template_32_Template,"CustomerListComponent_ng_template_32_Template");const _c16=__name(function(a0){return{ariaLabel:a0,ariaControls:"asm-cusomer-list-table"}},"_c16");function CustomerListComponent_ng_template_34_Template(rf,ctx){if(1&rf){const _r150=core.EpF();core.TgZ(0,"label")(1,"span",30),core._uU(2),core.ALo(3,"cxTranslate"),core.qZA(),core.TgZ(4,"cx-sorting",69),core.NdJ("sortListEvent",__name(function($event){core.CHM(_r150);const ctx_r149=core.oxw();return core.KtG(ctx_r149.changeSortCode($event))},"CustomerListComponent_ng_template_34_Template_cx_sorting_sortListEvent_4_listener")),core.ALo(5,"async"),core.ALo(6,"cxTranslate"),core.qZA()()}if(2&rf){const ctx_r18=core.oxw();core.xp6(2),core.Oqu(core.lcZ(3,6,"asm.customerList.tableSort.sortBy")),core.xp6(2),core.s9C("placeholder",core.lcZ(6,10,"asm.customerList.tableSort.sortBy")),core.Q6J("sortOptions",ctx_r18.sorts)("sortLabels",core.lcZ(5,8,ctx_r18.getSortLabels()))("selectedOption",ctx_r18.sortCode)("cxNgSelectA11y",core.VKq(12,_c16,ctx_r18.sortCode))}}function CustomerListComponent_ng_template_36_button_4_Template(rf,ctx){if(1&rf){const _r154=core.EpF();core.TgZ(0,"button",73),core.NdJ("click",__name(function(){core.CHM(_r154);const ctx_r153=core.oxw(2);return core.KtG(ctx_r153.goToPreviousPage())},"CustomerListComponent_ng_template_36_button_4_Template_button_click_0_listener")),core._UZ(1,"cx-icon",74),core.TgZ(2,"span"),core._uU(3),core.ALo(4,"cxTranslate"),core.qZA()()}if(2&rf){const ctx_r151=core.oxw(2);core.Q6J("disabled",0===ctx_r151.currentPage||!ctx_r151.loaded),core.xp6(1),core.Q6J("type",ctx_r151.iconTypes.CARET_LEFT),core.xp6(2),core.Oqu(core.lcZ(4,3,"asm.customerList.page.previous"))}}function CustomerListComponent_ng_template_36_button_5_Template(rf,ctx){if(1&rf){const _r156=core.EpF();core.TgZ(0,"button",75),core.NdJ("click",__name(function(){core.CHM(_r156);const ctx_r155=core.oxw(2);return core.KtG(ctx_r155.goToNextPage())},"CustomerListComponent_ng_template_36_button_5_Template_button_click_0_listener")),core.TgZ(1,"span"),core._uU(2),core.ALo(3,"cxTranslate"),core.qZA(),core._UZ(4,"cx-icon",76),core.qZA()}if(2&rf){const ctx_r152=core.oxw(2);core.Q6J("disabled",ctx_r152.currentPage===ctx_r152.maxPage||!ctx_r152.loaded),core.xp6(2),core.Oqu(core.lcZ(3,3,"asm.customerList.page.next")),core.xp6(2),core.Q6J("type",ctx_r152.iconTypes.CARET_RIGHT)}}function CustomerListComponent_ng_template_36_Template(rf,ctx){if(1&rf&&(core.TgZ(0,"div",70)(1,"div"),core._uU(2),core.ALo(3,"cxTranslate"),core.qZA(),core.YNc(4,CustomerListComponent_ng_template_36_button_4_Template,5,5,"button",71),core.YNc(5,CustomerListComponent_ng_template_36_button_5_Template,5,5,"button",72),core.qZA()),2&rf){const ctx_r20=core.oxw();core.xp6(2),core.hij(" ",core.xi3(3,3,"asm.customerList.page.page",core.VKq(6,_c15,ctx_r20.currentPage+1))," "),core.xp6(2),core.Q6J("ngIf",ctx_r20.maxPage>0),core.xp6(1),core.Q6J("ngIf",ctx_r20.maxPage>0)}}function CustomerListComponent_ng_template_38_Template(rf,ctx){if(1&rf){const _r159=core.EpF();core.TgZ(0,"label")(1,"span",30),core._uU(2),core.ALo(3,"cxTranslate"),core.qZA(),core.TgZ(4,"ng-select",77),core.NdJ("change",__name(function(){core.CHM(_r159);const ctx_r158=core.oxw();return core.KtG(ctx_r158.onChangeCustomerGroup())},"CustomerListComponent_ng_template_38_Template_ng_select_change_4_listener"))("ngModelChange",__name(function($event){core.CHM(_r159);const ctx_r160=core.oxw();return core.KtG(ctx_r160.selectedUserGroupId=$event)},"CustomerListComponent_ng_template_38_Template_ng_select_ngModelChange_4_listener")),core.qZA()()}if(2&rf){const customerListsPage_r157=ctx.customerListsPage,ctx_r22=core.oxw();core.xp6(2),core.Oqu(core.lcZ(3,7,"asm.customerList.title")),core.xp6(2),core.Q6J("searchable",!1)("clearable",!1)("tabIndex",0)("ngModel",ctx_r22.selectedUserGroupId)("items",null==customerListsPage_r157?null:customerListsPage_r157.userGroups)("cxNgSelectA11y",core.VKq(9,_c16,ctx_r22.getGroupName(customerListsPage_r157,ctx_r22.selectedUserGroupId)))}}function CustomerListComponent_ng_template_40_Template(rf,ctx){if(1&rf){const _r162=core.EpF();core.TgZ(0,"button",78),core.NdJ("click",__name(function(){core.CHM(_r162);const ctx_r161=core.oxw();return core.KtG(ctx_r161.closeModal("Cross click"))},"CustomerListComponent_ng_template_40_Template_button_click_0_listener")),core.ALo(1,"cxTranslate"),core.TgZ(2,"span",79),core._UZ(3,"cx-icon",63),core.qZA()()}if(2&rf){const ctx_r24=core.oxw();core.uIk("aria-label",core.lcZ(1,2,"common.close")),core.xp6(3),core.Q6J("type",ctx_r24.iconTypes.CLOSE)}}function CustomerListComponent_ng_template_42_Template(rf,ctx){if(1&rf){const _r164=core.EpF();core.TgZ(0,"button",80),core.NdJ("click",__name(function(){core.CHM(_r164);const ctx_r163=core.oxw();return core.KtG(ctx_r163.createCustomer())},"CustomerListComponent_ng_template_42_Template_button_click_0_listener")),core._UZ(1,"cx-icon",63),core.TgZ(2,"span"),core._uU(3),core.ALo(4,"cxTranslate"),core.qZA()()}if(2&rf){const ctx_r26=core.oxw();core.xp6(1),core.Q6J("type",ctx_r26.iconTypes.USER_PLUS),core.xp6(2),core.Oqu(core.lcZ(4,2,"asm.customerList.createCustomer"))}}var BIND_CART_DIALOG_ACTION,BIND_CART_DIALOG_ACTION2,SAVE_CART_DIALOG_ACTION,SAVE_CART_DIALOG_ACTION2;__name(CustomerListComponent_ng_template_34_Template,"CustomerListComponent_ng_template_34_Template"),__name(CustomerListComponent_ng_template_36_button_4_Template,"CustomerListComponent_ng_template_36_button_4_Template"),__name(CustomerListComponent_ng_template_36_button_5_Template,"CustomerListComponent_ng_template_36_button_5_Template"),__name(CustomerListComponent_ng_template_36_Template,"CustomerListComponent_ng_template_36_Template"),__name(CustomerListComponent_ng_template_38_Template,"CustomerListComponent_ng_template_38_Template"),__name(CustomerListComponent_ng_template_40_Template,"CustomerListComponent_ng_template_40_Template"),__name(CustomerListComponent_ng_template_42_Template,"CustomerListComponent_ng_template_42_Template"),(BIND_CART_DIALOG_ACTION2=BIND_CART_DIALOG_ACTION||(BIND_CART_DIALOG_ACTION={})).CANCEL="CANCEL",BIND_CART_DIALOG_ACTION2.REPLACE="REPLACE";class AsmBindCartDialogComponent{constructor(launchDialogService){this.launchDialogService=launchDialogService,this.BIND_CART_ACTION=BIND_CART_DIALOG_ACTION,this.focusConfig={trap:!0,block:!0,autofocus:!0,focusOnEscape:!0}}closeModal(reason){this.launchDialogService.closeDialog(reason)}}__name(AsmBindCartDialogComponent,"AsmBindCartDialogComponent"),AsmBindCartDialogComponent.\u0275fac=__name(function(t){return new(t||AsmBindCartDialogComponent)(core.Y36(spartacus_storefront.Q3W))},"AsmBindCartDialogComponent_Factory"),AsmBindCartDialogComponent.\u0275cmp=core.Xpm({type:AsmBindCartDialogComponent,selectors:[["cx-asm-bind-cart-dialog"]],decls:20,vars:19,consts:[[1,"cx-asm-bind-cart-dialog","cx-modal-container","cx-asm-dialog",3,"cxFocus","esc"],[1,"cx-modal-content"],[1,"cx-dialog-header","modal-header"],["id","asm-bind-cart-dialog-title",1,"title","modal-title"],[1,"cx-dialog-body","modal-body"],[1,"cx-dialog-row"],[1,"cx-dialog-item"],[1,"cx-dialog-footer","modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.NdJ("esc",__name(function(){return ctx.closeModal(ctx.BIND_CART_ACTION.CANCEL)},"AsmBindCartDialogComponent_Template_div_esc_0_listener")),core.TgZ(1,"div",1)(2,"div",2)(3,"h2",3),core._uU(4),core.ALo(5,"cxTranslate"),core.qZA()(),core.TgZ(6,"div",4)(7,"div",5)(8,"div",6),core._uU(9),core.ALo(10,"cxTranslate"),core.qZA()()(),core.TgZ(11,"div",7)(12,"button",8),core.NdJ("click",__name(function(){return ctx.closeModal(ctx.BIND_CART_ACTION.REPLACE)},"AsmBindCartDialogComponent_Template_button_click_12_listener")),core.ALo(13,"cxTranslate"),core._uU(14),core.ALo(15,"cxTranslate"),core.qZA(),core.TgZ(16,"button",9),core.NdJ("click",__name(function(){return ctx.closeModal(ctx.BIND_CART_ACTION.CANCEL)},"AsmBindCartDialogComponent_Template_button_click_16_listener")),core.ALo(17,"cxTranslate"),core._uU(18),core.ALo(19,"cxTranslate"),core.qZA()()()()),2&rf&&(core.Q6J("cxFocus",ctx.focusConfig),core.xp6(4),core.hij(" ",core.lcZ(5,7,"asm.bindCart.dialog.title")," "),core.xp6(5),core.hij(" ",core.lcZ(10,9,"asm.bindCart.dialog.body")," "),core.xp6(3),core.uIk("aria-label",core.lcZ(13,11,"asm.bindCart.dialog.actions.replace")),core.xp6(2),core.hij(" ",core.lcZ(15,13,"asm.bindCart.dialog.actions.replace")," "),core.xp6(2),core.uIk("aria-label",core.lcZ(17,15,"common.cancel")),core.xp6(2),core.hij(" ",core.lcZ(19,17,"common.cancel")," "))},"AsmBindCartDialogComponent_Template"),dependencies:[spartacus_storefront.RRe,spartacus_core.X$D],encapsulation:2}),(SAVE_CART_DIALOG_ACTION2=SAVE_CART_DIALOG_ACTION||(SAVE_CART_DIALOG_ACTION={})).CANCEL="CANCEL",SAVE_CART_DIALOG_ACTION2.SAVE="SAVE";class AsmSaveCartDialogComponent{constructor(launchDialogService,savedCartFacade){this.launchDialogService=launchDialogService,this.savedCartFacade=savedCartFacade,this.BIND_CART_ACTION=SAVE_CART_DIALOG_ACTION,this.showDialogAlert$=new BehaviorSubject.X(!0),this.globalMessageType=spartacus_core.xUg,this.focusConfig={trap:!0,block:!0,autofocus:!0,focusOnEscape:!0}}ngOnInit(){this.launchDialogService.data$.pipe((0,take.q)(1)).subscribe(data=>{this.cart=data,this.setCartTotalQty()})}setCartTotalQty(){let count=0;if(this.cart.entries)for(const entry of this.cart.entries)count+=entry.quantity?entry.quantity:0;this.cartQty=count}closeDialogAlert(){this.showDialogAlert$.next(!1)}closeModal(reason){reason===SAVE_CART_DIALOG_ACTION.SAVE&&this.saveCart(),this.launchDialogService.closeDialog(reason)}saveCart(){this.savedCartFacade.saveCart({cartId:this.cart.code,saveCartName:this.cart.code,saveCartDescription:"-"})}}__name(AsmSaveCartDialogComponent,"AsmSaveCartDialogComponent"),AsmSaveCartDialogComponent.\u0275fac=__name(function(t){return new(t||AsmSaveCartDialogComponent)(core.Y36(spartacus_storefront.Q3W),core.Y36(spartacus_cart_saved_cart_root.aD))},"AsmSaveCartDialogComponent_Factory"),AsmSaveCartDialogComponent.\u0275cmp=core.Xpm({type:AsmSaveCartDialogComponent,selectors:[["cx-asm-save-cart-dialog"]],decls:38,vars:31,consts:[[1,"cx-asm-save-cart-dialog","cx-modal-container","cx-asm-dialog",3,"cxFocus","esc"],[1,"cx-modal-content"],[1,"cx-dialog-header","modal-header"],["id","asm-save-cart-dialog-title",1,"title","modal-title"],[1,"cx-dialog-body","modal-body"],[4,"ngIf","ngIfElse"],["showSaveCartWarning",""],[1,"cx-dialog-content"],[1,"cx-dialog-row","row"],[1,"cx-dialog-item","col-sm-6","col-md-6","text-right","item-left-text"],[1,"cx-dialog-item","col-sm-6","col-md-6","text-left","item-right-text"],[1,"cx-dialog-footer","modal-footer"],["id","asm-save-cart-dialog-btn","type","button",1,"btn","btn-primary",3,"disabled","click"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"message-container"],[3,"text","type","closeMessage",4,"ngIf"],[3,"text","type","closeMessage"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0),core.NdJ("esc",__name(function(){return ctx.closeModal(ctx.BIND_CART_ACTION.CANCEL)},"AsmSaveCartDialogComponent_Template_div_esc_0_listener")),core.TgZ(1,"div",1)(2,"div",2)(3,"h2",3),core._uU(4),core.ALo(5,"cxTranslate"),core.qZA()(),core.TgZ(6,"div",4),core.YNc(7,AsmSaveCartDialogComponent_ng_container_7_Template,4,3,"ng-container",5),core.YNc(8,AsmSaveCartDialogComponent_ng_template_8_Template,3,3,"ng-template",null,6,core.W1O),core.TgZ(10,"div",7)(11,"div",8)(12,"div",9),core._uU(13),core.ALo(14,"cxTranslate"),core.qZA(),core.TgZ(15,"div",10),core._uU(16),core.qZA()(),core.TgZ(17,"div",8)(18,"div",9),core._uU(19),core.ALo(20,"cxTranslate"),core.qZA(),core.TgZ(21,"div",10),core._uU(22),core.qZA()(),core.TgZ(23,"div",8)(24,"div",9),core._uU(25),core.ALo(26,"cxTranslate"),core.qZA(),core.TgZ(27,"div",10),core._uU(28),core.qZA()()()(),core.TgZ(29,"div",11)(30,"button",12),core.NdJ("click",__name(function(){return ctx.closeModal(ctx.BIND_CART_ACTION.SAVE)},"AsmSaveCartDialogComponent_Template_button_click_30_listener")),core.ALo(31,"cxTranslate"),core._uU(32),core.ALo(33,"cxTranslate"),core.qZA(),core.TgZ(34,"button",13),core.NdJ("click",__name(function(){return ctx.closeModal(ctx.BIND_CART_ACTION.CANCEL)},"AsmSaveCartDialogComponent_Template_button_click_34_listener")),core.ALo(35,"cxTranslate"),core._uU(36),core.ALo(37,"cxTranslate"),core.qZA()()()()),2&rf){const _r1=core.MAs(9);core.Q6J("cxFocus",ctx.focusConfig),core.xp6(4),core.hij(" ",core.lcZ(5,15,"asm.saveCart.dialog.title")," "),core.xp6(3),core.Q6J("ngIf",ctx.cartQty>0)("ngIfElse",_r1),core.xp6(6),core.hij(" ",core.lcZ(14,17,"asm.saveCart.dialog.row.id")," "),core.xp6(3),core.hij(" ",ctx.cart.code," "),core.xp6(3),core.hij(" ",core.lcZ(20,19,"asm.saveCart.dialog.row.qty")," "),core.xp6(3),core.hij(" ",ctx.cartQty," "),core.xp6(3),core.hij(" ",core.lcZ(26,21,"asm.saveCart.dialog.row.total")," "),core.xp6(3),core.hij(" ",null==ctx.cart.totalPriceWithTax?null:ctx.cart.totalPriceWithTax.formattedValue," "),core.xp6(2),core.Q6J("disabled",0===ctx.cartQty),core.uIk("aria-label",core.lcZ(31,23,"asm.saveCart.dialog.actions.save")),core.xp6(2),core.hij(" ",core.lcZ(33,25,"asm.saveCart.dialog.actions.save")," "),core.xp6(2),core.uIk("aria-label",core.lcZ(35,27,"common.cancel")),core.xp6(2),core.hij(" ",core.lcZ(37,29,"common.cancel")," ")}},"AsmSaveCartDialogComponent_Template"),dependencies:[common.O5,spartacus_storefront.RRe,spartacus_storefront.qqZ,common.Ov,spartacus_core.X$D],encapsulation:2});class AsmComponentService{constructor(authService,csAgentAuthService,winRef,asmEnablerService,asmDeepLinkService){this.authService=authService,this.csAgentAuthService=csAgentAuthService,this.winRef=winRef,this.asmEnablerService=asmEnablerService,this.asmDeepLinkService=asmDeepLinkService,this.isEmulatedByDeepLink$=new BehaviorSubject.X(!1),this.showDeeplinkCartInfoAlert$=new BehaviorSubject.X(!1),this.routingService=(0,core.f3M)(spartacus_core.Znh),this.searchparam=new URLSearchParams(this.winRef?.location?.search)}getSearchParameter(key){return this.asmDeepLinkService?.getSearchParameter(key)??this.searchparam.get(key)}isEmulatedByDeepLink(){return this.isEmulatedByDeepLink$}setEmulatedByDeepLink(emulated){this.isEmulatedByDeepLink$.next(emulated)}setShowDeeplinkCartInfoAlert(display){this.showDeeplinkCartInfoAlert$.next(display)}shouldShowDeeplinkCartInfoAlert(){return this.showDeeplinkCartInfoAlert$}logoutCustomerSupportAgentAndCustomer(){this.csAgentAuthService.logoutCustomerSupportAgent()}logoutCustomer(){this.authService.logout()}isCustomerEmulationSessionInProgress(){return this.csAgentAuthService.isCustomerEmulated()}unload(){this.winRef.localStorage&&this.winRef.localStorage.removeItem(spartacus_asm_root.AJ)}isEmulateInURL(){return(this.asmDeepLinkService?.isEmulateInURL()??this.asmEnablerService?.isEmulateInURL())||!1}getDeepLinkUrlParams(){return this.asmDeepLinkService?.getParamsInUrl()}handleDeepLinkNavigation(parameters=this.getDeepLinkUrlParams()){this.asmDeepLinkService?.handleNavigation(parameters)}handleAsmDialogAction(event){"object"==typeof event&&event.actionType===spartacus_asm_customer_360_root.DX.NAVIGATE&&this.routingService.go(event.route)}}__name(AsmComponentService,"AsmComponentService"),AsmComponentService.\u0275fac=__name(function(t){return new(t||AsmComponentService)(core.LFG(spartacus_core.e80),core.LFG(spartacus_asm_root.FA),core.LFG(spartacus_core.X9E),core.LFG(spartacus_asm_root.Iy,8),core.LFG(spartacus_asm_root.ks,8))},"AsmComponentService_Factory"),AsmComponentService.\u0275prov=core.Yz7({token:AsmComponentService,factory:AsmComponentService.\u0275fac,providedIn:"root"});class DotSpinnerComponent{}__name(DotSpinnerComponent,"DotSpinnerComponent"),DotSpinnerComponent.\u0275fac=__name(function(t){return new(t||DotSpinnerComponent)},"DotSpinnerComponent_Factory"),DotSpinnerComponent.\u0275cmp=core.Xpm({type:DotSpinnerComponent,selectors:[["cx-dot-spinner"]],decls:3,vars:0,template:__name(function(rf,ctx){1&rf&&core._UZ(0,"div")(1,"div")(2,"div")},"DotSpinnerComponent_Template"),encapsulation:2,changeDetection:0});class AsmBindCartComponent{constructor(globalMessageService,activeCartFacade,multiCartFacade,asmBindCartFacade,launchDialogService,savedCartFacade,asmComponentService,routing,featureConfig){this.globalMessageService=globalMessageService,this.activeCartFacade=activeCartFacade,this.multiCartFacade=multiCartFacade,this.asmBindCartFacade=asmBindCartFacade,this.launchDialogService=launchDialogService,this.savedCartFacade=savedCartFacade,this.asmComponentService=asmComponentService,this.routing=routing,this.featureConfig=featureConfig,this.activeCartValidator=control=>control.value===this.activeCartId?{activeCartError:!0}:(this.deepLinkCartId&&control.value!==this.deepLinkCartId&&this.resetDeeplinkCart(),null),this.cartId=new fesm2020_forms.NI("",[fesm2020_forms.kI.required,fesm2020_forms.kI.minLength(1),this.activeCartValidator]),this.loading$=new BehaviorSubject.X(!1),this.valid$=this.cartId.statusChanges.pipe((0,map.U)(status=>"VALID"===status),(0,shareReplay.d)(1)),this.activeCartId="",this.deepLinkCartId="",this.displayBindCartBtn$=new BehaviorSubject.X(!0),this.displaySaveCartBtn$=new BehaviorSubject.X(!1),this.subscription=new Subscription.w}ngOnInit(){this.subscribeForDeeplinkCart(),this.subscription.add(this.activeCartFacade.getActiveCartId().subscribe(response=>{this.activeCartId=response??"",this.cartId.setValue(this.deepLinkCartId||this.activeCartId)}))}resetInput(){this.cartId.value||this.cartId.setValue(this.activeCartId)}bindCartToCustomer(){const anonymousCartId=this.cartId.value,subscription=(0,combineLatest.aj)([this.loading$.asObservable(),this.valid$]).pipe((0,take.q)(1),(0,filter.h)(([loading,valid])=>!loading&&valid),(0,tap.b)(()=>this.loading$.next(!0)),(0,concatMap.b)(()=>this.activeCartFacade.getActive().pipe((0,map.U)(cart=>cart.deliveryItemsQuantity??0),(0,take.q)(1))),(0,concatMap.b)(cartItemCount=>(0,iif.s)(()=>Boolean(this.activeCartId&&cartItemCount),this.openDialog(this.activeCartId,anonymousCartId),this.simpleBindCart(anonymousCartId))),(0,finalize.x)(()=>this.loading$.next(!1))).subscribe({next:()=>{this.globalMessageService.add({key:"asm.bindCart.success"},spartacus_core.xUg.MSG_TYPE_CONFIRMATION)},error:error=>{this.globalMessageService.add(error.details?.[0].message??"",spartacus_core.xUg.MSG_TYPE_ERROR)}});this.subscription.add(subscription)}onSaveInactiveCart(){this.asmComponentService?.setShowDeeplinkCartInfoAlert(!1);const customerId=this.asmComponentService?.getSearchParameter("customerId");this.multiCartFacade.loadCart({cartId:this.deepLinkCartId,userId:customerId}),this.multiCartFacade.getCartEntity(this.deepLinkCartId).pipe((0,filter.h)(state=>!1===state.loading&&!0===state.success),(0,take.q)(1),(0,map.U)(state=>state.value),(0,filter.h)(cart=>!!cart)).subscribe(cart=>{this.openASMSaveCartDialog(cart)}),this.afterCloseASMSaveCartDialog()}clearText(){this.cartId.setValue(""),this.resetDeeplinkCart()}resetDeeplinkCart(){this.featureConfig?.isLevel("6.2")&&(this.deepLinkCartId="",this.displayBindCartBtn$.next(!0),this.displaySaveCartBtn$.next(!1),this.asmComponentService?.setShowDeeplinkCartInfoAlert(!1))}ngOnDestroy(){this.subscription.unsubscribe()}simpleBindCart(anonymousCartId){return(0,defer.P)(()=>this.asmBindCartFacade.bindCart(anonymousCartId)).pipe((0,tap.b)(()=>this.multiCartFacade.reloadCart(spartacus_core.gSv)))}openDialog(activeCartId,anonymousCartId){return(0,defer.P)(()=>(this.launchDialogService.openDialogAndSubscribe("ASM_BIND_CART",this.bindToCartElemRef),this.launchDialogService.dialogClose.pipe((0,filter.h)(result=>Boolean(result)),(0,take.q)(1)))).pipe((0,filter.h)(dialogResult=>Boolean(dialogResult)),(0,concatMap.b)(dialogResult=>this.selectBindAction(activeCartId,anonymousCartId,dialogResult)))}selectBindAction(activeCartId,anonymousCartId,action){switch(action){case BIND_CART_DIALOG_ACTION.REPLACE:return this.replaceCart(activeCartId,anonymousCartId);case BIND_CART_DIALOG_ACTION.CANCEL:default:return empty.E}}replaceCart(previousActiveCartId,anonymousCartId){return this.simpleBindCart(anonymousCartId).pipe((0,tap.b)(()=>{this.savedCartFacade.saveCart({cartId:previousActiveCartId,saveCartName:previousActiveCartId,saveCartDescription:"-"})}))}subscribeForDeeplinkCart(){this.featureConfig?.isLevel("6.2")&&this.subscription.add(this.asmComponentService?.isEmulatedByDeepLink().pipe((0,filter.h)(emulated=>emulated&&!!this.asmComponentService?.getSearchParameter("cartId"))).subscribe(()=>{if(this.featureConfig?.isLevel("6.3")){const cartType=this.asmComponentService?.getSearchParameter("cartType");("inactive"===cartType||"active"===cartType)&&(this.displayBindCartBtn$.next(!1),this.displaySaveCartBtn$.next("inactive"===cartType),this.deepLinkCartId=this.asmComponentService?.getSearchParameter("cartId"),this.cartId.setValue(this.deepLinkCartId),this.asmComponentService?.setShowDeeplinkCartInfoAlert(!0),this.asmComponentService?.handleDeepLinkNavigation())}else this.isDeepLinkInactiveCart()?(this.displayBindCartBtn$.next(!1),this.displaySaveCartBtn$.next(!0),this.onDeeplinkCart()):this.isDeepLinkActiveCart()&&(this.onDeeplinkCart(),this.goToActiveCartDetail(),this.displayBindCartBtn$.next(!1),this.displaySaveCartBtn$.next(!1))}))}onDeeplinkCart(){this.deepLinkCartId=this.asmComponentService?.getSearchParameter("cartId"),this.cartId.setValue(this.deepLinkCartId),this.asmComponentService?.setShowDeeplinkCartInfoAlert(!0)}isDeepLinkInactiveCart(){return"inactive"===this.asmComponentService?.getSearchParameter("cartType")}isDeepLinkActiveCart(){return"active"===this.asmComponentService?.getSearchParameter("cartType")}openASMSaveCartDialog(inactiveCart){this.launchDialogService.openDialogAndSubscribe("ASM_SAVE_CART",this.saveInactiveCartElemRef,inactiveCart)}afterCloseASMSaveCartDialog(){this.launchDialogService.dialogClose.pipe((0,filter.h)(result=>result===SAVE_CART_DIALOG_ACTION.SAVE),(0,take.q)(1),(0,tap.b)(()=>this.loading$.next(!0))).subscribe(),this.savedCartFacade.getSaveCartProcessSuccess().pipe((0,filter.h)(success=>success),(0,take.q)(1),(0,tap.b)(()=>this.loading$.next(!1))).subscribe(()=>{this.goToSavedCartDetails(this.deepLinkCartId),this.displaySaveCartBtn$.next(!1)}),this.savedCartFacade.getSaveCartProcessError().pipe((0,filter.h)(error=>error),(0,take.q)(1),(0,tap.b)(()=>this.loading$.next(!1))).subscribe()}goToSavedCartDetails(cartId){this.routing?.go({cxRoute:"savedCartsDetails",params:{savedCartId:cartId}})}goToActiveCartDetail(){this.routing?.go({cxRoute:"cart"})}}__name(AsmBindCartComponent,"AsmBindCartComponent"),AsmBindCartComponent.\u0275fac=__name(function(t){return new(t||AsmBindCartComponent)(core.Y36(spartacus_core.IWp),core.Y36(spartacus_cart_base_root.bu),core.Y36(spartacus_cart_base_root.WT),core.Y36(spartacus_asm_root.AE),core.Y36(spartacus_storefront.Q3W),core.Y36(spartacus_cart_saved_cart_root.aD),core.Y36(AsmComponentService,8),core.Y36(spartacus_core.Znh,8),core.Y36(spartacus_core.Ru9,8))},"AsmBindCartComponent_Factory"),AsmBindCartComponent.\u0275cmp=core.Xpm({type:AsmBindCartComponent,selectors:[["cx-asm-bind-cart"]],viewQuery:__name(function(rf,ctx){if(1&rf&&(core.Gf(_c0,5),core.Gf(_c1,5)),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.bindToCartElemRef=_t.first),core.iGM(_t=core.CRH())&&(ctx.saveInactiveCartElemRef=_t.first)}},"AsmBindCartComponent_Query"),decls:16,vars:23,consts:[["for","cartNumber"],["role","search",1,"cx-asm-assignCart",3,"click"],["autocomplete","off","formcontrolname","cartNumber",3,"formControl","keydown.enter","blur"],["cartIdElement",""],[1,"cx-asm-reset",3,"click"],[1,"cx-icon","fas","fa-times-circle"],["class","cx-asm-bindCartToCustomer","type","submit",3,"disabled","cx-asm-active","cx-bind-loading","click",4,"ngIf"],[4,"cxFeatureLevel"],["type","submit",1,"cx-asm-bindCartToCustomer",3,"disabled","click"],["bindToCart",""],["id","asm-save-inactive-cart-btn","class","cx-asm-bindCartToCustomer cx-asm-active","type","submit",3,"cx-bind-loading","click",4,"ngIf"],["id","asm-save-inactive-cart-btn","type","submit",1,"cx-asm-bindCartToCustomer","cx-asm-active",3,"click"],["saveInactiveCart",""]],template:__name(function(rf,ctx){if(1&rf){const _r10=core.EpF();core.TgZ(0,"form")(1,"label",0),core._uU(2),core.ALo(3,"cxTranslate"),core.qZA(),core.TgZ(4,"div",1),core.NdJ("click",__name(function(){core.CHM(_r10);const _r0=core.MAs(8);return core.KtG(_r0.focus())},"AsmBindCartComponent_Template_div_click_4_listener")),core.ALo(5,"async"),core.ALo(6,"cxTranslate"),core.TgZ(7,"input",2,3),core.NdJ("keydown.enter",__name(function(){return ctx.bindCartToCustomer()},"AsmBindCartComponent_Template_input_keydown_enter_7_listener"))("blur",__name(function(){return ctx.resetInput()},"AsmBindCartComponent_Template_input_blur_7_listener")),core.ALo(9,"cxTranslate"),core.qZA(),core.TgZ(10,"button",4),core.NdJ("click",__name(function(){return ctx.clearText()},"AsmBindCartComponent_Template_button_click_10_listener")),core.ALo(11,"cxTranslate"),core._UZ(12,"cx-icon",5),core.qZA()(),core.YNc(13,AsmBindCartComponent_button_13_Template,12,23,"button",6),core.ALo(14,"async"),core.YNc(15,AsmBindCartComponent_ng_container_15_Template,3,3,"ng-container",7),core.qZA()}2&rf&&(core.xp6(2),core.hij("",core.lcZ(3,11,"asm.bindCart.cartNumber")," "),core.xp6(2),core.ekj("active",core.lcZ(5,13,ctx.valid$)),core.uIk("aria-label",core.lcZ(6,15,"asm.bindCart.assignCartId")),core.xp6(3),core.Q6J("formControl",ctx.cartId),core.uIk("aria-label",core.lcZ(9,17,"asm.bindCart.enterCartId")),core.xp6(3),core.ekj("visible",(null==ctx.cartId.value?null:ctx.cartId.value.length)>0),core.uIk("aria-label",core.lcZ(11,19,"asm.bindCart.resetCartId")),core.xp6(3),core.Q6J("ngIf",core.lcZ(14,21,ctx.displayBindCartBtn$)),core.xp6(2),core.Q6J("cxFeatureLevel","6.2"))},"AsmBindCartComponent_Template"),dependencies:[common.O5,fesm2020_forms._Y,fesm2020_forms.Fj,fesm2020_forms.JJ,fesm2020_forms.JL,fesm2020_forms.oH,spartacus_storefront.oJW,fesm2020_forms.F,spartacus_core.EJv,DotSpinnerComponent,common.Ov,spartacus_core.X$D],encapsulation:2,changeDetection:0});class AsmCreateCustomerFormComponent{constructor(launchDialogService,fb,asmCreateCustomerFacade,translationService){this.launchDialogService=launchDialogService,this.fb=fb,this.asmCreateCustomerFacade=asmCreateCustomerFacade,this.translationService=translationService,this.iconTypes=spartacus_storefront.e1G,this.isLoading$=new BehaviorSubject.X(!1),this.showDialogInfoAlert=!0,this.globalMessageType=spartacus_core.xUg,this.focusConfig={trap:!0,block:!0,autofocus:!0,focusOnEscape:!0},this.registerForm=this.fb.group({firstName:["",fesm2020_forms.kI.required],lastName:["",fesm2020_forms.kI.required],email:["",[fesm2020_forms.kI.required,spartacus_storefront.kal.emailValidator]]})}submitForm(){this.registerForm.valid?this.registerUser():this.registerForm.markAllAsTouched()}registerUser(){this.isLoading$.next(!0);const{firstName,lastName,email}=this.registerForm.value;this.createdCustomer={firstName:firstName??"",lastName:lastName??"",email:email??""};const obs$=this.asmCreateCustomerFacade.createCustomer(this.collectDataFromRegisterForm());obs$.subscribe({next:result=>this.onRegisterUserSuccess(result),error:error=>this.onRegisterUserFail(error)}),obs$.subscribe({complete:()=>this.isLoading$.next(!1)})}collectDataFromRegisterForm(){return{firstName:this.createdCustomer.firstName,lastName:this.createdCustomer.lastName,emailAddress:this.createdCustomer.email}}closeModal(reason){this.launchDialogService.closeDialog(reason)}closeDialogInfoAlert(){this.showDialogInfoAlert=!1}closeDialogBackendErroAlert(index){this.showDialogBackendErrorAlerts[index]=!1}onRegisterUserSuccess(user){this.launchDialogService.closeDialog(user)}onRegisterUserFail(error){this.isLoading$.next(!1),this.backendErrorMessages=[],this.showDialogBackendErrorAlerts=[];const errorDetails=error.details??[];0===errorDetails.length&&this.addErrorMessage("httpHandlers.unknownError"),errorDetails.forEach(errorDetail=>{switch(errorDetail.type||""){case"ValidationError":this.addErrorMessage(`asm.createCustomerForm.validationErrors.${errorDetail.subject}`);break;case"AssistedServiceDuplicatedUidError":this.addErrorMessage("asm.createCustomerForm.badRequestDuplicatedEmail",{emailAddress:this.createdCustomer.email});break;default:this.addErrorMessage("httpHandlers.unknownError")}})}addErrorMessage(key,options){this.translationService.translate(key,options).pipe((0,first.P)()).subscribe(text=>{this.backendErrorMessages.push(text),this.showDialogBackendErrorAlerts.push(!0)})}}__name(AsmCreateCustomerFormComponent,"AsmCreateCustomerFormComponent"),AsmCreateCustomerFormComponent.\u0275fac=__name(function(t){return new(t||AsmCreateCustomerFormComponent)(core.Y36(spartacus_storefront.Q3W),core.Y36(fesm2020_forms.qu),core.Y36(spartacus_asm_root.Jf),core.Y36(spartacus_core.D7D))},"AsmCreateCustomerFormComponent_Factory"),AsmCreateCustomerFormComponent.\u0275cmp=core.Xpm({type:AsmCreateCustomerFormComponent,selectors:[["cx-asm-create-customer-form"]],decls:23,vars:17,consts:[[1,"cx-modal-container","cx-asm-dialog",3,"cxFocus","esc"],[1,"cx-modal-content"],[3,"formGroup","ngSubmit"],[1,"cx-dialog-header","modal-header"],[1,"title","modal-title"],[1,"cx-dialog-body","modal-body"],[1,"message-container"],[3,"text","type","closeMessage",4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[1,"modal-footer"],["type","submit",1,"btn","cx-asm-create-customer-btn","cx-asm-create-customer-btn-create"],["type","button",1,"btn","cx-asm-create-customer-btn","cx-asm-create-customer-btn-cancel",3,"click"],["loading",""],[3,"text","type","closeMessage"],[1,"form-group"],[1,"label-content"],["required","true","formControlName","firstName","name","text",1,"form-control",3,"placeholder"],[3,"control"],["required","true","name","text","formControlName","lastName",1,"form-control",3,"placeholder"],["required","true","name","email","formControlName","email",1,"form-control",3,"placeholder"],[1,"cx-spinner"]],template:__name(function(rf,ctx){if(1&rf&&(core.TgZ(0,"div",0),core.NdJ("esc",__name(function(){return ctx.closeModal("Escape clicked")},"AsmCreateCustomerFormComponent_Template_div_esc_0_listener")),core.TgZ(1,"div",1),core.ynx(2),core.TgZ(3,"form",2),core.NdJ("ngSubmit",__name(function(){return ctx.submitForm()},"AsmCreateCustomerFormComponent_Template_form_ngSubmit_3_listener")),core.TgZ(4,"div",3)(5,"h2",4),core._uU(6),core.ALo(7,"cxTranslate"),core.qZA()(),core.TgZ(8,"div",5)(9,"div",6),core.YNc(10,AsmCreateCustomerFormComponent_cx_message_10_Template,2,4,"cx-message",7),core.YNc(11,AsmCreateCustomerFormComponent_ng_container_11_Template,2,1,"ng-container",8),core.qZA(),core.YNc(12,AsmCreateCustomerFormComponent_div_12_Template,25,21,"div",9),core.ALo(13,"async"),core.qZA(),core.TgZ(14,"div",10)(15,"button",11),core._uU(16),core.ALo(17,"cxTranslate"),core.qZA(),core.TgZ(18,"button",12),core.NdJ("click",__name(function(){return ctx.closeModal("Cancel click")},"AsmCreateCustomerFormComponent_Template_button_click_18_listener")),core._uU(19),core.ALo(20,"cxTranslate"),core.qZA()()(),core.BQk(),core.qZA()(),core.YNc(21,AsmCreateCustomerFormComponent_ng_template_21_Template,2,0,"ng-template",null,13,core.W1O)),2&rf){const _r3=core.MAs(22);core.Q6J("cxFocus",ctx.focusConfig),core.xp6(3),core.Q6J("formGroup",ctx.registerForm),core.xp6(3),core.hij(" ",core.lcZ(7,9,"asm.createCustomerForm.title")," "),core.xp6(4),core.Q6J("ngIf",ctx.showDialogInfoAlert),core.xp6(1),core.Q6J("ngForOf",ctx.backendErrorMessages),core.xp6(1),core.Q6J("ngIf",!core.lcZ(13,11,ctx.isLoading$))("ngIfElse",_r3),core.xp6(4),core.hij(" ",core.lcZ(17,13,"asm.createCustomerForm.createAccount")," "),core.xp6(3),core.hij(" ",core.lcZ(20,15,"asm.createCustomerForm.cancel")," ")}},"AsmCreateCustomerFormComponent_Template"),dependencies:[common.sg,common.O5,fesm2020_forms._Y,fesm2020_forms.Fj,fesm2020_forms.JJ,fesm2020_forms.JL,fesm2020_forms.Q7,fesm2020_forms.sg,fesm2020_forms.u,spartacus_storefront.Ahv,spartacus_storefront.ORR,spartacus_storefront.RRe,spartacus_storefront.qqZ,common.Ov,spartacus_core.X$D],encapsulation:2});const defaultAsmCreateCustomerFormLayoutConfig={launch:{ASM_CREATE_CUSTOMER_FORM:{inlineRoot:!0,component:AsmCreateCustomerFormComponent,dialogType:spartacus_storefront.Myk.DIALOG}}};class CSAgentLoginFormComponent{constructor(fb){this.fb=fb,this.csAgentTokenLoading=!1,this.submitEvent=new core.vpe}ngOnInit(){this.csAgentLoginForm=this.fb.group({userId:["",[fesm2020_forms.kI.required]],password:["",[fesm2020_forms.kI.required]]})}onSubmit(){this.csAgentLoginForm.valid?this.submitEvent.emit({userId:this.csAgentLoginForm.get("userId")?.value,password:this.csAgentLoginForm.get("password")?.value}):this.csAgentLoginForm.markAllAsTouched()}}__name(CSAgentLoginFormComponent,"CSAgentLoginFormComponent"),CSAgentLoginFormComponent.\u0275fac=__name(function(t){return new(t||CSAgentLoginFormComponent)(core.Y36(fesm2020_forms.QS))},"CSAgentLoginFormComponent_Factory"),CSAgentLoginFormComponent.\u0275cmp=core.Xpm({type:CSAgentLoginFormComponent,selectors:[["cx-csagent-login-form"]],inputs:{csAgentTokenLoading:"csAgentTokenLoading"},outputs:{submitEvent:"submitEvent"},decls:2,vars:2,consts:[[3,"formGroup","ngSubmit",4,"ngIf"],["aria-hidden","false",4,"ngIf"],[3,"formGroup","ngSubmit"],["required","true","type","text","formControlName","userId",3,"placeholder"],[3,"control"],["required","true","type","password","formControlName","password","cxPasswordVisibilitySwitch","",3,"placeholder"],["type","submit"],["aria-hidden","false"]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,CSAgentLoginFormComponent_form_0_Template,14,18,"form",0),core.YNc(1,CSAgentLoginFormComponent_cx_dot_spinner_1_Template,2,3,"cx-dot-spinner",1)),2&rf&&(core.Q6J("ngIf",!ctx.csAgentTokenLoading),core.xp6(1),core.Q6J("ngIf",ctx.csAgentTokenLoading))},"CSAgentLoginFormComponent_Template"),dependencies:[common.O5,fesm2020_forms._Y,fesm2020_forms.Fj,fesm2020_forms.JJ,fesm2020_forms.JL,fesm2020_forms.Q7,fesm2020_forms.sg,fesm2020_forms.u,spartacus_storefront.Ahv,spartacus_storefront.X84,DotSpinnerComponent,spartacus_core.X$D],encapsulation:2});class CustomerSelectionComponent{constructor(fb,asmService,config,directionService,launchDialogService){this.fb=fb,this.asmService=asmService,this.config=config,this.directionService=directionService,this.launchDialogService=launchDialogService,this.subscription=new Subscription.w,this.submitEvent=new core.vpe,this.activeFocusedButtonIndex=-1}ngOnInit(){this.customerSelectionForm=this.fb.group({searchTerm:["",fesm2020_forms.kI.required]}),this.asmService.customerSearchReset(),this.searchResultsLoading$=this.asmService.getCustomerSearchResultsLoading(),this.searchResults=this.asmService.getCustomerSearchResults(),this.subscription.add(this.customerSelectionForm.controls.searchTerm.valueChanges.pipe((0,debounceTime.b)(300)).subscribe(searchTermValue=>{this.handleSearchTerm(searchTermValue)}))}handleSearchTerm(searchTermValue){this.selectedCustomer&&searchTermValue!==this.selectedCustomer.name&&(this.selectedCustomer=void 0),!Boolean(this.selectedCustomer)&&(this.asmService.customerSearchReset(),this.activeFocusedButtonIndex=-1,searchTermValue.trim().length>=3&&this.asmService.customerSearch({query:searchTermValue,pageSize:this.config.asm?.customerSearch?.maxResults}))}selectCustomerFromList(event,customer){this.selectedCustomer=customer,this.customerSelectionForm.controls.searchTerm.setValue(this.selectedCustomer.name),this.asmService.customerSearchReset(),this.searchTerm.nativeElement.focus(),event.preventDefault(),event.stopPropagation()}onSubmit(){this.customerSelectionForm.valid&&this.selectedCustomer?this.submitEvent.emit({customerId:this.selectedCustomer.customerId}):this.customerSelectionForm.markAllAsTouched()}onDocumentClick(event){if(Boolean(this.resultList)){if(this.resultList.nativeElement.contains(event.target)||this.searchTerm.nativeElement.contains(event.target))return;this.asmService.customerSearchReset()}}closeResults(event){this.asmService.customerSearchReset(),this.searchTerm.nativeElement.focus(),event.preventDefault(),event.stopPropagation()}ngOnDestroy(){this.subscription.unsubscribe(),this.asmService.customerSearchReset()}focusFirstItem(event){event.preventDefault(),this.activeFocusedButtonIndex=0,this.updateItemIndex(this.activeFocusedButtonIndex)}setSelectionEnd(event){if(event.preventDefault(),this.searchTerm.nativeElement.value?.length){const selectionStart=this.searchTerm.nativeElement.value.length;this.searchTerm.nativeElement.selectionStart=selectionStart,this.searchTerm.nativeElement.selectionEnd=selectionStart}}focusPreviousChild(event){event.preventDefault(),this.activeFocusedButtonIndex--,this.activeFocusedButtonIndex<0&&(this.activeFocusedButtonIndex=this.searchResultItems.length-1),this.updateItemIndex(this.activeFocusedButtonIndex)}focusNextChild(event){event.preventDefault(),this.activeFocusedButtonIndex++,this.activeFocusedButtonIndex>this.searchResultItems.length-1&&(this.activeFocusedButtonIndex=0),this.updateItemIndex(this.activeFocusedButtonIndex)}focusInputText(event){if(event.preventDefault(),this.activeFocusedButtonIndex=-1,this.searchTerm.nativeElement.focus(),this.searchTerm.nativeElement.value?.length){let selectionPos=this.searchTerm.nativeElement.selectionEnd;const searchTermLength=this.searchTerm.nativeElement.value.length;this.isBackNavigation(event)?selectionPos=selectionPos<=0?0:selectionPos-1:this.isForwardsNavigation(event)?selectionPos=selectionPos>=searchTermLength?searchTermLength:selectionPos+1:"Home"===event.code?selectionPos=0:"End"===event.code&&(selectionPos=searchTermLength),this.searchTerm.nativeElement.selectionStart=selectionPos,this.searchTerm.nativeElement.selectionEnd=selectionPos}}updateItemIndex(selectedIndex){this.searchResultItems.toArray()?.[selectedIndex]?.nativeElement.focus()}createCustomer(){this.asmService.customerSearchReset(),this.launchDialogService?.openDialogAndSubscribe("ASM_CREATE_CUSTOMER_FORM",this.createCustomerLink)}isForwardsNavigation(event){return"ArrowRight"===event.code&&this.isLTRDirection()||"ArrowLeft"===event.code&&this.isRTLDirection()}isBackNavigation(event){return"ArrowLeft"===event.code&&this.isLTRDirection()||"ArrowRight"===event.code&&this.isRTLDirection()}isLTRDirection(){return this.directionService.getDirection()===spartacus_storefront.uEG.LTR}isRTLDirection(){return this.directionService.getDirection()===spartacus_storefront.uEG.RTL}}__name(CustomerSelectionComponent,"CustomerSelectionComponent"),CustomerSelectionComponent.\u0275fac=__name(function(t){return new(t||CustomerSelectionComponent)(core.Y36(fesm2020_forms.QS),core.Y36(spartacus_asm_core.gE),core.Y36(spartacus_asm_root.hc),core.Y36(spartacus_storefront.Lh6),core.Y36(spartacus_storefront.Q3W,8))},"CustomerSelectionComponent_Factory"),CustomerSelectionComponent.\u0275cmp=core.Xpm({type:CustomerSelectionComponent,selectors:[["cx-customer-selection"]],viewQuery:__name(function(rf,ctx){if(1&rf&&(core.Gf(_c2,5),core.Gf(_c3,5),core.Gf(_c4,5),core.Gf(_c5,5)),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.resultList=_t.first),core.iGM(_t=core.CRH())&&(ctx.searchTerm=_t.first),core.iGM(_t=core.CRH())&&(ctx.createCustomerLink=_t.first),core.iGM(_t=core.CRH())&&(ctx.searchResultItems=_t)}},"CustomerSelectionComponent_Query"),hostBindings:__name(function(rf,ctx){1&rf&&core.NdJ("click",__name(function($event){return ctx.onDocumentClick($event)},"CustomerSelectionComponent_click_HostBindingHandler"),!1,core.evT)},"CustomerSelectionComponent_HostBindings"),outputs:{submitEvent:"submitEvent"},decls:14,vars:19,consts:[[3,"formGroup","ngSubmit"],["required","true","type","text","formControlName","searchTerm",3,"placeholder","keydown.arrowdown","keydown.end"],["searchTerm",""],[3,"control"],["type","submit"],["class","asm-results",4,"ngIf"],[1,"asm-results"],["resultList",""],[3,"tabindex","active","keydown.arrowup","keydown.arrowdown","keydown.arrowright","keydown.arrowleft","keydown.enter","keydown.escape","keydown.home","keydown.end","click",4,"ngFor","ngForOf"],[4,"cxFeatureLevel"],[3,"tabindex","keydown.arrowup","keydown.arrowdown","keydown.arrowright","keydown.arrowleft","keydown.enter","keydown.escape","keydown.home","keydown.end","click"],["searchResultItem",""],[1,"result-name"],[1,"result-id"],[3,"active","click","keydown.enter","keydown.escape","keydown.arrowright","keydown.arrowleft","keydown.home","keydown.end",4,"ngIf"],[3,"click","keydown.enter","keydown.escape","keydown.arrowright","keydown.arrowleft","keydown.home","keydown.end"],[3,"active","click","keydown.escape","keydown.arrowright","keydown.arrowleft","keydown.home","keydown.end",4,"ngIf"],[3,"click","keydown.escape","keydown.arrowright","keydown.arrowleft","keydown.home","keydown.end"],[1,"linkStyleLabel"],["createCustomerLink",""],["aria-hidden","false"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"form",0),core.NdJ("ngSubmit",__name(function(){return ctx.onSubmit()},"CustomerSelectionComponent_Template_form_ngSubmit_0_listener")),core.TgZ(1,"label")(2,"input",1,2),core.NdJ("keydown.arrowdown",__name(function($event){return ctx.focusFirstItem($event)},"CustomerSelectionComponent_Template_input_keydown_arrowdown_2_listener"))("keydown.end",__name(function($event){return ctx.setSelectionEnd($event)},"CustomerSelectionComponent_Template_input_keydown_end_2_listener")),core.ALo(4,"cxTranslate"),core.ALo(5,"cxTranslate"),core.qZA(),core._UZ(6,"cx-form-errors",3),core.qZA(),core.TgZ(7,"button",4),core._uU(8),core.ALo(9,"cxTranslate"),core.qZA()(),core.YNc(10,CustomerSelectionComponent_div_10_Template,5,3,"div",5),core.ALo(11,"async"),core.YNc(12,CustomerSelectionComponent_div_12_Template,3,3,"div",5),core.ALo(13,"async")),2&rf&&(core.Q6J("formGroup",ctx.customerSelectionForm),core.xp6(2),core.s9C("placeholder",core.lcZ(5,11,"asm.customerSearch.searchTerm.label")),core.uIk("aria-label",core.lcZ(4,9,"asm.customerSearch.searchTerm.label")),core.xp6(4),core.Q6J("control",ctx.customerSelectionForm.get("searchTerm")),core.xp6(1),core.ekj("active",ctx.selectedCustomer),core.xp6(1),core.hij(" ",core.lcZ(9,13,"asm.customerSearch.submit")," "),core.xp6(2),core.Q6J("ngIf",core.lcZ(11,15,ctx.searchResults)),core.xp6(2),core.Q6J("ngIf",core.lcZ(13,17,ctx.searchResultsLoading$)))},"CustomerSelectionComponent_Template"),dependencies:[common.sg,common.O5,fesm2020_forms._Y,fesm2020_forms.Fj,fesm2020_forms.JJ,fesm2020_forms.JL,fesm2020_forms.Q7,fesm2020_forms.sg,fesm2020_forms.u,spartacus_storefront.Ahv,spartacus_core.EJv,DotSpinnerComponent,common.Ov,spartacus_core.X$D],encapsulation:2});class FormatTimerPipe{transform(totalSeconds){totalSeconds<0&&(totalSeconds=0);const minutes=Math.floor(totalSeconds/60),seconds=totalSeconds%60;let zeroPaddedMinutes;zeroPaddedMinutes=minutes<10?("00"+minutes).slice(-2):minutes+"";return`${zeroPaddedMinutes}:${("00"+seconds).slice(-2)}`}}__name(FormatTimerPipe,"FormatTimerPipe"),FormatTimerPipe.\u0275fac=__name(function(t){return new(t||FormatTimerPipe)},"FormatTimerPipe_Factory"),FormatTimerPipe.\u0275pipe=core.Yjl({name:"formatTimer",type:FormatTimerPipe,pure:!0});class AsmSessionTimerComponent{constructor(config,asmComponentService,routingService,changeDetectorRef,userIdService){this.config=config,this.asmComponentService=asmComponentService,this.routingService=routingService,this.changeDetectorRef=changeDetectorRef,this.userIdService=userIdService,this.subscriptions=new Subscription.w,this.maxStartDelayInSeconds=6e4}ngOnInit(){this.initTimer(),this.interval=setInterval(()=>{const currentSeconds=(new Date).getTime()/1e3;this.timeLeft=Math.floor(this.expiredTime-currentSeconds),this.timeLeft<=0&&(clearInterval(this.interval),this.asmComponentService.logoutCustomerSupportAgentAndCustomer()),this.changeDetectorRef.markForCheck()},1e3),this.resetOnNavigate(),this.resetOnCustomerSessionChange()}resetOnNavigate(){this.subscriptions.add(this.routingService.isNavigating().subscribe(isNavigating=>{isNavigating&&this.resetTimer()}))}resetOnCustomerSessionChange(){this.subscriptions.add(this.userIdService.getUserId().pipe((0,distinctUntilChanged.x)()).subscribe(()=>this.resetTimer()))}initTimer(){const timeoutPropertyInSeconds=this.getTimerStartDelayInSeconds(),currentSeconds=(new Date).getTime()/1e3;this.timeLeft=timeoutPropertyInSeconds,this.expiredTime=currentSeconds+this.timeLeft}resetTimer(){this.timeLeft>0&&this.initTimer()}getTimerStartDelayInSeconds(){return void 0===this.config.asm?.agentSessionTimer?.startingDelayInSeconds?600:this.config.asm.agentSessionTimer.startingDelayInSeconds>this.maxStartDelayInSeconds?this.maxStartDelayInSeconds:this.config.asm.agentSessionTimer.startingDelayInSeconds}ngOnDestroy(){this.subscriptions.unsubscribe(),this.interval&&clearInterval(this.interval)}}__name(AsmSessionTimerComponent,"AsmSessionTimerComponent"),AsmSessionTimerComponent.\u0275fac=__name(function(t){return new(t||AsmSessionTimerComponent)(core.Y36(spartacus_asm_root.hc),core.Y36(AsmComponentService),core.Y36(spartacus_core.Znh),core.Y36(core.sBO),core.Y36(spartacus_core.XBV))},"AsmSessionTimerComponent_Factory"),AsmSessionTimerComponent.\u0275cmp=core.Xpm({type:AsmSessionTimerComponent,selectors:[["cx-asm-session-timer"]],decls:9,vars:12,consts:[[1,"label"],[1,"time"],[1,"reset",3,"title","click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"span",0),core._uU(1),core.ALo(2,"cxTranslate"),core.qZA(),core.TgZ(3,"span",1),core._uU(4),core.ALo(5,"formatTimer"),core.ALo(6,"cxTranslate"),core.qZA(),core.TgZ(7,"button",2),core.NdJ("click",__name(function(){return ctx.resetTimer()},"AsmSessionTimerComponent_Template_button_click_7_listener")),core.ALo(8,"cxTranslate"),core.qZA()),2&rf&&(core.xp6(1),core.hij("",core.lcZ(2,4,"asm.agentSessionTimer.label"),":"),core.xp6(3),core.AsE("",core.lcZ(5,6,ctx.timeLeft)," ",core.lcZ(6,8,"asm.agentSessionTimer.minutes"),""),core.xp6(3),core.s9C("title",core.lcZ(8,10,"asm.agentSessionTimer.reset")))},"AsmSessionTimerComponent_Template"),dependencies:[spartacus_core.X$D,FormatTimerPipe],encapsulation:2});class CustomerEmulationComponent{constructor(asmComponentService,userAccountFacade,launchDialogService,featureModules){this.asmComponentService=asmComponentService,this.userAccountFacade=userAccountFacade,this.launchDialogService=launchDialogService,this.featureModules=featureModules,this.isAsmCustomer360Configured=!1,this.isAsmCustomer360Loaded$=new BehaviorSubject.X(!1),this.subscription=new Subscription.w}ngOnInit(){this.isAsmCustomer360Configured=this.featureModules?.isConfigured("asmCustomer360"),this.isAsmCustomer360Configured&&this.featureModules?.resolveFeature("asmCustomer360").subscribe(()=>{this.isAsmCustomer360Loaded$.next(!0)}),this.subscription.add(this.userAccountFacade.get().subscribe(user=>{user&&(this.customer=user)})),this.isCustomerEmulationSessionInProgress$=this.asmComponentService.isCustomerEmulationSessionInProgress()}logoutCustomer(){this.asmComponentService.logoutCustomer()}openAsmCustomer360(){this.subscription.add(this.isAsmCustomer360Loaded$.pipe((0,filter.h)(isReady=>Boolean(isReady))).subscribe(()=>{const data={customer:this.customer};this.launchDialogService?.openDialogAndSubscribe("ASM_CUSTOMER_360",this.asmCustomer360LauncherElement,data),this.subscription.add(this.launchDialogService?.dialogClose.pipe((0,filter.h)(result=>Boolean(result))).subscribe(event=>{this.asmComponentService.handleAsmDialogAction(event)}))}))}ngOnDestroy(){this.subscription.unsubscribe()}}__name(CustomerEmulationComponent,"CustomerEmulationComponent"),CustomerEmulationComponent.\u0275fac=__name(function(t){return new(t||CustomerEmulationComponent)(core.Y36(AsmComponentService),core.Y36(spartacus_user_account_root.gf),core.Y36(spartacus_storefront.Q3W,8),core.Y36(spartacus_core.q2V,8))},"CustomerEmulationComponent_Factory"),CustomerEmulationComponent.\u0275cmp=core.Xpm({type:CustomerEmulationComponent,selectors:[["cx-customer-emulation"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(_c6,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.asmCustomer360LauncherElement=_t.first)}},"CustomerEmulationComponent_Query"),decls:2,vars:3,consts:[[4,"ngIf"],[1,"cx-asm-customerInfo"],[1,"cx-asm-name"],[1,"cx-asm-uid"],[4,"cxFeatureLevel"],["formcontrolname","logoutCustomer",3,"click"],["class","cx-360-button",3,"click",4,"ngIf"],[1,"cx-360-button",3,"click"],["asmCustomer360Launcher",""]],template:__name(function(rf,ctx){1&rf&&(core.YNc(0,CustomerEmulationComponent_ng_container_0_Template,11,6,"ng-container",0),core.ALo(1,"async")),2&rf&&core.Q6J("ngIf",core.lcZ(1,1,ctx.isCustomerEmulationSessionInProgress$))},"CustomerEmulationComponent_Template"),dependencies:[common.O5,spartacus_core.EJv,AsmBindCartComponent,common.Ov,spartacus_core.X$D],encapsulation:2});class AsmToggleUiComponent{constructor(asmService){this.asmService=asmService,this.subscription=new Subscription.w}ngOnInit(){this.subscription.add(this.asmService.getAsmUiState().subscribe(uiState=>{this.isCollapsed=void 0!==uiState.collapsed&&uiState.collapsed}))}toggleUi(){this.asmService.updateAsmUiState({collapsed:!this.isCollapsed})}ngOnDestroy(){this.subscription.unsubscribe()}}__name(AsmToggleUiComponent,"AsmToggleUiComponent"),AsmToggleUiComponent.\u0275fac=__name(function(t){return new(t||AsmToggleUiComponent)(core.Y36(spartacus_asm_core.gE))},"AsmToggleUiComponent_Factory"),AsmToggleUiComponent.\u0275cmp=core.Xpm({type:AsmToggleUiComponent,selectors:[["cx-asm-toggle-ui"]],decls:4,vars:3,consts:[["tabindex","0","role","button",1,"toggleUi",3,"click"],[3,"ngClass"],["class","label",4,"ngIf"],[1,"label"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"a",0),core.NdJ("click",__name(function(){return ctx.toggleUi()},"AsmToggleUiComponent_Template_a_click_0_listener")),core._UZ(1,"span",1),core.YNc(2,AsmToggleUiComponent_span_2_Template,3,3,"span",2),core.YNc(3,AsmToggleUiComponent_span_3_Template,3,3,"span",2),core.qZA()),2&rf&&(core.xp6(1),core.Q6J("ngClass",ctx.isCollapsed?"expandIcon":"collapseIcon"),core.xp6(1),core.Q6J("ngIf",!ctx.isCollapsed),core.xp6(1),core.Q6J("ngIf",ctx.isCollapsed))},"AsmToggleUiComponent_Template"),dependencies:[common.mk,common.O5,spartacus_core.X$D],encapsulation:2});const CART_TYPE_KEY={active:"asm.activeCartAlertInfo",inactive:"asm.saveInactiveCartAlertInfo"};class AsmMainUiComponent{constructor(authService,csAgentAuthService,asmComponentService,globalMessageService,routingService,asmService,userAccountFacade,launchDialogService,featureConfig){this.authService=authService,this.csAgentAuthService=csAgentAuthService,this.asmComponentService=asmComponentService,this.globalMessageService=globalMessageService,this.routingService=routingService,this.asmService=asmService,this.userAccountFacade=userAccountFacade,this.launchDialogService=launchDialogService,this.featureConfig=featureConfig,this.iconTypes=spartacus_storefront.e1G,this.showDeeplinkCartInfoAlert$=this.asmComponentService.shouldShowDeeplinkCartInfoAlert(),this.deeplinkCartAlertKey="",this.showCreateCustomerSuccessfullyAlert=!1,this.globalMessageType=spartacus_core.xUg,this.disabled=!1,this.startingCustomerSession=!1,this.showCustomerEmulationInfoAlert=!0,this.subscription=new Subscription.w}ngOnInit(){this.customerSupportAgentLoggedIn$=this.csAgentAuthService.isCustomerSupportAgentLoggedIn().pipe((0,distinctUntilChanged.x)(),(0,tap.b)(loggedIn=>{loggedIn||this.closeModal()})),this.csAgentTokenLoading$=this.csAgentAuthService.getCustomerSupportAgentTokenLoading(),this.customer$=this.authService.isUserLoggedIn().pipe((0,switchMap.w)(isLoggedIn=>isLoggedIn?(this.handleCustomerSessionStartRedirection(),this.userAccountFacade.get()):(0,of.of)(void 0))),this.isCollapsed$=this.asmService.getAsmUiState().pipe((0,map.U)(uiState=>void 0!==uiState.collapsed&&uiState.collapsed)),this.subscription.add(this.launchDialogService.dialogClose.pipe((0,filter.h)(result=>Boolean(result))).subscribe(result=>{"string"!=typeof result&&("selectedUser"in result?(this.startCustomerEmulationSession(result.selectedUser),result.actionType===spartacus_asm_root.JR.ORDER_HISTORY&&this.routingService.go({cxRoute:"orders"})):"customerId"in result&&(this.startCustomerEmulationSession({customerId:result.customerId}),this.showCreateCustomerSuccessfullyAlert=!0,this.routingService.go("/")),"actionType"in result&&result.actionType===spartacus_asm_root.JR.ACTIVE_CART&&this.routingService.go({cxRoute:"cart"}))})),this.subscribeForDeeplink()}subscribeForDeeplink(){if(this.featureConfig?.isLevel("6.2")){this.asmComponentService.isEmulateInURL()&&this.routingService.go("/");const parameters=this.asmComponentService.getDeepLinkUrlParams()??{customerId:this.asmComponentService.getSearchParameter("customerId"),orderId:this.asmComponentService.getSearchParameter("orderId"),ticketId:this.asmComponentService.getSearchParameter("ticketId"),cartId:this.asmComponentService.getSearchParameter("cartId"),cartType:this.asmComponentService.getSearchParameter("cartType"),emulated:!1};this.deeplinkCartAlertKey=CART_TYPE_KEY[parameters.cartType||""],this.subscription.add((0,combineLatest.aj)([this.customerSupportAgentLoggedIn$,this.authService.isUserLoggedIn(),this.asmComponentService.isEmulatedByDeepLink()]).subscribe(([agentLoggedIn,userLoggedin,isEmulatedByDeepLink])=>{agentLoggedIn&&parameters.customerId&&(!isEmulatedByDeepLink&&userLoggedin?this.confirmSwitchCustomer(parameters.customerId):setTimeout(()=>this.startSessionWithParameters({...parameters,emulated:isEmulatedByDeepLink})))}))}}confirmSwitchCustomer(switchCustomerId){this.customer$.pipe((0,filter.h)(curCustomer=>!!curCustomer),(0,take.q)(1)).subscribe(curCustomer=>{curCustomer?.customerId!==switchCustomerId?this.userAccountFacade.getById(switchCustomerId).subscribe({next:switchCustomer=>{this.launchDialogService.openDialogAndSubscribe("ASM_SWITCH_CUSTOMER",this.element,{curCustomer,switchCustomer})},error:error=>{this.globalMessageService.add(error.details?.[0].message??"",spartacus_core.xUg.MSG_TYPE_ERROR)}}):this.asmComponentService.setEmulatedByDeepLink(!0)})}startSessionWithParameters(parameters){parameters.emulated||(this.asmComponentService.setEmulatedByDeepLink(!0),this.startCustomerEmulationSession({customerId:parameters.customerId},parameters))}handleCustomerSessionStartRedirection(){this.asmComponentService.isCustomerEmulationSessionInProgress().pipe((0,take.q)(1)).subscribe(isCustomerEmulated=>{this.startingCustomerSession&&isCustomerEmulated&&(this.startingCustomerSession=!1,this.globalMessageService.remove(spartacus_core.xUg.MSG_TYPE_ERROR),this.routingService.go("/"))})}loginCustomerSupportAgent({userId,password}){this.csAgentAuthService.authorizeCustomerSupportAgent(userId,password)}logout(){this.asmComponentService.logoutCustomerSupportAgentAndCustomer()}startCustomerEmulationSession({customerId},parameters){customerId?(this.csAgentAuthService.startCustomerEmulationSession(customerId),this.startingCustomerSession=!0,this.showCustomerEmulationInfoAlert=!0,this.showCreateCustomerSuccessfullyAlert=!1,parameters&&(this.featureConfig?.isLevel("6.3")?this.asmComponentService.handleDeepLinkNavigation({customerId,...parameters}):this.handleDeepLinkParamsAfterStartSession(parameters))):this.globalMessageService.add({key:"asm.error.noCustomerId"},spartacus_core.xUg.MSG_TYPE_ERROR)}handleDeepLinkParamsAfterStartSession(parameters){("active"===parameters.cartType||"inactive"===parameters.cartType)&&parameters.cartId||("saved"===parameters.cartType&&parameters.cartId?this.routingService.go("my-account/saved-cart/"+parameters.cartId):parameters.orderId?this.routingService.go({cxRoute:"orderDetails",params:{code:parameters.orderId}}):parameters.ticketId&&this.routingService.go({cxRoute:"supportTicketDetails",params:{ticketCode:parameters.ticketId}}))}hideUi(){this.disabled=!0,this.asmComponentService.unload()}showCustomList(){this.launchDialogService.openDialogAndSubscribe("ASM_CUSTOMER_LIST",this.element)}closeModal(){this.launchDialogService.closeDialog("logout")}createCustomer(){this.launchDialogService?.openDialogAndSubscribe("ASM_CREATE_CUSTOMER_FORM",this.addNewCustomerLink)}closeDialogConfirmationAlert(){this.showCreateCustomerSuccessfullyAlert=!1}closeDeeplinkCartInfoAlert(){this.asmComponentService.setShowDeeplinkCartInfoAlert(!1)}closeCustomerEmulationInfoAlert(){this.showCustomerEmulationInfoAlert=!1}ngOnDestroy(){this.subscription?.unsubscribe()}}var SWITCH_CUSTOMER_DIALOG_ACTION,SWITCH_CUSTOMER_DIALOG_ACTION2;__name(AsmMainUiComponent,"AsmMainUiComponent"),AsmMainUiComponent.\u0275fac=__name(function(t){return new(t||AsmMainUiComponent)(core.Y36(spartacus_core.e80),core.Y36(spartacus_asm_root.FA),core.Y36(AsmComponentService),core.Y36(spartacus_core.IWp),core.Y36(spartacus_core.Znh),core.Y36(spartacus_asm_core.gE),core.Y36(spartacus_user_account_root.gf),core.Y36(spartacus_storefront.Q3W),core.Y36(spartacus_core.Ru9,8))},"AsmMainUiComponent_Factory"),AsmMainUiComponent.\u0275cmp=core.Xpm({type:AsmMainUiComponent,selectors:[["cx-asm-main-ui"]],viewQuery:__name(function(rf,ctx){if(1&rf&&(core.Gf(_c7,5),core.Gf(_c8,5)),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.element=_t.first),core.iGM(_t=core.CRH())&&(ctx.addNewCustomerLink=_t.first)}},"AsmMainUiComponent_Query"),hostVars:2,hostBindings:__name(function(rf,ctx){2&rf&&core.ekj("hidden",ctx.disabled)},"AsmMainUiComponent_HostBindings"),decls:20,vars:23,consts:[[1,"asm-bar"],[1,"asm-bar-branding"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAAAwCAYAAADuFn/PAAAAAXNSR0IArs4c6QAAD7RJREFUeAHtW3twVGcVP7t795V30rwJBBJeASq01NJgnZa2otTW2nHAqrRak+rUKfgYZ/xDW5lRR2e0/mGtAadqq6WjUAdNa4udqVZaEdtCKQ2FQEh5JSQh5Lnvp7/ft9lkd9l7swkhwMiZ3N27937fd8533ufcG9P1L/VE5SpMOwdMmk0iocDzWjAUnnbk/9cITSYx2xwS9Xs3Wzs7NmqhcOT/mh/Tunkw32SzScjr2Vy2v3XDa5tWhbRI5KoHmi4hmGx2ifi8mz8UmvHI9k2VyvVokasWMC38N8HtRHyezUejex5pXbdu1O9r5qsCuLgCUD4fmu/1bq5sbd9wdNMY84lYM10VwMUTAJlvtUnU491c0XZc+fxUZFo0Mn4QjiJMMFREcKJG4xxrC/7ETCQ854+JAtbBny5Mak3d1ab3BsKtCrhhuJ2K9lNpmU+KYAHpWRAFa4K4x7t5NouU5WhS4rRIvt0idotJ3MGIDPgj0usNSZ8vLMOBiIQhJQukoZkpHGOJcGXLiPD0WBNStOmvQ8ETAjp7iN0d++RelBLhBFsAnVQe/fXHZk7wDEuarXaJBrxNFe2nNzLb0VsBMWA0HoyO8WNDDnDxIzOy5ONzcuX6MqdU5VhxLZlYWoUvFJEud0iODQZkb5dXHa19PnEFw2LDBi0QRqqac14BBPnz2yul0GEZxZt68vzhQXm6pS+Gl9xLANL4uUWFsm5hPmiIjiPu2EQqSY8nJCeHAnK4zy+tOLrdQXXTClqVLFLwJKDM7BSLmMD8iN/btCRn3obtm+adz+CElTTlW0YuEDe1qR6M//oNJXJDRVbC0PNPqYFZVrPUFNjU8bHqHGUF3NxLx4ZkZ/uQdLnOF34Acad+To6srDRe/7ML8+T5Q/3KEpNFD5lijVKnWa4tdpxPWIZXeiGM/3S65Y/vD8hbnR6lLBdkEdR8DZrv9zUtyT+wYfu6+YbMJ5mjQZjMZ1H20HXF8s0VZWKjjU4C6IIWgyk8PlqVLY0vnhDGkMTVNJjA3bV5464+t9AhS4vtsqfDBWuiKY0Bk4dIhq5nbFbyWXGWJnfPzZc1NRT0gDy+p1uG/WHlmpJHZvALG6TmR/2epoOFBzccTEg1jWabTXBBpkhYgoGQNCy9Rr6zsnzSzE9ERKZvazknAX9IzFhf4QGuMFofNXmarKjMThye9pwWtqYmV6Jwc2R4fI3Rb/qyKQDGgvsWF8ovVlcJSEOPJsaTUTzkkdGBRMZstorA7SwqXLRBMmQ+STczC/IHwnA3TvlGfdkUbCe2xBsnhmVna79YTQi3YB7x8AhA0LfPzpNsW7JG6yG+BWOLHWYJgwHxNUa/KeUphPqZOfKt+nKlJIk0j+Ib2UPyb8QfMD/q8zYV9/Ru3L7ONK7bSSTZHIUZm6FJDdeXIrsZnynMdBh4jfbuR1B8YnenhBCIVZZFV4GDuLLh2j4xLz+RBsPzylyrspYAlIRrJB1TZAGJBHxmUZFcV5YFRUmDLxU/fpP5aC80Fff1GWY7iTgSzzWa26wCu6yA9I3g7VPDsu1Ar3zQ75MAGEwNLnBoUgtfv2JmriybkSM5SFcJO1p65Z3Tw2JnPgqtiUMIgluGsXUlzviljL7vnF8gLx86h7UShnNdIy3A0NeODcrrHwwqn56LrKv2GtA6K0+K4Pv1wAoF+STw7T05lBy4kibQ8lhkMdvxNZUMD06K+VxSC0NLawtto8xLwjPyYx+Y2bCtVVwjAYrpGvdOBXzlcFSeguVUF9rlzroiuXlOgfzmv2fEwgFwG4kQhitag80xUE8EbgLTZsISOgb9Y3MhzPEE8NapIdmyu0McyNRIDjOcmVC2x1ZXy621BbokLK/KEZQ8CPLJ9I9OwDpm9POR7fzqYPXyjTJBtzO6Dk4QH8MosPQ1goND4DSDNFCKDT4dHk99O8xRRSjKaTnR65Ff7jolX37ufTnT78UYBE1oafygT2Uhd9vcwkT8GZ3noVa4tSY/5tIS1jQBrxFYIWdkqurIAkMdoL2jzyvf/1u7dA8HdKdW5FmlCHEnFozH9qASAfDCYtLYz2+qe7P9gphPAhADEBipTQZwIzTwJ3fVSmm2VTy+kARgNeyiqkDFbzDFooQioh7w4PfovZFxDL7U5Mp8W1pMrLppYXqwBtbFuJ2MF2ptAFEwK4kO0MWkoGPAK/s7hnVnMhZmw30m4eI+aEZgPtzOr+pqTmzYvj25saa7oMENiDIq3UN+gyGxW5+6tkRurM6XHe/2yIstZ6XtrEcJTgOxTOPoluIVbypb+JvK+slF1+jiae/1yuvH+qVx5Yy0Y66tzJX5xVnScsYlrFpZA5AfRkCGcVwEljoKoDOMaz5UxXqgIQ7Aa6lxo1Mxj3l+OOD73eEFKze2rKvX1xa9hdNcx1aicqjLJb0ufZOMzyvPs8nDH62SPzculWceWAJmVUkNAlsAgdwFywhCS0LQstTDz0BfZJebEB/0YM8HA7Jjf7eqpNONYWF4x4JC8QVDav0g8LCvYwS8z3GJ9NDaEY9lfql+Fc4kg/sJJ8wNm20S9nu3+sKBr12Iz0+l10wtOQ2fTa3OFBjUbpqdL9/9xBz5y1eXyVNfWCy0EA0bc6Pw4oZJfPzwwWXdPr9IcrhzHdjV1icHod20LD1YXVes1qCgufZ4AmDKTOFTQUgDafPg+PwNFbIAqaYeuOEKe90B5XIUHgseIwa9W/3RYOPxTat8evMmc121o+m/m/51QlaBSdVFE0sRnVaLmse5LZ0ueeK14/IShKk6nbQvCDiLqd3iYl36uuAC950cFK8/KK9DEAvK0lfJc0uyZHlVrvzzyLmY+xnHAvIg8CpYrQM0ZiGAVF+TJXdDUe6+ttSwC9ra7ZJ+eASVraG3A5+/1VLqbmjfeOf4vlp3l+lvQAAoxHDvNLKDh7e+J1vWf0hmogczGVhSmSNbPr9EnvnPafnB344iINP8o3Lj7AJZDB+uB3va+6V70KcC+T9bz0nDyplpny8wzty1pFRePXQ2IwE8WD9DPgdtN2EiBWBFvMoEXnm/V/xwddnOLHY1n9OGfQ1tP5x65pMW1PgIRjiYYew/MSj3bdkrfz/YkwmdumO+WF8lP753IVLQqEod74LWscDRg1cP9ap+jxWMOgBL6BjQt/JVC4qkIgfv1JBurG8E1PyCLKvkI83OlPknoYgvvtslDjzDDQe8W8H8L7c9cXGYT9qRa2ETPJAZ2OEyTvS65StPvysP//6AvH18wGh/hvfWLq+QtcvLhW5g9aIS3bH96Mf/tw09IygAApL0DvlkdxuqXh0oy7PLzaglmNbGzEBn4CQuM2b86IUjctYFrxD0bTU5LI0Xk/kk0RxhMEs4GCbplnbs7ZC1T74lX9jytvzpzQ45Y6CVentdf1OVrIHLmGkQV/a098mpc24xgfmKDmj2Ky3GFnjX0jIIi3pjbAF6dKW7zjrksR2Hpfm9PtEi/q3RLG3KA246vBrdRCrQWTjgL1kJ/gPM4FGe75Dl8OV3LC6VW5CNVBSMHycWVuTKN1fXpi6f9Jsuh81Atq0JVIAPetwyhEedeToV+sraIvSgnOhank+7WmSCH0eRhv8Ymr8TzwSQ7zxr7rc9dPzxqc129Egy1Xz9paRd8Eeqt+Y1lVNjwzwvRz/l08tnyCNgbhH88YUAU8O2brd0IhX24zlzCVzMbGQ7FLDR06nvbTsodvitR++tmxT6QU9QDqEafuGdTmned0b6fSaxg/mRwa6Hjj/9oH4QmhQ2/UnnWQALFWYbDFpxQfCb+QMrRAqgH02xJ3celdOIF5sbl+NhRHykPiK9O9l2TZbOyleH3ph019fADe05qh8rOOeNw72y+0gv6I7thSnxOaSXp895YGUelfmxTnA4nGKPBrfCrTW2P/3glKea6eiPX9Ms8P9xYMq4/iOzlAvY09qrLttIfDr+QiLtnUMqflM40w3LqgtQNxh3A954v0cebz4szpE2OWnkXpiWMsdnC8XuQLaDgBs1WxoudsBNxyNYQEwAZP6c0hx5dO0SVUTthGlu//cJOXC8X4bx8JouSAkCJsAZOXgW8NAdtcoq0i18sa9lA//NC/WLO+Jnzygbb3Kkvs2haIMgzKhwI0g1oxbrJWE+6dAs9CmAIPzvA7fORsESaxfcc2OVfOrDVXKsa1gOnhyQDrSbB1Ce0y+XoVBbsaBEFs3M/MlWDMvUfjoSNDvdyrRM7i++x8QxJjI/6Hs2rFkveqqZiDf1XFkAU7B55Tny6fpZSfep8XORyfC4IoEtWFp4BBsZAb4wpv45Iuh/1uvvY8CdVp8fpyP+rbH4iSIQrV81B2kfnuxPA/AlgJ9tf0/KUR8sqi6U8kInyn6rCvpMAs6hGDuJVHQ/CrL7bquRuZXjv8KSjmy0/tWTOfV0bmSAcjsh/7OewMC0Zjvp6OM1ja+J1MGVrL1ljt6YKb/ehuD93KvHVJfSjnaB06aJNvLWHRXWj86lF+mpF4IqRTo6WQHwAQULPB4EExtrYL7X6Wg8/utLq/lxpppZUfrQ+37tnTNq4/Ebk/lmoH793TOKeUbzd2EM35jIBvMZcfxgthvxhYfXizYwqmEnnkjxIf+/W7rQqoox0GjNdPdoASw0eZjRzxf4fG+H45L6/FQ6zVS8M2dd8u0nd8v9P/yH/H7nETnd40odZ/ib7NmHfPurP90lbx7uESdyeyPYtb8TjwbBHAiMLpDtcAoifvAa7/Hd0kNoVUyUnjhu9b4n10fANQX8f3BndTa2vXzxGmtxvBP5Nl33pW1KvUCnejWR2laEarQOvnnZvGKpm10olXgUWJhrFxs0lsCxLk9AulG9toBBb0Cj6a/d3qCsva1W5lTQZ6tl1fjEj0Fo+XOvHAUuMHksNiYOSTpnS/tOJAcLZvFhfvo1kyYk/Njd0i1vHxlAbAltc3VlP3C5MZ+kmq574E/n7YquhO+JsuPLgsWJjiaDZLylywk+uI1hMJzpKythK1wGGcrfRi6DYyjIDHgfYyUGBrDmZP6XzWZHO0NCzR6LfX3rb+/Rfwofw3RJPrV4gErErlwBKmDlE3AjDAYMBn1J3V8ykk+9NPaRCTQL/KmXeg16/6Nj1UkGH1iT/48AZBkMHhvCt5Qj4UCzW3NctswntRr5lgmo/DmVBzGeZzJ9WseQ+eFgoNkz5Frf2vzZy1Lz4wxBDM5QAvEZl/m32cJUE8y3kfkNlzXzyUr1XtBlztOMyVNuJ+Rvdg571u+7Apg/IoCM93dZD+S7mnA7f/W4PPdfKcwfEcCV74KU26HPd3vvvxLcTqImX4pWfiL+Cz7nf6ZEI8G/ut3eK8Lnp254pAOTevnK+G0yI4RFQvtzQ9r6vc0NEyvfL5Mt/g8XIbTVhsig+gAAAABJRU5ErkJggg==","width","48","height","24",1,"logo",3,"alt"],[1,"asm-title"],[1,"asm-bar-actions"],["class","cx-asm-customer-list",4,"ngIf"],[4,"ngIf"],["class","close",3,"title","click",4,"ngIf"],["class","logout",3,"title","click",4,"ngIf"],[1,"cx-asm-customer-list"],["tabindex","0","role","button",1,"cx-asm-customer-list-link",3,"click"],["customerListLink",""],[3,"type"],[1,"close",3,"title","click"],[1,"logout",3,"title","click"],[4,"ngIf","ngIfElse"],["showLoginForm",""],["showCustomerSelection",""],[4,"cxFeatureLevel"],[3,"text","type","closeMessage",4,"ngIf"],[3,"text","type","closeMessage"],[3,"submitEvent",4,"ngIf"],[3,"submitEvent"],[3,"csAgentTokenLoading","submitEvent",4,"ngIf"],[3,"csAgentTokenLoading","submitEvent"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0)(1,"div",1),core._UZ(2,"img",2),core.ALo(3,"cxTranslate"),core.TgZ(4,"div",3),core._uU(5),core.ALo(6,"cxTranslate"),core.qZA()(),core.TgZ(7,"div",4),core.YNc(8,AsmMainUiComponent_div_8_Template,7,4,"div",5),core.ALo(9,"async"),core._UZ(10,"cx-asm-toggle-ui"),core.YNc(11,AsmMainUiComponent_cx_asm_session_timer_11_Template,1,0,"cx-asm-session-timer",6),core.ALo(12,"async"),core.YNc(13,AsmMainUiComponent_button_13_Template,2,3,"button",7),core.ALo(14,"async"),core.ALo(15,"async"),core.YNc(16,AsmMainUiComponent_button_16_Template,2,3,"button",8),core.ALo(17,"async"),core.qZA()(),core.YNc(18,AsmMainUiComponent_ng_container_18_Template,5,4,"ng-container",6),core.ALo(19,"async")),2&rf&&(core.xp6(2),core.s9C("alt",core.lcZ(3,7,"asm.mainLogoLabel")),core.xp6(3),core.hij(" ",core.lcZ(6,9,"asm.mainTitle")," "),core.xp6(3),core.Q6J("ngIf",core.lcZ(9,11,ctx.customerSupportAgentLoggedIn$)),core.xp6(3),core.Q6J("ngIf",core.lcZ(12,13,ctx.customerSupportAgentLoggedIn$)),core.xp6(2),core.Q6J("ngIf",!core.lcZ(14,15,ctx.customerSupportAgentLoggedIn$)&&!core.lcZ(15,17,ctx.csAgentTokenLoading$)),core.xp6(3),core.Q6J("ngIf",core.lcZ(17,19,ctx.customerSupportAgentLoggedIn$)),core.xp6(2),core.Q6J("ngIf",!core.lcZ(19,21,ctx.isCollapsed$)))},"AsmMainUiComponent_Template"),dependencies:[common.O5,spartacus_storefront.oJW,spartacus_storefront.qqZ,spartacus_core.EJv,CSAgentLoginFormComponent,CustomerSelectionComponent,AsmSessionTimerComponent,CustomerEmulationComponent,AsmToggleUiComponent,common.Ov,spartacus_core.X$D],encapsulation:2}),(SWITCH_CUSTOMER_DIALOG_ACTION2=SWITCH_CUSTOMER_DIALOG_ACTION||(SWITCH_CUSTOMER_DIALOG_ACTION={})).CANCEL="CANCEL",SWITCH_CUSTOMER_DIALOG_ACTION2.SWITCH="SWITCH";class AsmSwitchCustomerDialogComponent{constructor(launchDialogService,asmComponentService){this.launchDialogService=launchDialogService,this.asmComponentService=asmComponentService,this.SWITCH_CUSTOMER_DIALOG_ACTION=SWITCH_CUSTOMER_DIALOG_ACTION,this.focusConfig={trap:!0,block:!0,autofocus:!0,focusOnEscape:!0}}ngOnInit(){this.launchDialogService.data$.pipe((0,take.q)(1)).subscribe(data=>{this.curCustomerName=data.curCustomer.name||"",this.switchCustomerName=data.switchCustomer.name||""})}closeModal(reason){reason===SWITCH_CUSTOMER_DIALOG_ACTION.SWITCH&&this.asmComponentService.logoutCustomer(),this.launchDialogService.closeDialog(reason)}}__name(AsmSwitchCustomerDialogComponent,"AsmSwitchCustomerDialogComponent"),AsmSwitchCustomerDialogComponent.\u0275fac=__name(function(t){return new(t||AsmSwitchCustomerDialogComponent)(core.Y36(spartacus_storefront.Q3W),core.Y36(AsmComponentService))},"AsmSwitchCustomerDialogComponent_Factory"),AsmSwitchCustomerDialogComponent.\u0275cmp=core.Xpm({type:AsmSwitchCustomerDialogComponent,selectors:[["cx-asm-switch-customer-dialog"]],decls:23,vars:23,consts:[[1,"cx-asm-switch-customer-dialog","cx-modal-container","cx-asm-dialog",3,"cxFocus","esc"],[1,"cx-modal-content"],[1,"cx-dialog-header","modal-header"],["type","WARNING"],["id","asm-switch-customer-dialog-title",1,"title","modal-title"],[1,"cx-dialog-body","modal-body"],[1,"cx-dialog-row","switch-customer-content"],[1,"cx-dialog-item"],[1,"cx-dialog-footer","modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.NdJ("esc",__name(function(){return ctx.closeModal(ctx.SWITCH_CUSTOMER_DIALOG_ACTION.CANCEL)},"AsmSwitchCustomerDialogComponent_Template_div_esc_0_listener")),core.TgZ(1,"div",1)(2,"div",2)(3,"div")(4,"span"),core._UZ(5,"cx-icon",3),core.qZA(),core.TgZ(6,"span",4),core._uU(7),core.ALo(8,"cxTranslate"),core.qZA()()(),core.TgZ(9,"div",5)(10,"div",6)(11,"div",7),core._uU(12),core.ALo(13,"cxTranslate"),core.qZA()()(),core.TgZ(14,"div",8)(15,"button",9),core.NdJ("click",__name(function(){return ctx.closeModal(ctx.SWITCH_CUSTOMER_DIALOG_ACTION.SWITCH)},"AsmSwitchCustomerDialogComponent_Template_button_click_15_listener")),core.ALo(16,"cxTranslate"),core._uU(17),core.ALo(18,"cxTranslate"),core.qZA(),core.TgZ(19,"button",10),core.NdJ("click",__name(function(){return ctx.closeModal(ctx.SWITCH_CUSTOMER_DIALOG_ACTION.CANCEL)},"AsmSwitchCustomerDialogComponent_Template_button_click_19_listener")),core.ALo(20,"cxTranslate"),core._uU(21),core.ALo(22,"cxTranslate"),core.qZA()()()()),2&rf&&(core.Q6J("cxFocus",ctx.focusConfig),core.xp6(7),core.hij(" ",core.lcZ(8,7,"asm.switchCustomer.dialog.title")," "),core.xp6(5),core.hij(" ",core.xi3(13,9,"asm.switchCustomer.dialog.body",core.WLB(20,_c9,ctx.curCustomerName,ctx.switchCustomerName))," "),core.xp6(3),core.uIk("aria-label",core.lcZ(16,12,"asm.switchCustomer.dialog.actions.switch")),core.xp6(2),core.hij(" ",core.lcZ(18,14,"asm.switchCustomer.dialog.actions.switch")," "),core.xp6(2),core.uIk("aria-label",core.lcZ(20,16,"common.cancel")),core.xp6(2),core.hij(" ",core.lcZ(22,18,"common.cancel")," "))},"AsmSwitchCustomerDialogComponent_Template"),dependencies:[spartacus_storefront.oJW,spartacus_storefront.RRe,spartacus_core.X$D],encapsulation:2});class CustomerListComponent{constructor(launchDialogService,breakpointService,asmConfig,translation,asmCustomerListFacade,featureConfig,occConfig){this.launchDialogService=launchDialogService,this.breakpointService=breakpointService,this.asmConfig=asmConfig,this.translation=translation,this.asmCustomerListFacade=asmCustomerListFacade,this.featureConfig=featureConfig,this.occConfig=occConfig,this.DEFAULT_PAGE_SIZE=5,this.focusConfig={trap:!0,block:!0,autofocus:"customer-list-selector",focusOnEscape:!0},this.iconTypes=spartacus_storefront.e1G,this.BREAKPOINT=spartacus_storefront.Bst,this.currentPage=0,this.maxPage=0,this.loaded=!1,this.listsError=!1,this.listsEmpty=!1,this.enableAsmB2bCustomerList=!1,this.customerListColumnActionType=spartacus_asm_root.JR,this.searchBox=new fesm2020_forms.p4,this.teardown=new Subscription.w,this.breakpoint$=this.getBreakpoint()}ngOnInit(){this.pageSize=this.asmConfig.asm?.customerList?.pageSize??this.DEFAULT_PAGE_SIZE,this.customerListConfig=this.asmConfig?.asm?.customerList,this.customerListsPage$=this.asmCustomerListFacade.getCustomerListsState().pipe((0,tap.b)(state=>this.listsError=!!state.error),(0,map.U)(state=>0===state?.data?.userGroups?.length?void(this.listsEmpty=!0):state.data),(0,distinctUntilChanged.x)(),(0,tap.b)(result=>{this.selectedUserGroupId||(this.selectedUserGroupId=result?.userGroups?.[0]?.uid,this.sorts=null,this.fetchCustomers())}))??never.C,this.customerSearchLoading$=this.asmCustomerListFacade.getCustomerListCustomersSearchResultsLoading().pipe((0,tap.b)(loading=>this.loaded=!loading)),this.teardown.add(this.customerSearchLoading$.subscribe()),this.teardown.add(()=>this.asmCustomerListFacade.customerListCustomersSearchReset()),this.customerSearchError$=this.asmCustomerListFacade.getCustomerListCustomersSearchResultsError(),this.customerSearchPage$=this.asmCustomerListFacade.getCustomerListCustomersSearchResults().pipe((0,tap.b)(result=>{result?.sorts&&(this.sorts=result.sorts,this.sortCode=result.pagination?.sort),result?.entries.length<this.pageSize?this.maxPage=result.pagination?.currentPage??0:this.maxPage=this.currentPage+1}))}ngOnDestroy(){this.teardown.unsubscribe()}changePage(page){const options={customerListId:this.selectedUserGroupId,pageSize:this.pageSize,currentPage:page,sort:this.sortCode};this.searchBox?.value&&(options.query=this.searchBox.value),this.asmCustomerListFacade.customerListCustomersSearch(options)}fetchCustomers(){if(this.enableAsmB2bCustomerList=(this.featureConfig?.isLevel("6.1")??!1)&&"b2bCustomerList"===this.selectedUserGroupId,this.selectedUserGroupId){const options={customerListId:this.selectedUserGroupId,pageSize:this.pageSize,currentPage:this.currentPage};this.sortCode&&(options.sort=this.sortCode),this.searchBox?.value&&(options.query=this.searchBox.value),this.asmCustomerListFacade.customerListCustomersSearchReset(),this.asmCustomerListFacade.customerListCustomersSearch(options)}this.updateCustomerListColumns()}updateCustomerListColumns(){const columns=this.customerListConfig?.columns||[];for(const column of columns)("asm.customerList.tableHeader.account"===column.headerLocalizationKey||"hideHeaders"===column.headerLocalizationKey)&&(column.headerLocalizationKey=this.enableAsmB2bCustomerList?"asm.customerList.tableHeader.account":"hideHeaders"),"asm.customerList.tableHeader.cart"===column.headerLocalizationKey&&(column.headerLocalizationKey=this.featureConfig?.isLevel("6.1")?column.headerLocalizationKey:"hideHeaders")}onChangeCustomerGroup(){this.currentPage=0,this.sorts=null,this.sortCode="",this.fetchCustomers()}getGroupName(customerListsPage,id){return customerListsPage?.userGroups?.find(userGroup=>userGroup.uid===id)?.name??""}getBadgeText(customerEntry){return(customerEntry.firstName?.charAt(0)??"")+(customerEntry.lastName?.charAt(0)??"")}startColumnAction(customerEntry,action){this.selectedCustomer=customerEntry;const closeValue={actionType:action,selectedUser:customerEntry};this.closeModal(closeValue)}onKey(event){"Enter"===event.key&&this.searchCustomers()}searchCustomers(){this.currentPage=0,this.fetchCustomers()}isRequired(customerEntry,type){return type===spartacus_asm_root.JR.ACTIVE_CART&&!customerEntry.lastCartId||type===spartacus_asm_root.JR.ORDER_HISTORY&&!0!==customerEntry.hasOrder}changeSortCode(sortCode){this.sortCode=sortCode,this.fetchCustomers()}goToNextPage(){this.currentPage>=this.maxPage?this.currentPage=this.maxPage:this.loaded&&(this.currentPage++,this.fetchCustomers())}goToPreviousPage(){this.currentPage<=0?this.currentPage=0:this.loaded&&(this.currentPage--,this.fetchCustomers())}closeModal(reason){this.launchDialogService.closeDialog(reason)}getSortLabels(){return(0,combineLatest.aj)([this.translation.translate("asm.customerList.tableSort.byName"),this.translation.translate("asm.customerList.tableSort.byNameAsc"),this.translation.translate("asm.customerList.tableSort.byNameDesc"),this.translation.translate("asm.customerList.tableSort.byDateAsc"),this.translation.translate("asm.customerList.tableSort.byDateDesc"),this.translation.translate("asm.customerList.tableSort.byOrderDateAsc"),this.translation.translate("asm.customerList.tableSort.byOrderDateDesc"),this.translation.translate("asm.customerList.tableSort.byUnit"),this.translation.translate("asm.customerList.tableSort.byUnitDesc")]).pipe((0,map.U)(([textByName,textByNameAsc,textByNameDesc,textByDateAsc,textByDateDesc,textByOrderDateAsc,textByOrderDateDesc,textByUnit,textByUnitDesc])=>({byName:textByName,byNameAsc:textByNameAsc,byNameDesc:textByNameDesc,byOrderDateAsc:textByOrderDateAsc,byOrderDateDesc:textByOrderDateDesc,byDateAsc:textByDateAsc,byDateDesc:textByDateDesc,byUnit:textByUnit,byUnitDesc:textByUnitDesc})))}createCustomer(){this.launchDialogService.closeDialog("Create customer click"),this.launchDialogService?.openDialogAndSubscribe("ASM_CREATE_CUSTOMER_FORM",this.addNewCustomerLink)}getBreakpoint(){return this.breakpointService.breakpoint$.pipe((0,map.U)(breakpoint=>((breakpoint===spartacus_storefront.Bst.lg||breakpoint===spartacus_storefront.Bst.xl)&&(breakpoint=spartacus_storefront.Bst.md),breakpoint)))}}__name(CustomerListComponent,"CustomerListComponent"),CustomerListComponent.\u0275fac=__name(function(t){return new(t||CustomerListComponent)(core.Y36(spartacus_storefront.Q3W),core.Y36(spartacus_storefront.r),core.Y36(spartacus_asm_root.hc),core.Y36(spartacus_core.D7D),core.Y36(spartacus_asm_root.AH),core.Y36(spartacus_core.Ru9,8),core.Y36(spartacus_core.Vri,8))},"CustomerListComponent_Factory"),CustomerListComponent.\u0275cmp=core.Xpm({type:CustomerListComponent,selectors:[["cx-customer-list"]],viewQuery:__name(function(rf,ctx){if(1&rf&&core.Gf(_c8,5),2&rf){let _t;core.iGM(_t=core.CRH())&&(ctx.addNewCustomerLink=_t.first)}},"CustomerListComponent_Query"),decls:44,vars:24,consts:[[1,"cx-asm-customer-list","cx-modal-container","cx-asm-dialog",3,"cxFocus","esc"],[1,"cx-modal-content"],[1,"cx-dialog-header","modal-header"],["id","asm-customer-list-title",1,"title","modal-title"],["id","asm-customer-list-desc",1,"cx-visually-hidden"],[4,"cxFeatureLevel"],["class","cx-dialog-sub-header modal-header",3,"tablet-mobile",4,"ngIf"],[1,"cx-dialog-body","modal-body"],[1,"cx-dialog-row"],[1,"cx-dialog-item"],["class","cx-error-state",4,"ngIf"],[4,"ngIf"],["cell",""],["cellContent",""],["search",""],["total",""],["sort",""],["pagination",""],["groupSelector",""],["closeButton",""],["createCustomerButton",""],[4,"ngTemplateOutlet"],[1,"cx-dialog-sub-header","modal-header"],[1,"cx-header-actions"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cx-header-select"],[1,"cx-error-state"],["id","asm-cusomer-list-table","role","table","class","table",4,"ngIf"],["class","cx-empty-state",4,"ngIf"],["id","asm-cusomer-list-table","role","table",1,"table"],[1,"cx-visually-hidden"],["role","row",4,"ngFor","ngForOf"],["role","row"],["role","columnheader",4,"ngFor","ngForOf"],["role","columnheader","class","cx-avatar-cell",4,"ngIf"],["role","columnheader",1,"cx-avatar-cell"],["role","columnheader"],["role","cell","class","cx-multi-cell",4,"ngIf"],["role","cell","class","cx-avatar-cell",4,"ngIf"],["role","cell",1,"cx-avatar-cell"],[1,"cx-avatar"],["role","cell",4,"ngFor","ngForOf"],["role","cell"],["role","cell",1,"cx-multi-cell"],[4,"ngFor","ngForOf"],[1,"cx-empty-state"],["class","cx-dialog-sub-header modal-header cx-dialog-foot",3,"asm-mobile-pagination",4,"ngIf"],[1,"cx-dialog-footer","modal-footer"],["type","button",1,"btn","cx-asm-customer-list-btn-cancel",3,"click"],[1,"cx-dialog-sub-header","modal-header","cx-dialog-foot"],[3,"pagination","viewPageEvent"],["class","cx-cell-container",4,"ngIf"],[1,"cx-cell-container"],["class","cx-header-text",4,"ngIf"],["class","btn btn-link cx-action-link cx-btn-cell",3,"class","disabled","click",4,"ngIf"],[1,"cx-header-text"],["class","cx-avatar",4,"ngIf"],[3,"alt",4,"ngIf"],["class","cx-avatar-text",4,"ngIf"],[3,"alt"],[1,"cx-avatar-text"],[1,"btn","btn-link","cx-action-link","cx-btn-cell",3,"disabled","click"],[3,"cx-action-color","type",4,"ngIf"],[3,"type"],[1,"form-group","search-wrapper"],["type","text",1,"form-control",3,"formControl","placeholder","keyup"],["role","button",1,"search",3,"type","click"],["class","cx-total",4,"ngIf"],[1,"cx-total"],[1,"sort-selector",3,"sortOptions","sortLabels","selectedOption","placeholder","cxNgSelectA11y","sortListEvent"],[1,"cx-pagination-buttons"],["class","btn btn-link cx-action-link cx-btn-previous",3,"disabled","click",4,"ngIf"],["class","btn btn-link cx-action-link cx-btn-next",3,"disabled","click",4,"ngIf"],[1,"btn","btn-link","cx-action-link","cx-btn-previous",3,"disabled","click"],[1,"previous",3,"type"],[1,"btn","btn-link","cx-action-link","cx-btn-next",3,"disabled","click"],[1,"next",3,"type"],["bindLabel","name","bindValue","uid",1,"customer-list-selector",3,"searchable","clearable","tabIndex","ngModel","items","cxNgSelectA11y","change","ngModelChange"],["type","button",1,"close",3,"click"],["aria-hidden","true"],["type","button",1,"btn","cx-asm-create-customer-btn",3,"click"]],template:__name(function(rf,ctx){1&rf&&(core.TgZ(0,"div",0),core.NdJ("esc",__name(function(){return ctx.closeModal("Escape clicked")},"CustomerListComponent_Template_div_esc_0_listener")),core.TgZ(1,"div",1),core.ynx(2),core.TgZ(3,"div",2)(4,"h2",3),core._uU(5),core.ALo(6,"cxTranslate"),core.qZA(),core.TgZ(7,"div",4),core._uU(8),core.ALo(9,"cxTranslate"),core.qZA(),core.YNc(10,CustomerListComponent_ng_container_10_Template,2,1,"ng-container",5),core.YNc(11,CustomerListComponent_ng_container_11_Template,2,1,"ng-container",5),core.qZA(),core.YNc(12,CustomerListComponent_div_12_Template,9,13,"div",6),core.ALo(13,"async"),core.TgZ(14,"div",7)(15,"div",8)(16,"div",9),core.YNc(17,CustomerListComponent_div_17_Template,3,3,"div",10),core.YNc(18,CustomerListComponent_div_18_Template,3,3,"div",10),core.YNc(19,CustomerListComponent_div_19_Template,3,3,"div",10),core.ALo(20,"async"),core.YNc(21,CustomerListComponent_cx_spinner_21_Template,1,0,"cx-spinner",11),core.ALo(22,"async"),core.YNc(23,CustomerListComponent_div_23_Template,3,2,"div",11),core.ALo(24,"async"),core.qZA()()(),core.YNc(25,CustomerListComponent_ng_container_25_Template,7,6,"ng-container",5),core.BQk(),core.qZA()(),core.YNc(26,CustomerListComponent_ng_template_26_Template,1,1,"ng-template",null,12,core.W1O),core.YNc(28,CustomerListComponent_ng_template_28_Template,3,2,"ng-template",null,13,core.W1O),core.YNc(30,CustomerListComponent_ng_template_30_Template,6,11,"ng-template",null,14,core.W1O),core.YNc(32,CustomerListComponent_ng_template_32_Template,1,1,"ng-template",null,15,core.W1O),core.YNc(34,CustomerListComponent_ng_template_34_Template,7,14,"ng-template",null,16,core.W1O),core.YNc(36,CustomerListComponent_ng_template_36_Template,6,8,"ng-template",null,17,core.W1O),core.YNc(38,CustomerListComponent_ng_template_38_Template,5,11,"ng-template",null,18,core.W1O),core.YNc(40,CustomerListComponent_ng_template_40_Template,4,4,"ng-template",null,19,core.W1O),core.YNc(42,CustomerListComponent_ng_template_42_Template,5,4,"ng-template",null,20,core.W1O)),2&rf&&(core.Q6J("cxFocus",ctx.focusConfig),core.xp6(5),core.hij(" ",core.lcZ(6,12,"asm.customerList.title")," "),core.xp6(3),core.hij(" ",core.lcZ(9,14,"asm.customerList.description")," "),core.xp6(2),core.Q6J("cxFeatureLevel","!6.1"),core.xp6(1),core.Q6J("cxFeatureLevel","6.1"),core.xp6(1),core.Q6J("ngIf",core.lcZ(13,16,ctx.customerListsPage$)),core.xp6(5),core.Q6J("ngIf",ctx.listsEmpty),core.xp6(1),core.Q6J("ngIf",ctx.listsError),core.xp6(1),core.Q6J("ngIf",core.lcZ(20,18,ctx.customerSearchError$)),core.xp6(2),core.Q6J("ngIf",core.lcZ(22,20,ctx.customerSearchLoading$)),core.xp6(2),core.Q6J("ngIf",core.lcZ(24,22,ctx.customerSearchPage$)),core.xp6(2),core.Q6J("cxFeatureLevel","6.1"))},"CustomerListComponent_Template"),dependencies:[common.sg,common.O5,common.tP,fesm2020_forms.Fj,fesm2020_forms.JJ,fesm2020_forms.oH,spartacus_storefront.oJW,ng_select_ng_select.w9,fesm2020_forms.On,spartacus_storefront.ORR,spartacus_storefront.RRe,spartacus_storefront.VnX,spartacus_storefront.iNG,spartacus_storefront.QtL,spartacus_core.EJv,common.Ov,spartacus_core.X$D],encapsulation:2});const defaultCustomerListLayoutConfig={launch:{ASM_CUSTOMER_LIST:{inlineRoot:!0,component:CustomerListComponent,dialogType:spartacus_storefront.Myk.DIALOG}}},defaultAsmLayoutConfig={launch:{ASM:{outlet:"cx-storefront",component:AsmMainUiComponent}}},defaultBindCartLayoutConfig={launch:{ASM_BIND_CART:{inlineRoot:!0,component:AsmBindCartDialogComponent,dialogType:spartacus_storefront.Myk.DIALOG}}},defaultSaveCartLayoutConfig={launch:{ASM_SAVE_CART:{inlineRoot:!0,component:AsmSaveCartDialogComponent,dialogType:spartacus_storefront.Myk.DIALOG}}},defaultSwitchCustomerLayoutConfig={launch:{ASM_SWITCH_CUSTOMER:{inlineRoot:!0,component:AsmSwitchCustomerDialogComponent,dialogType:spartacus_storefront.Myk.DIALOG}}};class AsmComponentsModule{}__name(AsmComponentsModule,"AsmComponentsModule"),AsmComponentsModule.\u0275fac=__name(function(t){return new(t||AsmComponentsModule)},"AsmComponentsModule_Factory"),AsmComponentsModule.\u0275mod=core.oAB({type:AsmComponentsModule}),AsmComponentsModule.\u0275inj=core.cJS({providers:[(0,spartacus_core.i51)(defaultAsmLayoutConfig),(0,spartacus_core.i51)(defaultBindCartLayoutConfig),(0,spartacus_core.i51)(defaultSaveCartLayoutConfig),(0,spartacus_core.i51)(defaultSwitchCustomerLayoutConfig),(0,spartacus_core.i51)(defaultCustomerListLayoutConfig),(0,spartacus_core.i51)({pagination:{rangeCount:2,addPrevious:!0,addNext:!0,addStart:!1,addEnd:!1,addFirst:!0,addLast:!0,addDots:!0,substituteDotsForSingularPage:!0,dotsLabel:"\xb7\xb7\xb7"}}),(0,spartacus_core.i51)(defaultAsmCreateCustomerFormLayoutConfig)],imports:[common.ez,fesm2020_forms.UX,spartacus_core.LUR,spartacus_storefront.Fym,spartacus_storefront.QX1,ng_select_ng_select.A0,fesm2020_forms.u5,spartacus_storefront.Fme,spartacus_storefront.Ird,spartacus_storefront.oPH,spartacus_storefront.LcC,spartacus_storefront.U67,spartacus_storefront.u3b,spartacus_storefront.$zX,spartacus_core.GSh]});var http=__webpack_require__(48664),throwError=__webpack_require__(84724),catchError=__webpack_require__(2155);class OccAsmAdapter{constructor(http2,occEndpointsService,converterService,config,baseSiteService){this.http=http2,this.occEndpointsService=occEndpointsService,this.converterService=converterService,this.config=config,this.baseSiteService=baseSiteService,this.logger=(0,core.f3M)(spartacus_core.mQy),this.baseSiteService.getActive().subscribe(value=>this.activeBaseSite=value)}getHeaders(){return spartacus_core.Fox.createHeader(spartacus_core.OPk,!0,new http.WM)}customerLists(){const headers=this.getHeaders(),params=(new http.LE).set("baseSite",this.activeBaseSite),url=this.occEndpointsService.buildUrl("asmCustomerLists",{},{baseSite:!1,prefix:!1});return this.http.get(url,{headers,params}).pipe((0,catchError.K)(error=>(0,throwError._)((0,spartacus_core.cxH)(error,this.logger))),this.converterService.pipeable(spartacus_asm_core.bz))}customerSearch(options){const headers=this.getHeaders();let params=(new http.LE).set("baseSite",this.activeBaseSite);void 0!==options.sort?params=params.set("sort",options.sort):options.customerListId||(params=params.set("sort","byNameAsc")),void 0!==options.query&&(params=params.set("query",options.query)),void 0!==options.pageSize&&(params=params.set("pageSize",options.pageSize.toString())),void 0!==options.currentPage&&(params=params.set("currentPage",options.currentPage.toString())),void 0!==options.customerListId&&(params=params.set("customerListId",options.customerListId));const url=this.occEndpointsService.buildUrl("asmCustomerSearch",{},{baseSite:!1,prefix:!1});return this.http.get(url,{headers,params}).pipe((0,catchError.K)(error=>(0,throwError._)((0,spartacus_core.cxH)(error,this.logger))),this.converterService.pipeable(spartacus_asm_core.Cq))}bindCart({cartId,customerId}){const headers=spartacus_core.Fox.createHeader(spartacus_core.OPk,!0,new http.WM),params=(new http.LE).set("baseSite",this.activeBaseSite).set("cartId",cartId).set("customerId",customerId),url=this.occEndpointsService.buildUrl("asmBindCart",{},{baseSite:!1,prefix:!1});return this.http.post(url,{},{headers,params}).pipe((0,catchError.K)(error=>(0,throwError._)((0,spartacus_core.cxH)(error,this.logger))))}createCustomer(user){const headers=this.getHeaders(),params=(new http.LE).set("baseSite",this.activeBaseSite),url=this.occEndpointsService.buildUrl("asmCreateCustomer",{},{baseSite:!1,prefix:!1});return this.http.post(url,user,{headers,params}).pipe((0,catchError.K)(error=>(0,throwError._)((0,spartacus_core.cxH)(error,this.logger))))}}__name(OccAsmAdapter,"OccAsmAdapter"),OccAsmAdapter.\u0275fac=__name(function(t){return new(t||OccAsmAdapter)(core.LFG(http.eN),core.LFG(spartacus_core.Lz0),core.LFG(spartacus_core.IXI),core.LFG(spartacus_asm_root.hc),core.LFG(spartacus_core.Do$))},"OccAsmAdapter_Factory"),OccAsmAdapter.\u0275prov=core.Yz7({token:OccAsmAdapter,factory:OccAsmAdapter.\u0275fac});class AsmOccModule{}__name(AsmOccModule,"AsmOccModule"),AsmOccModule.\u0275fac=__name(function(t){return new(t||AsmOccModule)},"AsmOccModule_Factory"),AsmOccModule.\u0275mod=core.oAB({type:AsmOccModule}),AsmOccModule.\u0275inj=core.cJS({providers:[(0,spartacus_core.i51)({backend:{occ:{endpoints:{asmCustomerSearch:"/assistedservicewebservices/customers/search",asmCustomerLists:"/assistedservicewebservices/customerlists",asmBindCart:"/assistedservicewebservices/bind-cart",asmCreateCustomer:"/assistedservicewebservices/customers"}}}}),{provide:spartacus_asm_core.gS,useClass:OccAsmAdapter}],imports:[common.ez]});class AsmModule{}__name(AsmModule,"AsmModule"),AsmModule.\u0275fac=__name(function(t){return new(t||AsmModule)},"AsmModule_Factory"),AsmModule.\u0275mod=core.oAB({type:AsmModule}),AsmModule.\u0275inj=core.cJS({imports:[AsmComponentsModule,spartacus_asm_core.dx,AsmOccModule]})}};