/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { Component, ChangeDetectionStrategy, ViewChild, ChangeDetectorRef, inject, } from '@angular/core';
import { OrderOutlets } from '@spartacus/order/root';
import { InvoicesListComponent } from '@spartacus/pdf-invoices/components';
import { ICON_TYPE, LaunchDialogService, } from '@spartacus/storefront';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@spartacus/storefront";
import * as i3 from "@spartacus/pdf-invoices/components";
import * as i4 from "@spartacus/core";
export class MyAccountV2DownloadInvoicesComponent {
    constructor() {
        this.OrderOutlets = OrderOutlets;
        this.invoiceCount = undefined;
        this.iconTypes = ICON_TYPE;
        this.focusConfig = {
            trap: true,
            block: true,
            autofocus: true,
            focusOnEscape: true,
        };
        this.launchDialogService = inject(LaunchDialogService);
        this.cdr = inject(ChangeDetectorRef);
    }
    ngAfterViewChecked() {
        this.cdr.detectChanges();
        if (this.invoiceComponent &&
            this.invoiceComponent.pagination !== undefined) {
            this.invoiceCount = this.invoiceComponent.pagination.totalResults;
        }
    }
    close(reason, _message) {
        this.launchDialogService.closeDialog(reason);
    }
}
MyAccountV2DownloadInvoicesComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: MyAccountV2DownloadInvoicesComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
MyAccountV2DownloadInvoicesComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.9", type: MyAccountV2DownloadInvoicesComponent, selector: "cx-my-account-v2-download-invoices", viewQueries: [{ propertyName: "invoiceComponent", first: true, predicate: InvoicesListComponent, descendants: true }], ngImport: i0, template: "<div\n  [cxFocus]=\"focusConfig\"\n  (esc)=\"close('Escape clicked')\"\n  class=\"cx-modal-container\"\n>\n  <div class=\"cx-modal-content\">\n    <div class=\"cx-dialog-header modal-header\">\n      <div class=\"cx-dialog-title modal-title\">\n        {{ 'myAccountV2OrderDetails.downloadInvoices' | cxTranslate }}\n      </div>\n      <button\n        type=\"button\"\n        class=\"close\"\n        attr.aria-label=\"{{ 'addToCart.closeModal' | cxTranslate }}\"\n        (click)=\"close('Close download invoices dialog')\"\n      >\n        <span aria-hidden=\"true\">\n          <cx-icon [type]=\"iconTypes.CLOSE\"></cx-icon>\n        </span>\n      </button>\n    </div>\n\n    <div class=\"cx-dialog-body modal-body\">\n      <cx-invoices-list> </cx-invoices-list>\n      <div id=\"noInvoice\" *ngIf=\"invoiceCount === 0\">\n        {{ 'myAccountV2OrderDetails.noInvoices' | cxTranslate }}\n      </div>\n      <div *ngIf=\"invoiceCount === undefined\" class=\"cx-spinner\">\n        <cx-spinner></cx-spinner>\n      </div>\n    </div>\n  </div>\n</div>\n", dependencies: [{ kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.FocusDirective, selector: "[cxFocus]", inputs: ["cxFocus"] }, { kind: "component", type: i2.IconComponent, selector: "cx-icon,[cxIcon]", inputs: ["cxIcon", "type"] }, { kind: "component", type: i2.SpinnerComponent, selector: "cx-spinner" }, { kind: "component", type: i3.InvoicesListComponent, selector: "cx-invoices-list" }, { kind: "pipe", type: i4.TranslatePipe, name: "cxTranslate" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: MyAccountV2DownloadInvoicesComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-my-account-v2-download-invoices', changeDetection: ChangeDetectionStrategy.OnPush, template: "<div\n  [cxFocus]=\"focusConfig\"\n  (esc)=\"close('Escape clicked')\"\n  class=\"cx-modal-container\"\n>\n  <div class=\"cx-modal-content\">\n    <div class=\"cx-dialog-header modal-header\">\n      <div class=\"cx-dialog-title modal-title\">\n        {{ 'myAccountV2OrderDetails.downloadInvoices' | cxTranslate }}\n      </div>\n      <button\n        type=\"button\"\n        class=\"close\"\n        attr.aria-label=\"{{ 'addToCart.closeModal' | cxTranslate }}\"\n        (click)=\"close('Close download invoices dialog')\"\n      >\n        <span aria-hidden=\"true\">\n          <cx-icon [type]=\"iconTypes.CLOSE\"></cx-icon>\n        </span>\n      </button>\n    </div>\n\n    <div class=\"cx-dialog-body modal-body\">\n      <cx-invoices-list> </cx-invoices-list>\n      <div id=\"noInvoice\" *ngIf=\"invoiceCount === 0\">\n        {{ 'myAccountV2OrderDetails.noInvoices' | cxTranslate }}\n      </div>\n      <div *ngIf=\"invoiceCount === undefined\" class=\"cx-spinner\">\n        <cx-spinner></cx-spinner>\n      </div>\n    </div>\n  </div>\n</div>\n" }]
        }], propDecorators: { invoiceComponent: [{
                type: ViewChild,
                args: [InvoicesListComponent, { static: false }]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXktYWNjb3VudC12Mi1kb3dubG9hZC1pbnZvaWNlcy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9mZWF0dXJlLWxpYnMvb3JkZXIvY29tcG9uZW50cy9vcmRlci1kZXRhaWxzL215LWFjY291bnQtdjIvZG93bmxvYWQtaW52b2ljZXMvbXktYWNjb3VudC12Mi1kb3dubG9hZC1pbnZvaWNlcy5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi8uLi9mZWF0dXJlLWxpYnMvb3JkZXIvY29tcG9uZW50cy9vcmRlci1kZXRhaWxzL215LWFjY291bnQtdjIvZG93bmxvYWQtaW52b2ljZXMvbXktYWNjb3VudC12Mi1kb3dubG9hZC1pbnZvaWNlcy5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztHQUlHO0FBRUgsT0FBTyxFQUNMLFNBQVMsRUFDVCx1QkFBdUIsRUFDdkIsU0FBUyxFQUNULGlCQUFpQixFQUVqQixNQUFNLEdBQ1AsTUFBTSxlQUFlLENBQUM7QUFDdkIsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQ3JELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLG9DQUFvQyxDQUFDO0FBQzNFLE9BQU8sRUFDTCxTQUFTLEVBRVQsbUJBQW1CLEdBQ3BCLE1BQU0sdUJBQXVCLENBQUM7Ozs7OztBQU8vQixNQUFNLE9BQU8sb0NBQW9DO0lBTGpEO1FBUVcsaUJBQVksR0FBRyxZQUFZLENBQUM7UUFDckMsaUJBQVksR0FBdUIsU0FBUyxDQUFDO1FBQzdDLGNBQVMsR0FBRyxTQUFTLENBQUM7UUFDdEIsZ0JBQVcsR0FBZ0I7WUFDekIsSUFBSSxFQUFFLElBQUk7WUFDVixLQUFLLEVBQUUsSUFBSTtZQUNYLFNBQVMsRUFBRSxJQUFJO1lBQ2YsYUFBYSxFQUFFLElBQUk7U0FDcEIsQ0FBQztRQUVRLHdCQUFtQixHQUFHLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDO1FBQ2xELFFBQUcsR0FBRyxNQUFNLENBQUMsaUJBQWlCLENBQUMsQ0FBQztLQWUzQztJQWJDLGtCQUFrQjtRQUNoQixJQUFJLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3pCLElBQ0UsSUFBSSxDQUFDLGdCQUFnQjtZQUNyQixJQUFJLENBQUMsZ0JBQWdCLENBQUMsVUFBVSxLQUFLLFNBQVMsRUFDOUM7WUFDQSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxVQUFVLENBQUMsWUFBWSxDQUFDO1NBQ25FO0lBQ0gsQ0FBQztJQUVELEtBQUssQ0FBQyxNQUFZLEVBQUUsUUFBaUI7UUFDbkMsSUFBSSxDQUFDLG1CQUFtQixDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUMvQyxDQUFDOztpSUE1QlUsb0NBQW9DO3FIQUFwQyxvQ0FBb0MsNEhBQ3BDLHFCQUFxQixnREM1QmxDLHlpQ0FpQ0E7MkZETmEsb0NBQW9DO2tCQUxoRCxTQUFTOytCQUNFLG9DQUFvQyxtQkFFN0IsdUJBQXVCLENBQUMsTUFBTTs4QkFJeEMsZ0JBQWdCO3NCQUR0QixTQUFTO3VCQUFDLHFCQUFxQixFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiAyMDIzIFNBUCBTcGFydGFjdXMgdGVhbSA8c3BhcnRhY3VzLXRlYW1Ac2FwLmNvbT5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIFZpZXdDaGlsZCxcbiAgQ2hhbmdlRGV0ZWN0b3JSZWYsXG4gIEFmdGVyVmlld0NoZWNrZWQsXG4gIGluamVjdCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPcmRlck91dGxldHMgfSBmcm9tICdAc3BhcnRhY3VzL29yZGVyL3Jvb3QnO1xuaW1wb3J0IHsgSW52b2ljZXNMaXN0Q29tcG9uZW50IH0gZnJvbSAnQHNwYXJ0YWN1cy9wZGYtaW52b2ljZXMvY29tcG9uZW50cyc7XG5pbXBvcnQge1xuICBJQ09OX1RZUEUsXG4gIEZvY3VzQ29uZmlnLFxuICBMYXVuY2hEaWFsb2dTZXJ2aWNlLFxufSBmcm9tICdAc3BhcnRhY3VzL3N0b3JlZnJvbnQnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdjeC1teS1hY2NvdW50LXYyLWRvd25sb2FkLWludm9pY2VzJyxcbiAgdGVtcGxhdGVVcmw6ICcuL215LWFjY291bnQtdjItZG93bmxvYWQtaW52b2ljZXMuY29tcG9uZW50Lmh0bWwnLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbn0pXG5leHBvcnQgY2xhc3MgTXlBY2NvdW50VjJEb3dubG9hZEludm9pY2VzQ29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJWaWV3Q2hlY2tlZCB7XG4gIEBWaWV3Q2hpbGQoSW52b2ljZXNMaXN0Q29tcG9uZW50LCB7IHN0YXRpYzogZmFsc2UgfSlcbiAgcHVibGljIGludm9pY2VDb21wb25lbnQ6IEludm9pY2VzTGlzdENvbXBvbmVudDtcbiAgcmVhZG9ubHkgT3JkZXJPdXRsZXRzID0gT3JkZXJPdXRsZXRzO1xuICBpbnZvaWNlQ291bnQ6IG51bWJlciB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcbiAgaWNvblR5cGVzID0gSUNPTl9UWVBFO1xuICBmb2N1c0NvbmZpZzogRm9jdXNDb25maWcgPSB7XG4gICAgdHJhcDogdHJ1ZSxcbiAgICBibG9jazogdHJ1ZSxcbiAgICBhdXRvZm9jdXM6IHRydWUsXG4gICAgZm9jdXNPbkVzY2FwZTogdHJ1ZSxcbiAgfTtcblxuICBwcm90ZWN0ZWQgbGF1bmNoRGlhbG9nU2VydmljZSA9IGluamVjdChMYXVuY2hEaWFsb2dTZXJ2aWNlKTtcbiAgcHJvdGVjdGVkIGNkciA9IGluamVjdChDaGFuZ2VEZXRlY3RvclJlZik7XG5cbiAgbmdBZnRlclZpZXdDaGVja2VkKCkge1xuICAgIHRoaXMuY2RyLmRldGVjdENoYW5nZXMoKTtcbiAgICBpZiAoXG4gICAgICB0aGlzLmludm9pY2VDb21wb25lbnQgJiZcbiAgICAgIHRoaXMuaW52b2ljZUNvbXBvbmVudC5wYWdpbmF0aW9uICE9PSB1bmRlZmluZWRcbiAgICApIHtcbiAgICAgIHRoaXMuaW52b2ljZUNvdW50ID0gdGhpcy5pbnZvaWNlQ29tcG9uZW50LnBhZ2luYXRpb24udG90YWxSZXN1bHRzO1xuICAgIH1cbiAgfVxuXG4gIGNsb3NlKHJlYXNvbj86IGFueSwgX21lc3NhZ2U/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLmxhdW5jaERpYWxvZ1NlcnZpY2UuY2xvc2VEaWFsb2cocmVhc29uKTtcbiAgfVxufVxuIiwiPGRpdlxuICBbY3hGb2N1c109XCJmb2N1c0NvbmZpZ1wiXG4gIChlc2MpPVwiY2xvc2UoJ0VzY2FwZSBjbGlja2VkJylcIlxuICBjbGFzcz1cImN4LW1vZGFsLWNvbnRhaW5lclwiXG4+XG4gIDxkaXYgY2xhc3M9XCJjeC1tb2RhbC1jb250ZW50XCI+XG4gICAgPGRpdiBjbGFzcz1cImN4LWRpYWxvZy1oZWFkZXIgbW9kYWwtaGVhZGVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiY3gtZGlhbG9nLXRpdGxlIG1vZGFsLXRpdGxlXCI+XG4gICAgICAgIHt7ICdteUFjY291bnRWMk9yZGVyRGV0YWlscy5kb3dubG9hZEludm9pY2VzJyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICA8L2Rpdj5cbiAgICAgIDxidXR0b25cbiAgICAgICAgdHlwZT1cImJ1dHRvblwiXG4gICAgICAgIGNsYXNzPVwiY2xvc2VcIlxuICAgICAgICBhdHRyLmFyaWEtbGFiZWw9XCJ7eyAnYWRkVG9DYXJ0LmNsb3NlTW9kYWwnIHwgY3hUcmFuc2xhdGUgfX1cIlxuICAgICAgICAoY2xpY2spPVwiY2xvc2UoJ0Nsb3NlIGRvd25sb2FkIGludm9pY2VzIGRpYWxvZycpXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XCJ0cnVlXCI+XG4gICAgICAgICAgPGN4LWljb24gW3R5cGVdPVwiaWNvblR5cGVzLkNMT1NFXCI+PC9jeC1pY29uPlxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJjeC1kaWFsb2ctYm9keSBtb2RhbC1ib2R5XCI+XG4gICAgICA8Y3gtaW52b2ljZXMtbGlzdD4gPC9jeC1pbnZvaWNlcy1saXN0PlxuICAgICAgPGRpdiBpZD1cIm5vSW52b2ljZVwiICpuZ0lmPVwiaW52b2ljZUNvdW50ID09PSAwXCI+XG4gICAgICAgIHt7ICdteUFjY291bnRWMk9yZGVyRGV0YWlscy5ub0ludm9pY2VzJyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgKm5nSWY9XCJpbnZvaWNlQ291bnQgPT09IHVuZGVmaW5lZFwiIGNsYXNzPVwiY3gtc3Bpbm5lclwiPlxuICAgICAgICA8Y3gtc3Bpbm5lcj48L2N4LXNwaW5uZXI+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbiJdfQ==