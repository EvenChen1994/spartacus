/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { Component, inject } from '@angular/core';
import { MyAccountV2OrderHistoryService } from '@spartacus/order/core';
import { BehaviorSubject } from 'rxjs';
import { tap } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/router";
import * as i3 from "@spartacus/storefront";
import * as i4 from "@spartacus/core";
export class MyAccountV2OrdersComponent {
    constructor() {
        this.service = inject(MyAccountV2OrderHistoryService);
        this.PAGE_SIZE = 3;
        this.orders$ = this.service
            .getOrderHistoryList(this.PAGE_SIZE)
            .pipe(tap(() => this.isLoaded$.next(true)));
        this.isLoaded$ = new BehaviorSubject(false);
    }
    getProduct(order) {
        if (order.entries) {
            for (const entry of order.entries) {
                if (entry.product && entry.product.name && entry.product.images) {
                    return entry.product;
                }
            }
            return order.entries[0].product;
        }
    }
    ngOnDestroy() {
        this.isLoaded$.next(false);
        this.service.clearOrderList();
    }
}
MyAccountV2OrdersComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: MyAccountV2OrdersComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
MyAccountV2OrdersComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.9", type: MyAccountV2OrdersComponent, selector: "cx-my-account-v2-orders", ngImport: i0, template: "<div class=\"cx-my-account-view-header\">\n  <!-- HEADER -->\n  <div\n    class=\"cx-my-account-view-heading\"\n    [attr.aria-label]=\"'myAccountV2OrderHistory.orderListResults' | cxTranslate\"\n  >\n    {{ 'myAccountV2Orders.heading' | cxTranslate }}\n  </div>\n\n  <!-- SHOW MORE -->\n  <div class=\"cx-my-account-view-show-more\">\n    <a\n      id=\"show-more-orders\"\n      [attr.aria-label]=\"'myAccountV2Orders.showMore' | cxTranslate\"\n      class=\"btn-link cx-action-link\"\n      [routerLink]=\"\n        {\n          cxRoute: 'orders'\n        } | cxUrl\n      \"\n    >\n      {{ 'myAccountV2Orders.showMore' | cxTranslate }}\n    </a>\n  </div>\n</div>\n\n<div *ngIf=\"orders$ | async as orderHistory; else noOrder\">\n  <!-- BODY -->\n  <ng-container *ngIf=\"orderHistory.pagination.totalResults > 0; else noOrder\">\n    <div class=\"cx-my-account-view-body\">\n      <ng-container *ngFor=\"let order of orderHistory.orders\">\n        <div class=\"cx-my-account-view-order\">\n          <div class=\"cx-my-account-view-order-header\">\n            <div\n              class=\"cx-my-account-view-status\"\n              *ngIf=\"order.statusDisplay\"\n              [attr.aria-label]=\"\n                'myAccountV2Orders.orderStatusLabel' | cxTranslate\n              \"\n            >\n              {{\n                'orderDetails.statusDisplay_' + order.statusDisplay\n                  | cxTranslate\n              }}\n            </div>\n            <div\n              class=\"cx-my-account-view-code\"\n              [attr.aria-label]=\"\n                'myAccountV2OrderHistory.orderCodeLabel' | cxTranslate\n              \"\n            >\n              {{\n                'myAccountV2Orders.orderNumber'\n                  | cxTranslate: { value: order.code }\n              }}\n            </div>\n          </div>\n          <div class=\"cx-my-account-view-order-body\">\n            <ng-container *ngIf=\"getProduct(order) as product\">\n              <div class=\"cx-my-account-view-order-column-1\">\n                <div class=\"cx-my-account-view-order-column-1-image\">\n                  <cx-media\n                    [container]=\"product.images?.PRIMARY\"\n                    class=\"cx-my-account-view-order-img\"\n                    format=\"thumbnail\"\n                    role=\"presentation\"\n                  ></cx-media>\n                </div>\n                <div class=\"cx-my-account-view-order-column-1-details\">\n                  <div class=\"cx-my-account-view-order-column-1-details-top\">\n                    <div class=\"cx-my-account-view-product-name\">\n                      {{ product.name }}\n                      <span *ngIf=\"order.totalItems - 1 > 1\">\n                        +\n                        {{\n                          'myAccountV2Orders.items'\n                            | cxTranslate: { value: order.totalItems - 1 }\n                        }}\n                      </span>\n                      <span *ngIf=\"order.totalItems - 1 === 1\">\n                        +\n                        {{\n                          'myAccountV2Orders.item' | cxTranslate: { value: 1 }\n                        }}\n                      </span>\n                    </div>\n                    <div class=\"cx-my-account-view-purchased-on\">\n                      {{\n                        'myAccountV2Orders.purchasedOn'\n                          | cxTranslate\n                            : {\n                                value: order.placed | cxDate: 'd, MMMM, yyyy'\n                              }\n                      }}\n                    </div>\n                    <div class=\"cx-my-account-view-item-count\">\n                      {{\n                        'myAccountV2Orders.orderedItems'\n                          | cxTranslate: { value: order.totalItems }\n                      }}\n                    </div>\n                  </div>\n                  <div class=\"cx-my-account-view-order-column-1-details-bottom\">\n                    <div class=\"cx-my-account-view-total-price\">\n                      {{\n                        'myAccountV2Orders.totalPrice'\n                          | cxTranslate: { value: order.total?.formattedValue }\n                      }}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"cx-my-account-view-order-column-2\">\n                <!-- order details -->\n                <span>\n                  <a\n                    class=\"btn-link cx-action-link\"\n                    [attr.aria-label]=\"\n                      'myAccountV2Orders.orderDetailsLabel' | cxTranslate\n                    \"\n                    [routerLink]=\"\n                      {\n                        cxRoute: 'orderDetails',\n                        params: order\n                      } | cxUrl\n                    \"\n                  >\n                    {{ 'myAccountV2Orders.orderDetails' | cxTranslate }}\n                  </a>\n                </span>\n                <!-- return order -->\n                <span *ngIf=\"order.returnable\">\n                  {{ ' | '\n                  }}<a\n                    class=\"btn-link cx-action-link\"\n                    [routerLink]=\"\n                      {\n                        cxRoute: 'orderReturn',\n                        params: order\n                      } | cxUrl\n                    \"\n                  >\n                    {{ 'myAccountV2Orders.returnOrder' | cxTranslate }}\n                  </a>\n                </span>\n              </div>\n            </ng-container>\n          </div>\n        </div>\n      </ng-container>\n    </div>\n  </ng-container>\n</div>\n<!-- NO ORDER CONTAINER -->\n<ng-template #noOrder>\n  <div class=\"cx-my-account-no-order\" *ngIf=\"isLoaded$ | async; else loading\">\n    <div [attr.aria-label]=\"'orderHistory.notFound' | cxTranslate\">\n      {{ 'orderHistory.noOrders' | cxTranslate }}\n    </div>\n    <a\n      [routerLink]=\"{ cxRoute: 'home' } | cxUrl\"\n      routerLinkActive=\"active\"\n      class=\"cx-no-order\"\n      >{{ 'orderHistory.startShopping' | cxTranslate }}</a\n    >\n  </div>\n</ng-template>\n\n<!-- ORDER HISTORY DATA STILL LOADING -->\n<ng-template #loading>\n  <div class=\"cx-spinner\">\n    <cx-spinner></cx-spinner>\n  </div>\n</ng-template>\n", dependencies: [{ kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.RouterLink, selector: "[routerLink]", inputs: ["target", "queryParams", "fragment", "queryParamsHandling", "state", "relativeTo", "preserveFragment", "skipLocationChange", "replaceUrl", "routerLink"] }, { kind: "directive", type: i2.RouterLinkActive, selector: "[routerLinkActive]", inputs: ["routerLinkActiveOptions", "ariaCurrentWhenActive", "routerLinkActive"], outputs: ["isActiveChange"], exportAs: ["routerLinkActive"] }, { kind: "component", type: i3.SpinnerComponent, selector: "cx-spinner" }, { kind: "component", type: i3.MediaComponent, selector: "cx-media", inputs: ["container", "format", "alt", "role", "loading"], outputs: ["loaded"] }, { kind: "pipe", type: i1.AsyncPipe, name: "async" }, { kind: "pipe", type: i4.UrlPipe, name: "cxUrl" }, { kind: "pipe", type: i4.TranslatePipe, name: "cxTranslate" }, { kind: "pipe", type: i4.CxDatePipe, name: "cxDate" }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: MyAccountV2OrdersComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-my-account-v2-orders', template: "<div class=\"cx-my-account-view-header\">\n  <!-- HEADER -->\n  <div\n    class=\"cx-my-account-view-heading\"\n    [attr.aria-label]=\"'myAccountV2OrderHistory.orderListResults' | cxTranslate\"\n  >\n    {{ 'myAccountV2Orders.heading' | cxTranslate }}\n  </div>\n\n  <!-- SHOW MORE -->\n  <div class=\"cx-my-account-view-show-more\">\n    <a\n      id=\"show-more-orders\"\n      [attr.aria-label]=\"'myAccountV2Orders.showMore' | cxTranslate\"\n      class=\"btn-link cx-action-link\"\n      [routerLink]=\"\n        {\n          cxRoute: 'orders'\n        } | cxUrl\n      \"\n    >\n      {{ 'myAccountV2Orders.showMore' | cxTranslate }}\n    </a>\n  </div>\n</div>\n\n<div *ngIf=\"orders$ | async as orderHistory; else noOrder\">\n  <!-- BODY -->\n  <ng-container *ngIf=\"orderHistory.pagination.totalResults > 0; else noOrder\">\n    <div class=\"cx-my-account-view-body\">\n      <ng-container *ngFor=\"let order of orderHistory.orders\">\n        <div class=\"cx-my-account-view-order\">\n          <div class=\"cx-my-account-view-order-header\">\n            <div\n              class=\"cx-my-account-view-status\"\n              *ngIf=\"order.statusDisplay\"\n              [attr.aria-label]=\"\n                'myAccountV2Orders.orderStatusLabel' | cxTranslate\n              \"\n            >\n              {{\n                'orderDetails.statusDisplay_' + order.statusDisplay\n                  | cxTranslate\n              }}\n            </div>\n            <div\n              class=\"cx-my-account-view-code\"\n              [attr.aria-label]=\"\n                'myAccountV2OrderHistory.orderCodeLabel' | cxTranslate\n              \"\n            >\n              {{\n                'myAccountV2Orders.orderNumber'\n                  | cxTranslate: { value: order.code }\n              }}\n            </div>\n          </div>\n          <div class=\"cx-my-account-view-order-body\">\n            <ng-container *ngIf=\"getProduct(order) as product\">\n              <div class=\"cx-my-account-view-order-column-1\">\n                <div class=\"cx-my-account-view-order-column-1-image\">\n                  <cx-media\n                    [container]=\"product.images?.PRIMARY\"\n                    class=\"cx-my-account-view-order-img\"\n                    format=\"thumbnail\"\n                    role=\"presentation\"\n                  ></cx-media>\n                </div>\n                <div class=\"cx-my-account-view-order-column-1-details\">\n                  <div class=\"cx-my-account-view-order-column-1-details-top\">\n                    <div class=\"cx-my-account-view-product-name\">\n                      {{ product.name }}\n                      <span *ngIf=\"order.totalItems - 1 > 1\">\n                        +\n                        {{\n                          'myAccountV2Orders.items'\n                            | cxTranslate: { value: order.totalItems - 1 }\n                        }}\n                      </span>\n                      <span *ngIf=\"order.totalItems - 1 === 1\">\n                        +\n                        {{\n                          'myAccountV2Orders.item' | cxTranslate: { value: 1 }\n                        }}\n                      </span>\n                    </div>\n                    <div class=\"cx-my-account-view-purchased-on\">\n                      {{\n                        'myAccountV2Orders.purchasedOn'\n                          | cxTranslate\n                            : {\n                                value: order.placed | cxDate: 'd, MMMM, yyyy'\n                              }\n                      }}\n                    </div>\n                    <div class=\"cx-my-account-view-item-count\">\n                      {{\n                        'myAccountV2Orders.orderedItems'\n                          | cxTranslate: { value: order.totalItems }\n                      }}\n                    </div>\n                  </div>\n                  <div class=\"cx-my-account-view-order-column-1-details-bottom\">\n                    <div class=\"cx-my-account-view-total-price\">\n                      {{\n                        'myAccountV2Orders.totalPrice'\n                          | cxTranslate: { value: order.total?.formattedValue }\n                      }}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div class=\"cx-my-account-view-order-column-2\">\n                <!-- order details -->\n                <span>\n                  <a\n                    class=\"btn-link cx-action-link\"\n                    [attr.aria-label]=\"\n                      'myAccountV2Orders.orderDetailsLabel' | cxTranslate\n                    \"\n                    [routerLink]=\"\n                      {\n                        cxRoute: 'orderDetails',\n                        params: order\n                      } | cxUrl\n                    \"\n                  >\n                    {{ 'myAccountV2Orders.orderDetails' | cxTranslate }}\n                  </a>\n                </span>\n                <!-- return order -->\n                <span *ngIf=\"order.returnable\">\n                  {{ ' | '\n                  }}<a\n                    class=\"btn-link cx-action-link\"\n                    [routerLink]=\"\n                      {\n                        cxRoute: 'orderReturn',\n                        params: order\n                      } | cxUrl\n                    \"\n                  >\n                    {{ 'myAccountV2Orders.returnOrder' | cxTranslate }}\n                  </a>\n                </span>\n              </div>\n            </ng-container>\n          </div>\n        </div>\n      </ng-container>\n    </div>\n  </ng-container>\n</div>\n<!-- NO ORDER CONTAINER -->\n<ng-template #noOrder>\n  <div class=\"cx-my-account-no-order\" *ngIf=\"isLoaded$ | async; else loading\">\n    <div [attr.aria-label]=\"'orderHistory.notFound' | cxTranslate\">\n      {{ 'orderHistory.noOrders' | cxTranslate }}\n    </div>\n    <a\n      [routerLink]=\"{ cxRoute: 'home' } | cxUrl\"\n      routerLinkActive=\"active\"\n      class=\"cx-no-order\"\n      >{{ 'orderHistory.startShopping' | cxTranslate }}</a\n    >\n  </div>\n</ng-template>\n\n<!-- ORDER HISTORY DATA STILL LOADING -->\n<ng-template #loading>\n  <div class=\"cx-spinner\">\n    <cx-spinner></cx-spinner>\n  </div>\n</ng-template>\n" }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibXktYWNjb3VudC12Mi1vcmRlcnMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL29yZGVyL2NvbXBvbmVudHMvbXktYWNjb3VudC12Mi9teS1hY2NvdW50LXYyLW9yZGVycy5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi9mZWF0dXJlLWxpYnMvb3JkZXIvY29tcG9uZW50cy9teS1hY2NvdW50LXYyL215LWFjY291bnQtdjItb3JkZXJzLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFFSCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBYSxNQUFNLGVBQWUsQ0FBQztBQUU3RCxPQUFPLEVBQUUsOEJBQThCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUV2RSxPQUFPLEVBQUUsZUFBZSxFQUFjLE1BQU0sTUFBTSxDQUFDO0FBQ25ELE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7Ozs7O0FBTXJDLE1BQU0sT0FBTywwQkFBMEI7SUFKdkM7UUFLWSxZQUFPLEdBQUcsTUFBTSxDQUFDLDhCQUE4QixDQUFDLENBQUM7UUFDakQsY0FBUyxHQUFHLENBQUMsQ0FBQztRQUN4QixZQUFPLEdBQWlELElBQUksQ0FBQyxPQUFPO2FBQ2pFLG1CQUFtQixDQUFDLElBQUksQ0FBQyxTQUFTLENBQUM7YUFDbkMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUMsY0FBUyxHQUFHLElBQUksZUFBZSxDQUFVLEtBQUssQ0FBQyxDQUFDO0tBZWpEO0lBZEMsVUFBVSxDQUFDLEtBQVk7UUFDckIsSUFBSSxLQUFLLENBQUMsT0FBTyxFQUFFO1lBQ2pCLEtBQUssTUFBTSxLQUFLLElBQUksS0FBSyxDQUFDLE9BQU8sRUFBRTtnQkFDakMsSUFBSSxLQUFLLENBQUMsT0FBTyxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsSUFBSSxJQUFJLEtBQUssQ0FBQyxPQUFPLENBQUMsTUFBTSxFQUFFO29CQUMvRCxPQUFPLEtBQUssQ0FBQyxPQUFPLENBQUM7aUJBQ3RCO2FBQ0Y7WUFDRCxPQUFPLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDO1NBQ2pDO0lBQ0gsQ0FBQztJQUNELFdBQVc7UUFDVCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsT0FBTyxDQUFDLGNBQWMsRUFBRSxDQUFDO0lBQ2hDLENBQUM7O3VIQXBCVSwwQkFBMEI7MkdBQTFCLDBCQUEwQiwrRENqQnZDLDB5TUE4S0E7MkZEN0phLDBCQUEwQjtrQkFKdEMsU0FBUzsrQkFDRSx5QkFBeUIiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICogU1BEWC1GaWxlQ29weXJpZ2h0VGV4dDogMjAyMyBTQVAgU3BhcnRhY3VzIHRlYW0gPHNwYXJ0YWN1cy10ZWFtQHNhcC5jb20+XG4gKlxuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIGluamVjdCwgT25EZXN0cm95IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBQcm9kdWN0IH0gZnJvbSAnQHNwYXJ0YWN1cy9jb3JlJztcbmltcG9ydCB7IE15QWNjb3VudFYyT3JkZXJIaXN0b3J5U2VydmljZSB9IGZyb20gJ0BzcGFydGFjdXMvb3JkZXIvY29yZSc7XG5pbXBvcnQgeyBPcmRlciwgT3JkZXJIaXN0b3J5TGlzdFZpZXcgfSBmcm9tICdAc3BhcnRhY3VzL29yZGVyL3Jvb3QnO1xuaW1wb3J0IHsgQmVoYXZpb3JTdWJqZWN0LCBPYnNlcnZhYmxlIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2N4LW15LWFjY291bnQtdjItb3JkZXJzJyxcbiAgdGVtcGxhdGVVcmw6ICcuL215LWFjY291bnQtdjItb3JkZXJzLmNvbXBvbmVudC5odG1sJyxcbn0pXG5leHBvcnQgY2xhc3MgTXlBY2NvdW50VjJPcmRlcnNDb21wb25lbnQgaW1wbGVtZW50cyBPbkRlc3Ryb3kge1xuICBwcm90ZWN0ZWQgc2VydmljZSA9IGluamVjdChNeUFjY291bnRWMk9yZGVySGlzdG9yeVNlcnZpY2UpO1xuICBwcm90ZWN0ZWQgUEFHRV9TSVpFID0gMztcbiAgb3JkZXJzJDogT2JzZXJ2YWJsZTxPcmRlckhpc3RvcnlMaXN0VmlldyB8IHVuZGVmaW5lZD4gPSB0aGlzLnNlcnZpY2VcbiAgICAuZ2V0T3JkZXJIaXN0b3J5TGlzdCh0aGlzLlBBR0VfU0laRSlcbiAgICAucGlwZSh0YXAoKCkgPT4gdGhpcy5pc0xvYWRlZCQubmV4dCh0cnVlKSkpO1xuICBpc0xvYWRlZCQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0PGJvb2xlYW4+KGZhbHNlKTtcbiAgZ2V0UHJvZHVjdChvcmRlcjogT3JkZXIpOiBQcm9kdWN0IHwgdW5kZWZpbmVkIHtcbiAgICBpZiAob3JkZXIuZW50cmllcykge1xuICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBvcmRlci5lbnRyaWVzKSB7XG4gICAgICAgIGlmIChlbnRyeS5wcm9kdWN0ICYmIGVudHJ5LnByb2R1Y3QubmFtZSAmJiBlbnRyeS5wcm9kdWN0LmltYWdlcykge1xuICAgICAgICAgIHJldHVybiBlbnRyeS5wcm9kdWN0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gb3JkZXIuZW50cmllc1swXS5wcm9kdWN0O1xuICAgIH1cbiAgfVxuICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICB0aGlzLmlzTG9hZGVkJC5uZXh0KGZhbHNlKTtcbiAgICB0aGlzLnNlcnZpY2UuY2xlYXJPcmRlckxpc3QoKTtcbiAgfVxufVxuIiwiPGRpdiBjbGFzcz1cImN4LW15LWFjY291bnQtdmlldy1oZWFkZXJcIj5cbiAgPCEtLSBIRUFERVIgLS0+XG4gIDxkaXZcbiAgICBjbGFzcz1cImN4LW15LWFjY291bnQtdmlldy1oZWFkaW5nXCJcbiAgICBbYXR0ci5hcmlhLWxhYmVsXT1cIidteUFjY291bnRWMk9yZGVySGlzdG9yeS5vcmRlckxpc3RSZXN1bHRzJyB8IGN4VHJhbnNsYXRlXCJcbiAgPlxuICAgIHt7ICdteUFjY291bnRWMk9yZGVycy5oZWFkaW5nJyB8IGN4VHJhbnNsYXRlIH19XG4gIDwvZGl2PlxuXG4gIDwhLS0gU0hPVyBNT1JFIC0tPlxuICA8ZGl2IGNsYXNzPVwiY3gtbXktYWNjb3VudC12aWV3LXNob3ctbW9yZVwiPlxuICAgIDxhXG4gICAgICBpZD1cInNob3ctbW9yZS1vcmRlcnNcIlxuICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCInbXlBY2NvdW50VjJPcmRlcnMuc2hvd01vcmUnIHwgY3hUcmFuc2xhdGVcIlxuICAgICAgY2xhc3M9XCJidG4tbGluayBjeC1hY3Rpb24tbGlua1wiXG4gICAgICBbcm91dGVyTGlua109XCJcbiAgICAgICAge1xuICAgICAgICAgIGN4Um91dGU6ICdvcmRlcnMnXG4gICAgICAgIH0gfCBjeFVybFxuICAgICAgXCJcbiAgICA+XG4gICAgICB7eyAnbXlBY2NvdW50VjJPcmRlcnMuc2hvd01vcmUnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICA8L2E+XG4gIDwvZGl2PlxuPC9kaXY+XG5cbjxkaXYgKm5nSWY9XCJvcmRlcnMkIHwgYXN5bmMgYXMgb3JkZXJIaXN0b3J5OyBlbHNlIG5vT3JkZXJcIj5cbiAgPCEtLSBCT0RZIC0tPlxuICA8bmctY29udGFpbmVyICpuZ0lmPVwib3JkZXJIaXN0b3J5LnBhZ2luYXRpb24udG90YWxSZXN1bHRzID4gMDsgZWxzZSBub09yZGVyXCI+XG4gICAgPGRpdiBjbGFzcz1cImN4LW15LWFjY291bnQtdmlldy1ib2R5XCI+XG4gICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBvcmRlciBvZiBvcmRlckhpc3Rvcnkub3JkZXJzXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjeC1teS1hY2NvdW50LXZpZXctb3JkZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtbXktYWNjb3VudC12aWV3LW9yZGVyLWhlYWRlclwiPlxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzcz1cImN4LW15LWFjY291bnQtdmlldy1zdGF0dXNcIlxuICAgICAgICAgICAgICAqbmdJZj1cIm9yZGVyLnN0YXR1c0Rpc3BsYXlcIlxuICAgICAgICAgICAgICBbYXR0ci5hcmlhLWxhYmVsXT1cIlxuICAgICAgICAgICAgICAgICdteUFjY291bnRWMk9yZGVycy5vcmRlclN0YXR1c0xhYmVsJyB8IGN4VHJhbnNsYXRlXG4gICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt7XG4gICAgICAgICAgICAgICAgJ29yZGVyRGV0YWlscy5zdGF0dXNEaXNwbGF5XycgKyBvcmRlci5zdGF0dXNEaXNwbGF5XG4gICAgICAgICAgICAgICAgICB8IGN4VHJhbnNsYXRlXG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgY2xhc3M9XCJjeC1teS1hY2NvdW50LXZpZXctY29kZVwiXG4gICAgICAgICAgICAgIFthdHRyLmFyaWEtbGFiZWxdPVwiXG4gICAgICAgICAgICAgICAgJ215QWNjb3VudFYyT3JkZXJIaXN0b3J5Lm9yZGVyQ29kZUxhYmVsJyB8IGN4VHJhbnNsYXRlXG4gICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHt7XG4gICAgICAgICAgICAgICAgJ215QWNjb3VudFYyT3JkZXJzLm9yZGVyTnVtYmVyJ1xuICAgICAgICAgICAgICAgICAgfCBjeFRyYW5zbGF0ZTogeyB2YWx1ZTogb3JkZXIuY29kZSB9XG4gICAgICAgICAgICAgIH19XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtbXktYWNjb3VudC12aWV3LW9yZGVyLWJvZHlcIj5cbiAgICAgICAgICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJnZXRQcm9kdWN0KG9yZGVyKSBhcyBwcm9kdWN0XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeC1teS1hY2NvdW50LXZpZXctb3JkZXItY29sdW1uLTFcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtbXktYWNjb3VudC12aWV3LW9yZGVyLWNvbHVtbi0xLWltYWdlXCI+XG4gICAgICAgICAgICAgICAgICA8Y3gtbWVkaWFcbiAgICAgICAgICAgICAgICAgICAgW2NvbnRhaW5lcl09XCJwcm9kdWN0LmltYWdlcz8uUFJJTUFSWVwiXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiY3gtbXktYWNjb3VudC12aWV3LW9yZGVyLWltZ1wiXG4gICAgICAgICAgICAgICAgICAgIGZvcm1hdD1cInRodW1ibmFpbFwiXG4gICAgICAgICAgICAgICAgICAgIHJvbGU9XCJwcmVzZW50YXRpb25cIlxuICAgICAgICAgICAgICAgICAgPjwvY3gtbWVkaWE+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImN4LW15LWFjY291bnQtdmlldy1vcmRlci1jb2x1bW4tMS1kZXRhaWxzXCI+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtbXktYWNjb3VudC12aWV3LW9yZGVyLWNvbHVtbi0xLWRldGFpbHMtdG9wXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeC1teS1hY2NvdW50LXZpZXctcHJvZHVjdC1uYW1lXCI+XG4gICAgICAgICAgICAgICAgICAgICAge3sgcHJvZHVjdC5uYW1lIH19XG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJvcmRlci50b3RhbEl0ZW1zIC0gMSA+IDFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICtcbiAgICAgICAgICAgICAgICAgICAgICAgIHt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICdteUFjY291bnRWMk9yZGVycy5pdGVtcydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB8IGN4VHJhbnNsYXRlOiB7IHZhbHVlOiBvcmRlci50b3RhbEl0ZW1zIC0gMSB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiAqbmdJZj1cIm9yZGVyLnRvdGFsSXRlbXMgLSAxID09PSAxXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICArXG4gICAgICAgICAgICAgICAgICAgICAgICB7e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnbXlBY2NvdW50VjJPcmRlcnMuaXRlbScgfCBjeFRyYW5zbGF0ZTogeyB2YWx1ZTogMSB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeC1teS1hY2NvdW50LXZpZXctcHVyY2hhc2VkLW9uXCI+XG4gICAgICAgICAgICAgICAgICAgICAge3tcbiAgICAgICAgICAgICAgICAgICAgICAgICdteUFjY291bnRWMk9yZGVycy5wdXJjaGFzZWRPbidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfCBjeFRyYW5zbGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogb3JkZXIucGxhY2VkIHwgY3hEYXRlOiAnZCwgTU1NTSwgeXl5eSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImN4LW15LWFjY291bnQtdmlldy1pdGVtLWNvdW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAge3tcbiAgICAgICAgICAgICAgICAgICAgICAgICdteUFjY291bnRWMk9yZGVycy5vcmRlcmVkSXRlbXMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHwgY3hUcmFuc2xhdGU6IHsgdmFsdWU6IG9yZGVyLnRvdGFsSXRlbXMgfVxuICAgICAgICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY3gtbXktYWNjb3VudC12aWV3LW9yZGVyLWNvbHVtbi0xLWRldGFpbHMtYm90dG9tXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeC1teS1hY2NvdW50LXZpZXctdG90YWwtcHJpY2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICB7e1xuICAgICAgICAgICAgICAgICAgICAgICAgJ215QWNjb3VudFYyT3JkZXJzLnRvdGFsUHJpY2UnXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHwgY3hUcmFuc2xhdGU6IHsgdmFsdWU6IG9yZGVyLnRvdGFsPy5mb3JtYXR0ZWRWYWx1ZSB9XG4gICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjeC1teS1hY2NvdW50LXZpZXctb3JkZXItY29sdW1uLTJcIj5cbiAgICAgICAgICAgICAgICA8IS0tIG9yZGVyIGRldGFpbHMgLS0+XG4gICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICA8YVxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0bi1saW5rIGN4LWFjdGlvbi1saW5rXCJcbiAgICAgICAgICAgICAgICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCJcbiAgICAgICAgICAgICAgICAgICAgICAnbXlBY2NvdW50VjJPcmRlcnMub3JkZXJEZXRhaWxzTGFiZWwnIHwgY3hUcmFuc2xhdGVcbiAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgICAgW3JvdXRlckxpbmtdPVwiXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3hSb3V0ZTogJ29yZGVyRGV0YWlscycsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IG9yZGVyXG4gICAgICAgICAgICAgICAgICAgICAgfSB8IGN4VXJsXG4gICAgICAgICAgICAgICAgICAgIFwiXG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIHt7ICdteUFjY291bnRWMk9yZGVycy5vcmRlckRldGFpbHMnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgPCEtLSByZXR1cm4gb3JkZXIgLS0+XG4gICAgICAgICAgICAgICAgPHNwYW4gKm5nSWY9XCJvcmRlci5yZXR1cm5hYmxlXCI+XG4gICAgICAgICAgICAgICAgICB7eyAnIHwgJ1xuICAgICAgICAgICAgICAgICAgfX08YVxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ0bi1saW5rIGN4LWFjdGlvbi1saW5rXCJcbiAgICAgICAgICAgICAgICAgICAgW3JvdXRlckxpbmtdPVwiXG4gICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3hSb3V0ZTogJ29yZGVyUmV0dXJuJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogb3JkZXJcbiAgICAgICAgICAgICAgICAgICAgICB9IHwgY3hVcmxcbiAgICAgICAgICAgICAgICAgICAgXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAge3sgJ215QWNjb3VudFYyT3JkZXJzLnJldHVybk9yZGVyJyB8IGN4VHJhbnNsYXRlIH19XG4gICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvbmctY29udGFpbmVyPlxuICAgIDwvZGl2PlxuICA8L25nLWNvbnRhaW5lcj5cbjwvZGl2PlxuPCEtLSBOTyBPUkRFUiBDT05UQUlORVIgLS0+XG48bmctdGVtcGxhdGUgI25vT3JkZXI+XG4gIDxkaXYgY2xhc3M9XCJjeC1teS1hY2NvdW50LW5vLW9yZGVyXCIgKm5nSWY9XCJpc0xvYWRlZCQgfCBhc3luYzsgZWxzZSBsb2FkaW5nXCI+XG4gICAgPGRpdiBbYXR0ci5hcmlhLWxhYmVsXT1cIidvcmRlckhpc3Rvcnkubm90Rm91bmQnIHwgY3hUcmFuc2xhdGVcIj5cbiAgICAgIHt7ICdvcmRlckhpc3Rvcnkubm9PcmRlcnMnIHwgY3hUcmFuc2xhdGUgfX1cbiAgICA8L2Rpdj5cbiAgICA8YVxuICAgICAgW3JvdXRlckxpbmtdPVwieyBjeFJvdXRlOiAnaG9tZScgfSB8IGN4VXJsXCJcbiAgICAgIHJvdXRlckxpbmtBY3RpdmU9XCJhY3RpdmVcIlxuICAgICAgY2xhc3M9XCJjeC1uby1vcmRlclwiXG4gICAgICA+e3sgJ29yZGVySGlzdG9yeS5zdGFydFNob3BwaW5nJyB8IGN4VHJhbnNsYXRlIH19PC9hXG4gICAgPlxuICA8L2Rpdj5cbjwvbmctdGVtcGxhdGU+XG5cbjwhLS0gT1JERVIgSElTVE9SWSBEQVRBIFNUSUxMIExPQURJTkcgLS0+XG48bmctdGVtcGxhdGUgI2xvYWRpbmc+XG4gIDxkaXYgY2xhc3M9XCJjeC1zcGlubmVyXCI+XG4gICAgPGN4LXNwaW5uZXI+PC9jeC1zcGlubmVyPlxuICA8L2Rpdj5cbjwvbmctdGVtcGxhdGU+XG4iXX0=