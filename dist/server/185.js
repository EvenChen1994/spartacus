"use strict";var __defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0});exports.id=185,exports.ids=[185],exports.modules={86185:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{QualtricsModule:()=>QualtricsModule});var core=__webpack_require__(40305),common=__webpack_require__(89318),spartacus_core=__webpack_require__(46167),Subscription=__webpack_require__(31765),fromEvent=__webpack_require__(24189),empty=__webpack_require__(14614),of=__webpack_require__(95202),switchMap=__webpack_require__(63714),map=__webpack_require__(86466),filter=__webpack_require__(2026),tap=__webpack_require__(85171);class QualtricsEmbeddedFeedbackComponent{}__name(QualtricsEmbeddedFeedbackComponent,"QualtricsEmbeddedFeedbackComponent"),QualtricsEmbeddedFeedbackComponent.\u0275fac=__name(function(t){return new(t||QualtricsEmbeddedFeedbackComponent)},"QualtricsEmbeddedFeedbackComponent_Factory"),QualtricsEmbeddedFeedbackComponent.\u0275cmp=core.Xpm({type:QualtricsEmbeddedFeedbackComponent,selectors:[["cx-qualtrics-embedded-feedback"]],decls:0,vars:0,template:__name(function(rf,ctx){},"QualtricsEmbeddedFeedbackComponent_Template"),encapsulation:2});class QualtricsLoaderService{get window(){return this.winRef.nativeWindow}constructor(winRef,platformId,scriptLoader){this.winRef=winRef,this.platformId=platformId,this.scriptLoader=scriptLoader,this.subscription=new Subscription.w,this.logger=(0,core.f3M)(spartacus_core.mQy),this.qsiLoaded$=(0,common.NF)(this.platformId)&&this.window?(0,fromEvent.R)(this.window,"qsi_js_loaded"):empty.E,this.qsi$=this.qsiLoaded$.pipe((0,switchMap.w)(()=>this.isDataLoaded()),(0,map.U)(dataLoaded=>dataLoaded?this.window?.QSI:empty.E),(0,filter.h)(qsi=>Boolean(qsi)),(0,tap.b)(qsi=>this.qsiApi=qsi)),this.initialize()}addScript(scriptSource){this.hasScript(scriptSource)?this.run(!0):this.scriptLoader.embedScript({src:scriptSource})}hasScript(source){return!!this.winRef.document.querySelector(`script[src="${source}"]`)}initialize(){this.subscription.add(this.qsi$.subscribe(()=>this.run()))}run(reload=!1){this.qsiApi?.API?(reload&&this.qsiApi.API.unload(),this.qsiApi.API.load().done(this.qsiApi.API.run())):(0,core.X6Q)()&&this.logger.log("The QSI api is not available")}isDataLoaded(){return(0,of.of)(!0)}ngOnDestroy(){this.subscription?.unsubscribe()}}__name(QualtricsLoaderService,"QualtricsLoaderService"),QualtricsLoaderService.\u0275fac=__name(function(t){return new(t||QualtricsLoaderService)(core.LFG(spartacus_core.X9E),core.LFG(core.Lbi),core.LFG(spartacus_core.Wrh))},"QualtricsLoaderService_Factory"),QualtricsLoaderService.\u0275prov=core.Yz7({token:QualtricsLoaderService,factory:QualtricsLoaderService.\u0275fac,providedIn:"root"});class QualtricsConfig{}__name(QualtricsConfig,"QualtricsConfig"),QualtricsConfig.\u0275fac=__name(function(t){return new(t||QualtricsConfig)},"QualtricsConfig_Factory"),QualtricsConfig.\u0275prov=core.Yz7({token:QualtricsConfig,factory:__name(function(t){let r=null;return r=t?new(t||QualtricsConfig):core.LFG(spartacus_core.DeH),r},"QualtricsConfig_Factory"),providedIn:"root"});class QualtricsComponent{constructor(qualtricsLoader,config){this.qualtricsLoader=qualtricsLoader,this.config=config,this.logger=(0,core.f3M)(spartacus_core.mQy),this.config.qualtrics?.scriptSource?this.qualtricsLoader.addScript(this.config.qualtrics.scriptSource):(0,core.X6Q)()&&this.logger.warn("We're unable to add the Qualtrics deployment code as there is no script source defined in config.qualtrics.scriptSource.")}}__name(QualtricsComponent,"QualtricsComponent"),QualtricsComponent.\u0275fac=__name(function(t){return new(t||QualtricsComponent)(core.Y36(QualtricsLoaderService),core.Y36(QualtricsConfig))},"QualtricsComponent_Factory"),QualtricsComponent.\u0275cmp=core.Xpm({type:QualtricsComponent,selectors:[["cx-qualtrics"]],decls:0,vars:0,template:__name(function(rf,ctx){},"QualtricsComponent_Template"),encapsulation:2});class QualtricsComponentsModule{}__name(QualtricsComponentsModule,"QualtricsComponentsModule"),QualtricsComponentsModule.\u0275fac=__name(function(t){return new(t||QualtricsComponentsModule)},"QualtricsComponentsModule_Factory"),QualtricsComponentsModule.\u0275mod=core.oAB({type:QualtricsComponentsModule}),QualtricsComponentsModule.\u0275inj=core.cJS({providers:[(0,spartacus_core.i51)({cmsComponents:{QualtricsEmbeddedFeedbackComponent:{component:QualtricsEmbeddedFeedbackComponent},QualtricsComponent:{component:QualtricsComponent}}}),(0,spartacus_core.i51)({qualtrics:{}})],imports:[common.ez]});class QualtricsModule{}__name(QualtricsModule,"QualtricsModule"),QualtricsModule.\u0275fac=__name(function(t){return new(t||QualtricsModule)},"QualtricsModule_Factory"),QualtricsModule.\u0275mod=core.oAB({type:QualtricsModule}),QualtricsModule.\u0275inj=core.cJS({imports:[QualtricsComponentsModule]})}};