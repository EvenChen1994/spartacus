{"version":3,"file":"spartacus-asm-components.mjs","sources":["../../../feature-libs/asm/components/asm-bind-cart-dialog/asm-bind-cart-dialog.component.ts","../../../feature-libs/asm/components/asm-bind-cart-dialog/asm-bind-cart-dialog.component.html","../../../feature-libs/asm/components/asm-save-cart-dialog/asm-save-cart-dialog.component.ts","../../../feature-libs/asm/components/asm-save-cart-dialog/asm-save-cart-dialog.component.html","../../../feature-libs/asm/components/services/asm-component.service.ts","../../../feature-libs/asm/components/dot-spinner/dot-spinner.component.ts","../../../feature-libs/asm/components/dot-spinner/dot-spinner.component.html","../../../feature-libs/asm/components/asm-bind-cart/asm-bind-cart.component.ts","../../../feature-libs/asm/components/asm-bind-cart/asm-bind-cart.component.html","../../../feature-libs/asm/components/asm-create-customer-form/asm-create-customer-form.component.ts","../../../feature-libs/asm/components/asm-create-customer-form/asm-create-customer-form.component.html","../../../feature-libs/asm/components/asm-create-customer-form/default-asm-create-customer-form-layout.config.ts","../../../feature-libs/asm/components/csagent-login-form/csagent-login-form.component.ts","../../../feature-libs/asm/components/csagent-login-form/csagent-login-form.component.html","../../../feature-libs/asm/components/customer-selection/customer-selection.component.ts","../../../feature-libs/asm/components/customer-selection/customer-selection.component.html","../../../feature-libs/asm/components/asm-session-timer/format-timer.pipe.ts","../../../feature-libs/asm/components/asm-session-timer/asm-session-timer.component.ts","../../../feature-libs/asm/components/asm-session-timer/asm-session-timer.component.html","../../../feature-libs/asm/components/customer-emulation/customer-emulation.component.ts","../../../feature-libs/asm/components/customer-emulation/customer-emulation.component.html","../../../feature-libs/asm/components/asm-toggle-ui/asm-toggle-ui.component.ts","../../../feature-libs/asm/components/asm-toggle-ui/asm-toggle-ui.component.html","../../../feature-libs/asm/components/asm-main-ui/asm-main-ui.component.ts","../../../feature-libs/asm/components/asm-main-ui/asm-main-ui.component.html","../../../feature-libs/asm/components/services/index.ts","../../../feature-libs/asm/components/asm-switch-customer-dialog/asm-switch-customer-dialog.component.ts","../../../feature-libs/asm/components/asm-switch-customer-dialog/asm-switch-customer-dialog.component.html","../../../feature-libs/asm/components/customer-list/customer-list.component.ts","../../../feature-libs/asm/components/customer-list/customer-list.component.html","../../../feature-libs/asm/components/customer-list/default-customer-list-layout.config.ts","../../../feature-libs/asm/components/default-asm-layout.config.ts","../../../feature-libs/asm/components/default-asm-pagination.config.ts","../../../feature-libs/asm/components/default-bind-cart-layout.config.ts","../../../feature-libs/asm/components/default-save-cart-layout.config.ts","../../../feature-libs/asm/components/default-switch-customer-layout.config.ts","../../../feature-libs/asm/components/asm-components.module.ts","../../../feature-libs/asm/components/public_api.ts","../../../feature-libs/asm/components/spartacus-asm-components.ts"],"sourcesContent":["/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Component } from '@angular/core';\nimport { FocusConfig, LaunchDialogService } from '@spartacus/storefront';\n\nexport enum BIND_CART_DIALOG_ACTION {\n  CANCEL = 'CANCEL',\n  REPLACE = 'REPLACE',\n}\n\n@Component({\n  selector: 'cx-asm-bind-cart-dialog',\n  templateUrl: './asm-bind-cart-dialog.component.html',\n})\nexport class AsmBindCartDialogComponent {\n  BIND_CART_ACTION = BIND_CART_DIALOG_ACTION;\n\n  focusConfig: FocusConfig = {\n    trap: true,\n    block: true,\n    autofocus: true,\n    focusOnEscape: true,\n  };\n\n  constructor(protected launchDialogService: LaunchDialogService) {}\n\n  closeModal(reason: BIND_CART_DIALOG_ACTION): void {\n    this.launchDialogService.closeDialog(reason);\n  }\n}\n","<div\n  class=\"cx-asm-bind-cart-dialog cx-modal-container cx-asm-dialog\"\n  [cxFocus]=\"focusConfig\"\n  (esc)=\"closeModal(BIND_CART_ACTION.CANCEL)\"\n>\n  <div class=\"cx-modal-content\">\n    <!-- Modal Header -->\n    <div class=\"cx-dialog-header modal-header\">\n      <h2 id=\"asm-bind-cart-dialog-title\" class=\"title modal-title\">\n        {{ 'asm.bindCart.dialog.title' | cxTranslate }}\n      </h2>\n    </div>\n\n    <!-- Modal Body -->\n    <div class=\"cx-dialog-body modal-body\">\n      <div class=\"cx-dialog-row\">\n        <div class=\"cx-dialog-item\">\n          {{ 'asm.bindCart.dialog.body' | cxTranslate }}\n        </div>\n      </div>\n    </div>\n\n    <!-- Modal Footer -->\n    <div class=\"cx-dialog-footer modal-footer\">\n      <button\n        (click)=\"closeModal(BIND_CART_ACTION.REPLACE)\"\n        [attr.aria-label]=\"'asm.bindCart.dialog.actions.replace' | cxTranslate\"\n        class=\"btn btn-primary\"\n        type=\"button\"\n      >\n        {{ 'asm.bindCart.dialog.actions.replace' | cxTranslate }}\n      </button>\n\n      <button\n        (click)=\"closeModal(BIND_CART_ACTION.CANCEL)\"\n        [attr.aria-label]=\"'common.cancel' | cxTranslate\"\n        class=\"btn btn-secondary\"\n        type=\"button\"\n      >\n        {{ 'common.cancel' | cxTranslate }}\n      </button>\n    </div>\n  </div>\n</div>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Component, OnInit } from '@angular/core';\nimport { Cart } from '@spartacus/cart/base/root';\nimport { SavedCartFacade } from '@spartacus/cart/saved-cart/root';\nimport { GlobalMessageType } from '@spartacus/core';\nimport { FocusConfig, LaunchDialogService } from '@spartacus/storefront';\nimport { BehaviorSubject } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\nexport enum SAVE_CART_DIALOG_ACTION {\n  CANCEL = 'CANCEL',\n  SAVE = 'SAVE',\n}\n\n@Component({\n  selector: 'cx-asm-save-cart-dialog',\n  templateUrl: './asm-save-cart-dialog.component.html',\n})\nexport class AsmSaveCartDialogComponent implements OnInit {\n  BIND_CART_ACTION = SAVE_CART_DIALOG_ACTION;\n  showDialogAlert$: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  globalMessageType = GlobalMessageType;\n  cart: Cart;\n  cartQty: number;\n\n  focusConfig: FocusConfig = {\n    trap: true,\n    block: true,\n    autofocus: true,\n    focusOnEscape: true,\n  };\n\n  constructor(\n    protected launchDialogService: LaunchDialogService,\n    protected savedCartFacade: SavedCartFacade\n  ) {}\n\n  ngOnInit(): void {\n    this.launchDialogService.data$.pipe(take(1)).subscribe((data: Cart) => {\n      this.cart = data;\n      this.setCartTotalQty();\n    });\n  }\n\n  setCartTotalQty(): void {\n    let count = 0;\n    if (this.cart.entries) {\n      for (const entry of this.cart.entries) {\n        count += entry.quantity ? entry.quantity : 0;\n      }\n    }\n    this.cartQty = count;\n  }\n\n  closeDialogAlert(): void {\n    this.showDialogAlert$.next(false);\n  }\n\n  closeModal(reason: SAVE_CART_DIALOG_ACTION): void {\n    if (reason === SAVE_CART_DIALOG_ACTION.SAVE) {\n      this.saveCart();\n    }\n    this.launchDialogService.closeDialog(reason);\n  }\n\n  protected saveCart(): void {\n    this.savedCartFacade.saveCart({\n      cartId: this.cart.code as string,\n      saveCartName: this.cart.code as string,\n      saveCartDescription: '-',\n    });\n  }\n}\n","<div\n  class=\"cx-asm-save-cart-dialog cx-modal-container cx-asm-dialog\"\n  [cxFocus]=\"focusConfig\"\n  (esc)=\"closeModal(BIND_CART_ACTION.CANCEL)\"\n>\n  <div class=\"cx-modal-content\">\n    <!-- Modal Header -->\n    <div class=\"cx-dialog-header modal-header\">\n      <h2 id=\"asm-save-cart-dialog-title\" class=\"title modal-title\">\n        {{ 'asm.saveCart.dialog.title' | cxTranslate }}\n      </h2>\n    </div>\n\n    <!-- Modal Body -->\n    <div class=\"cx-dialog-body modal-body\">\n      <ng-container *ngIf=\"cartQty > 0; else showSaveCartWarning\">\n        <div class=\"message-container\">\n          <cx-message\n            *ngIf=\"showDialogAlert$ | async\"\n            [text]=\"'asm.saveCart.dialog.saveInfo' | cxTranslate\"\n            [type]=\"globalMessageType.MSG_TYPE_INFO\"\n            (closeMessage)=\"closeDialogAlert()\"\n          >\n          </cx-message>\n        </div>\n      </ng-container>\n      <ng-template #showSaveCartWarning>\n        <div class=\"message-container\">\n          <cx-message\n            *ngIf=\"showDialogAlert$ | async\"\n            [text]=\"'asm.saveCart.dialog.disableInfo' | cxTranslate\"\n            [type]=\"globalMessageType.MSG_TYPE_WARNING\"\n            (closeMessage)=\"closeDialogAlert()\"\n          >\n          </cx-message>\n        </div>\n      </ng-template>\n\n      <div class=\"cx-dialog-content\">\n        <div class=\"cx-dialog-row row\">\n          <div\n            class=\"cx-dialog-item col-sm-6 col-md-6 text-right item-left-text\"\n          >\n            {{ 'asm.saveCart.dialog.row.id' | cxTranslate }}\n          </div>\n          <div\n            class=\"cx-dialog-item col-sm-6 col-md-6 text-left item-right-text\"\n          >\n            {{ cart.code }}\n          </div>\n        </div>\n        <div class=\"cx-dialog-row row\">\n          <div\n            class=\"cx-dialog-item col-sm-6 col-md-6 text-right item-left-text\"\n          >\n            {{ 'asm.saveCart.dialog.row.qty' | cxTranslate }}\n          </div>\n          <div\n            class=\"cx-dialog-item col-sm-6 col-md-6 text-left item-right-text\"\n          >\n            {{ cartQty }}\n          </div>\n        </div>\n        <div class=\"cx-dialog-row row\">\n          <div\n            class=\"cx-dialog-item col-sm-6 col-md-6 text-right item-left-text\"\n          >\n            {{ 'asm.saveCart.dialog.row.total' | cxTranslate }}\n          </div>\n          <div\n            class=\"cx-dialog-item col-sm-6 col-md-6 text-left item-right-text\"\n          >\n            {{ cart.totalPriceWithTax?.formattedValue }}\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Modal Footer -->\n    <div class=\"cx-dialog-footer modal-footer\">\n      <button\n        id=\"asm-save-cart-dialog-btn\"\n        (click)=\"closeModal(BIND_CART_ACTION.SAVE)\"\n        [attr.aria-label]=\"'asm.saveCart.dialog.actions.save' | cxTranslate\"\n        class=\"btn btn-primary\"\n        type=\"button\"\n        [disabled]=\"this.cartQty === 0\"\n      >\n        {{ 'asm.saveCart.dialog.actions.save' | cxTranslate }}\n      </button>\n\n      <button\n        (click)=\"closeModal(BIND_CART_ACTION.CANCEL)\"\n        [attr.aria-label]=\"'common.cancel' | cxTranslate\"\n        class=\"btn btn-secondary\"\n        type=\"button\"\n      >\n        {{ 'common.cancel' | cxTranslate }}\n      </button>\n    </div>\n  </div>\n</div>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Injectable, Optional, inject } from '@angular/core';\nimport {\n  ASM_ENABLED_LOCAL_STORAGE_KEY,\n  CsAgentAuthService,\n  AsmDeepLinkParameters,\n  AsmDeepLinkService,\n  AsmEnablerService,\n} from '@spartacus/asm/root';\nimport { AuthService, RoutingService, WindowRef } from '@spartacus/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport {\n  AsmDialogActionEvent,\n  AsmDialogActionType,\n} from '@spartacus/asm/customer-360/root';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AsmComponentService {\n  protected searchparam: URLSearchParams;\n  isEmulatedByDeepLink$: BehaviorSubject<boolean> = new BehaviorSubject(false);\n  protected showDeeplinkCartInfoAlert$: BehaviorSubject<boolean> =\n    new BehaviorSubject(false);\n\n  protected routingService = inject(RoutingService);\n\n  constructor(\n    authService: AuthService,\n    csAgentAuthService: CsAgentAuthService,\n    winRef: WindowRef,\n    // eslint-disable-next-line @typescript-eslint/unified-signatures\n    asmEnablerService: AsmEnablerService,\n    asmDeepLinkService: AsmDeepLinkService\n  );\n  /**\n   * @deprecated since 7.0 (CXSPA-3090)\n   */\n  constructor(\n    authService: AuthService,\n    csAgentAuthService: CsAgentAuthService,\n    winRef: WindowRef\n  );\n  constructor(\n    protected authService: AuthService,\n    protected csAgentAuthService: CsAgentAuthService,\n    protected winRef: WindowRef,\n    // TODO(CXSPA-3090): Remove optional flag in 7.0 where service is used\n    @Optional() protected asmEnablerService?: AsmEnablerService,\n    @Optional() protected asmDeepLinkService?: AsmDeepLinkService\n  ) {\n    // TODO(CXSPA-3090): We can remove this in 7.0 and use asmDeepLinkService instead.\n    this.searchparam = new URLSearchParams(this.winRef?.location?.search);\n  }\n\n  /**\n   * Returns a deep link parameter value if it is in the url.\n   */\n  getSearchParameter(key: string): string | undefined | null {\n    // TODO(CXSPA-3090): Use asmDeepLinkService only in 7.0\n    return (\n      this.asmDeepLinkService?.getSearchParameter(key) ??\n      this.searchparam.get(key)\n    );\n  }\n\n  isEmulatedByDeepLink(): BehaviorSubject<boolean> {\n    return this.isEmulatedByDeepLink$;\n  }\n\n  setEmulatedByDeepLink(emulated: boolean) {\n    this.isEmulatedByDeepLink$.next(emulated);\n  }\n\n  setShowDeeplinkCartInfoAlert(display: boolean) {\n    this.showDeeplinkCartInfoAlert$.next(display);\n  }\n\n  shouldShowDeeplinkCartInfoAlert(): Observable<boolean> {\n    return this.showDeeplinkCartInfoAlert$;\n  }\n\n  logoutCustomerSupportAgentAndCustomer(): void {\n    this.csAgentAuthService.logoutCustomerSupportAgent();\n  }\n\n  logoutCustomer(): void {\n    this.authService.logout();\n  }\n\n  isCustomerEmulationSessionInProgress(): Observable<boolean> {\n    return this.csAgentAuthService.isCustomerEmulated();\n  }\n\n  /**\n   * We're currently only removing the persisted storage in the browser\n   * to ensure the ASM experience isn't loaded on the next visit. There are a few\n   * optimizations we could think of:\n   * - drop the `asm` parameter from the URL, in case it's still there\n   * - remove the generated UI from the DOM (outlets currently do not support this)\n   */\n  unload() {\n    if (this.winRef.localStorage) {\n      this.winRef.localStorage.removeItem(ASM_ENABLED_LOCAL_STORAGE_KEY);\n    }\n  }\n\n  /**\n   * check whether try to emulate customer from deeplink\n   */\n  isEmulateInURL(): boolean {\n    // TODO(CXSPA-3090): Use asmDeepLinkService only in 7.0\n    return (\n      (this.asmDeepLinkService?.isEmulateInURL() ??\n        this.asmEnablerService?.isEmulateInURL()) ||\n      false\n    );\n  }\n\n  /**\n   * Returns valid deep link parameters in the url.\n   */\n  getDeepLinkUrlParams(): AsmDeepLinkParameters | undefined {\n    return this.asmDeepLinkService?.getParamsInUrl();\n  }\n\n  /**\n   * Handles the navigation based on deep link parameters in the URL\n   * or passed parameter.\n   */\n  handleDeepLinkNavigation(parameters = this.getDeepLinkUrlParams()): void {\n    this.asmDeepLinkService?.handleNavigation(parameters);\n  }\n\n  handleAsmDialogAction(event: AsmDialogActionEvent | string): void {\n    if (\n      typeof event === 'object' &&\n      event.actionType === AsmDialogActionType.NAVIGATE\n    ) {\n      this.routingService.go(event.route);\n    }\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { ChangeDetectionStrategy, Component } from '@angular/core';\n\n@Component({\n  selector: 'cx-dot-spinner',\n  templateUrl: './dot-spinner.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class DotSpinnerComponent {}\n","<div></div>\n<div></div>\n<div></div>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  ChangeDetectionStrategy,\n  Component,\n  ElementRef,\n  OnDestroy,\n  OnInit,\n  Optional,\n  ViewChild,\n} from '@angular/core';\nimport { FormControl, ValidatorFn, Validators } from '@angular/forms';\nimport { AsmBindCartFacade } from '@spartacus/asm/root';\nimport {\n  ActiveCartFacade,\n  Cart,\n  MultiCartFacade,\n} from '@spartacus/cart/base/root';\nimport { SavedCartFacade } from '@spartacus/cart/saved-cart/root';\nimport {\n  FeatureConfigService,\n  GlobalMessageService,\n  GlobalMessageType,\n  HttpErrorModel,\n  OCC_CART_ID_CURRENT,\n  RoutingService,\n} from '@spartacus/core';\nimport { LaunchDialogService, LAUNCH_CALLER } from '@spartacus/storefront';\nimport {\n  BehaviorSubject,\n  combineLatest,\n  defer,\n  EMPTY,\n  iif,\n  Observable,\n  Subscription,\n} from 'rxjs';\nimport {\n  concatMap,\n  filter,\n  finalize,\n  map,\n  shareReplay,\n  take,\n  tap,\n} from 'rxjs/operators';\nimport { BIND_CART_DIALOG_ACTION } from '../asm-bind-cart-dialog/asm-bind-cart-dialog.component';\nimport { SAVE_CART_DIALOG_ACTION } from '../asm-save-cart-dialog/asm-save-cart-dialog.component';\nimport { AsmComponentService } from '../services/asm-component.service';\n\n@Component({\n  selector: 'cx-asm-bind-cart',\n  templateUrl: './asm-bind-cart.component.html',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class AsmBindCartComponent implements OnInit, OnDestroy {\n  activeCartValidator: ValidatorFn = (control) => {\n    if (control.value === this.activeCartId) {\n      return { activeCartError: true };\n    }\n\n    if (!!this.deepLinkCartId && control.value !== this.deepLinkCartId) {\n      this.resetDeeplinkCart();\n    }\n    return null;\n  };\n\n  cartId: FormControl<string | null> = new FormControl('', [\n    Validators.required,\n    Validators.minLength(1),\n    this.activeCartValidator,\n  ]);\n\n  loading$: BehaviorSubject<boolean> = new BehaviorSubject(false);\n\n  valid$ = this.cartId.statusChanges.pipe(\n    map((status) => status === 'VALID'),\n    shareReplay(1)\n  );\n\n  activeCartId = '';\n  deepLinkCartId = '';\n\n  displayBindCartBtn$: BehaviorSubject<boolean> = new BehaviorSubject(true);\n  displaySaveCartBtn$: BehaviorSubject<boolean> = new BehaviorSubject(false);\n\n  @ViewChild('bindToCart') bindToCartElemRef: ElementRef<HTMLButtonElement>;\n  @ViewChild('saveInactiveCart')\n  saveInactiveCartElemRef: ElementRef<HTMLButtonElement>;\n\n  protected subscription = new Subscription();\n\n  constructor(\n    globalMessageService: GlobalMessageService,\n    activeCartFacade: ActiveCartFacade,\n    multiCartFacade: MultiCartFacade,\n    asmBindCartFacade: AsmBindCartFacade,\n    launchDialogService: LaunchDialogService,\n    savedCartFacade: SavedCartFacade,\n    // eslint-disable-next-line @typescript-eslint/unified-signatures\n    asmComponentService: AsmComponentService,\n    routing: RoutingService,\n    featureConfig: FeatureConfigService\n  );\n  /**\n   * @deprecated since 7.0\n   */\n  constructor(\n    globalMessageService: GlobalMessageService,\n    activeCartFacade: ActiveCartFacade,\n    multiCartFacade: MultiCartFacade,\n    asmBindCartFacade: AsmBindCartFacade,\n    launchDialogService: LaunchDialogService,\n    savedCartFacade: SavedCartFacade\n  );\n  constructor(\n    protected globalMessageService: GlobalMessageService,\n    protected activeCartFacade: ActiveCartFacade,\n    protected multiCartFacade: MultiCartFacade,\n    protected asmBindCartFacade: AsmBindCartFacade,\n    protected launchDialogService: LaunchDialogService,\n    protected savedCartFacade: SavedCartFacade,\n    @Optional() protected asmComponentService?: AsmComponentService,\n    @Optional() protected routing?: RoutingService,\n    @Optional() protected featureConfig?: FeatureConfigService\n  ) {}\n\n  ngOnInit(): void {\n    this.subscribeForDeeplinkCart();\n\n    this.subscription.add(\n      this.activeCartFacade.getActiveCartId().subscribe((response) => {\n        this.activeCartId = response ?? '';\n        this.cartId.setValue(this.deepLinkCartId || this.activeCartId);\n      })\n    );\n  }\n\n  resetInput() {\n    if (!this.cartId.value) {\n      this.cartId.setValue(this.activeCartId);\n    }\n  }\n\n  /**\n   * Bind the input cart number to the customer\n   */\n  bindCartToCustomer() {\n    const anonymousCartId = this.cartId.value;\n\n    const subscription = combineLatest([\n      this.loading$.asObservable(),\n      this.valid$,\n    ])\n      .pipe(\n        take(1),\n        filter(([loading, valid]) => !loading && valid),\n        tap(() => this.loading$.next(true)),\n        concatMap(() =>\n          this.activeCartFacade.getActive().pipe(\n            map((cart) => cart.deliveryItemsQuantity ?? 0),\n            take(1)\n          )\n        ),\n        concatMap((cartItemCount) =>\n          iif(\n            () => Boolean(this.activeCartId && cartItemCount),\n            this.openDialog(this.activeCartId, anonymousCartId as string),\n            this.simpleBindCart(anonymousCartId as string)\n          )\n        ),\n        finalize(() => this.loading$.next(false))\n      )\n      .subscribe({\n        next: () => {\n          this.globalMessageService.add(\n            { key: 'asm.bindCart.success' },\n            GlobalMessageType.MSG_TYPE_CONFIRMATION\n          );\n        },\n        error: (error: HttpErrorModel) => {\n          this.globalMessageService.add(\n            error.details?.[0].message ?? '',\n            GlobalMessageType.MSG_TYPE_ERROR\n          );\n        },\n      });\n\n    this.subscription.add(subscription);\n  }\n\n  onSaveInactiveCart() {\n    this.asmComponentService?.setShowDeeplinkCartInfoAlert(false);\n    const customerId =\n      this.asmComponentService?.getSearchParameter('customerId');\n    this.multiCartFacade.loadCart({\n      cartId: this.deepLinkCartId,\n      userId: customerId as string,\n    });\n\n    this.multiCartFacade\n      .getCartEntity(this.deepLinkCartId)\n      .pipe(\n        filter((state) => state.loading === false && state.success === true),\n        take(1),\n        map((state) => state.value as Cart),\n        filter((cart) => !!cart)\n      )\n      .subscribe((cart) => {\n        this.openASMSaveCartDialog(cart);\n      });\n\n    this.afterCloseASMSaveCartDialog();\n  }\n\n  clearText() {\n    this.cartId.setValue('');\n    this.resetDeeplinkCart();\n  }\n\n  protected resetDeeplinkCart(): void {\n    if (this.featureConfig?.isLevel('6.2')) {\n      this.deepLinkCartId = '';\n      this.displayBindCartBtn$.next(true);\n      this.displaySaveCartBtn$.next(false);\n      this.asmComponentService?.setShowDeeplinkCartInfoAlert(false);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n\n  /**\n   * Binds cart on subscription and reloads cart\n   */\n  protected simpleBindCart(anonymousCartId: string): Observable<unknown> {\n    return defer(() => this.asmBindCartFacade.bindCart(anonymousCartId)).pipe(\n      tap(() => this.multiCartFacade.reloadCart(OCC_CART_ID_CURRENT))\n    );\n  }\n\n  /**\n   * Opens dialog and passes non-cancel result to select action\n   */\n  protected openDialog(activeCartId: string, anonymousCartId: string) {\n    return defer(() => {\n      this.launchDialogService.openDialogAndSubscribe(\n        LAUNCH_CALLER.ASM_BIND_CART,\n        this.bindToCartElemRef\n      );\n      return this.launchDialogService.dialogClose.pipe(\n        filter((result) => Boolean(result)),\n        take(1)\n      ) as Observable<BIND_CART_DIALOG_ACTION>;\n    }).pipe(\n      filter((dialogResult) => Boolean(dialogResult)),\n      concatMap((dialogResult) => {\n        return this.selectBindAction(\n          activeCartId,\n          anonymousCartId,\n          dialogResult\n        );\n      })\n    );\n  }\n\n  protected selectBindAction(\n    activeCartId: string,\n    anonymousCartId: string,\n    action: BIND_CART_DIALOG_ACTION\n  ): Observable<unknown> {\n    switch (action) {\n      case BIND_CART_DIALOG_ACTION.REPLACE:\n        return this.replaceCart(activeCartId, anonymousCartId);\n\n      case BIND_CART_DIALOG_ACTION.CANCEL:\n      default:\n        return EMPTY;\n    }\n  }\n\n  protected replaceCart(\n    previousActiveCartId: string,\n    anonymousCartId: string\n  ): Observable<unknown> {\n    return this.simpleBindCart(anonymousCartId).pipe(\n      tap(() => {\n        this.savedCartFacade.saveCart({\n          cartId: previousActiveCartId,\n          saveCartName: previousActiveCartId,\n          // TODO(#12660): Remove default value once backend is updated\n          saveCartDescription: '-',\n        });\n      })\n    );\n  }\n\n  // TODO(CXSPA-3090): Remove optional service flags in 7.0\n  protected subscribeForDeeplinkCart(): void {\n    if (this.featureConfig?.isLevel('6.2')) {\n      this.subscription.add(\n        this.asmComponentService\n          ?.isEmulatedByDeepLink()\n          .pipe(\n            filter(\n              (emulated) =>\n                emulated &&\n                !!this.asmComponentService?.getSearchParameter('cartId')\n            )\n          )\n          .subscribe(() => {\n            // TODO(CXSPA-3090): Remove feature flag in 7.0.\n            if (this.featureConfig?.isLevel('6.3')) {\n              const cartType =\n                this.asmComponentService?.getSearchParameter('cartType');\n              if (cartType === 'inactive' || cartType === 'active') {\n                this.displayBindCartBtn$.next(false);\n                this.displaySaveCartBtn$.next(cartType === 'inactive');\n                this.deepLinkCartId =\n                  this.asmComponentService?.getSearchParameter(\n                    'cartId'\n                  ) as string;\n                this.cartId.setValue(this.deepLinkCartId);\n                this.asmComponentService?.setShowDeeplinkCartInfoAlert(true);\n                this.asmComponentService?.handleDeepLinkNavigation();\n              }\n              return;\n            }\n\n            // TODO(CXSPA-3090): Remove this implementation in 7.0\n            if (this.isDeepLinkInactiveCart()) {\n              this.displayBindCartBtn$.next(false);\n              this.displaySaveCartBtn$.next(true);\n              this.onDeeplinkCart();\n            } else if (this.isDeepLinkActiveCart()) {\n              this.onDeeplinkCart();\n              this.goToActiveCartDetail();\n              this.displayBindCartBtn$.next(false);\n              this.displaySaveCartBtn$.next(false);\n            }\n          })\n      );\n    }\n  }\n\n  /**\n   * @deprecated in 6.3: Will be removed in CXSPA-3090.\n   */\n  protected onDeeplinkCart(): void {\n    this.deepLinkCartId = this.asmComponentService?.getSearchParameter(\n      'cartId'\n    ) as string;\n    this.cartId.setValue(this.deepLinkCartId);\n    this.asmComponentService?.setShowDeeplinkCartInfoAlert(true);\n  }\n\n  /**\n   * @deprecated in 6.3: Will be removed in CXSPA-3090.\n   */\n  protected isDeepLinkInactiveCart(): boolean {\n    const cartType = this.asmComponentService?.getSearchParameter('cartType');\n    return cartType === 'inactive';\n  }\n\n  /**\n   * @deprecated in 6.3: Will be removed in CXSPA-3090.\n   */\n  protected isDeepLinkActiveCart(): boolean {\n    const cartType = this.asmComponentService?.getSearchParameter('cartType');\n    return cartType === 'active';\n  }\n\n  protected openASMSaveCartDialog(inactiveCart: Cart): void {\n    this.launchDialogService.openDialogAndSubscribe(\n      LAUNCH_CALLER.ASM_SAVE_CART,\n      this.saveInactiveCartElemRef,\n      inactiveCart\n    );\n  }\n\n  protected afterCloseASMSaveCartDialog(): void {\n    this.launchDialogService.dialogClose\n      .pipe(\n        filter((result) => result === SAVE_CART_DIALOG_ACTION.SAVE),\n        take(1),\n        tap(() => this.loading$.next(true))\n      )\n      .subscribe();\n\n    this.savedCartFacade\n      .getSaveCartProcessSuccess()\n      .pipe(\n        filter((success) => success),\n        take(1),\n        tap(() => this.loading$.next(false))\n      )\n      .subscribe(() => {\n        this.goToSavedCartDetails(this.deepLinkCartId);\n        this.displaySaveCartBtn$.next(false);\n      });\n\n    this.savedCartFacade\n      .getSaveCartProcessError()\n      .pipe(\n        filter((error) => error),\n        take(1),\n        tap(() => this.loading$.next(false))\n      )\n      .subscribe();\n  }\n\n  protected goToSavedCartDetails(cartId: string): void {\n    this.routing?.go({\n      cxRoute: 'savedCartsDetails',\n      params: { savedCartId: cartId },\n    });\n  }\n\n  /**\n   * @deprecated in 6.3: Will be removed in CXSPA-3090.\n   */\n  protected goToActiveCartDetail(): void {\n    this.routing?.go({ cxRoute: 'cart' });\n  }\n}\n","<form>\n  <label for=\"cartNumber\">{{ 'asm.bindCart.cartNumber' | cxTranslate }} </label>\n  <div\n    role=\"search\"\n    [attr.aria-label]=\"'asm.bindCart.assignCartId' | cxTranslate\"\n    class=\"cx-asm-assignCart\"\n    [class.active]=\"valid$ | async\"\n    (click)=\"cartIdElement.focus()\"\n  >\n    <input\n      autocomplete=\"off\"\n      #cartIdElement\n      formcontrolname=\"cartNumber\"\n      [formControl]=\"cartId\"\n      (keydown.enter)=\"bindCartToCustomer()\"\n      (blur)=\"resetInput()\"\n      [attr.aria-label]=\"'asm.bindCart.enterCartId' | cxTranslate\"\n    />\n    <button\n      class=\"cx-asm-reset\"\n      [attr.aria-label]=\"'asm.bindCart.resetCartId' | cxTranslate\"\n      [class.visible]=\"cartId.value?.length > 0\"\n      (click)=\"clearText()\"\n    >\n      <cx-icon class=\"cx-icon fas fa-times-circle\"></cx-icon>\n    </button>\n  </div>\n  <button\n    #bindToCart\n    *ngIf=\"displayBindCartBtn$ | async\"\n    class=\"cx-asm-bindCartToCustomer\"\n    [disabled]=\"!(valid$ | async)\"\n    type=\"submit\"\n    [class.cx-asm-active]=\"valid$ | async\"\n    [class.cx-bind-loading]=\"loading$ | async\"\n    (click)=\"bindCartToCustomer()\"\n  >\n    <span [attr.aria-hidden]=\"loading$ | async\">\n      {{ 'asm.bindCart.bindCartToCustomer' | cxTranslate }}\n    </span>\n    <cx-dot-spinner\n      [attr.aria-hidden]=\"!(loading$ | async)\"\n      [attr.aria-label]=\"'common.loading' | cxTranslate\"\n    ></cx-dot-spinner>\n  </button>\n\n  <ng-container *cxFeatureLevel=\"'6.2'\">\n    <button\n      id=\"asm-save-inactive-cart-btn\"\n      #saveInactiveCart\n      *ngIf=\"displaySaveCartBtn$ | async\"\n      class=\"cx-asm-bindCartToCustomer cx-asm-active\"\n      type=\"submit\"\n      [class.cx-bind-loading]=\"loading$ | async\"\n      (click)=\"onSaveInactiveCart()\"\n    >\n      <span [attr.aria-hidden]=\"loading$ | async\">\n        {{ 'asm.saveCart.saveCartBtn' | cxTranslate }}\n      </span>\n      <cx-dot-spinner\n        [attr.aria-hidden]=\"!(loading$ | async)\"\n        [attr.aria-label]=\"'common.loading' | cxTranslate\"\n      ></cx-dot-spinner>\n    </button>\n  </ng-container>\n</form>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Component } from '@angular/core';\nimport { FormBuilder, Validators } from '@angular/forms';\nimport {\n  AsmCreateCustomerFacade,\n  CustomerRegistrationForm,\n} from '@spartacus/asm/root';\nimport {\n  GlobalMessageType,\n  HttpErrorModel,\n  TranslationService,\n  User,\n} from '@spartacus/core';\nimport {\n  CustomFormValidators,\n  FocusConfig,\n  ICON_TYPE,\n  LaunchDialogService,\n} from '@spartacus/storefront';\nimport { BehaviorSubject } from 'rxjs';\nimport { first } from 'rxjs/operators';\nimport { CreatedCustomer } from './asm-create-customer-form.model';\n\n@Component({\n  selector: 'cx-asm-create-customer-form',\n  templateUrl: './asm-create-customer-form.component.html',\n})\nexport class AsmCreateCustomerFormComponent {\n  createdCustomer: CreatedCustomer;\n\n  iconTypes = ICON_TYPE;\n\n  isLoading$ = new BehaviorSubject(false);\n\n  showDialogInfoAlert = true;\n\n  globalMessageType = GlobalMessageType;\n\n  showDialogBackendErrorAlerts: boolean[];\n\n  backendErrorMessages: string[];\n\n  focusConfig: FocusConfig = {\n    trap: true,\n    block: true,\n    autofocus: true,\n    focusOnEscape: true,\n  };\n\n  registerForm = this.fb.group({\n    firstName: ['', Validators.required],\n    lastName: ['', Validators.required],\n    email: ['', [Validators.required, CustomFormValidators.emailValidator]],\n  });\n\n  constructor(\n    protected launchDialogService: LaunchDialogService,\n    protected fb: FormBuilder,\n    protected asmCreateCustomerFacade: AsmCreateCustomerFacade,\n    protected translationService: TranslationService\n  ) {}\n\n  submitForm(): void {\n    if (this.registerForm.valid) {\n      this.registerUser();\n    } else {\n      this.registerForm.markAllAsTouched();\n    }\n  }\n\n  registerUser(): void {\n    this.isLoading$.next(true);\n    const { firstName, lastName, email } = this.registerForm.value;\n    this.createdCustomer = {\n      firstName: firstName ?? '',\n      lastName: lastName ?? '',\n      email: email ?? '',\n    };\n\n    const obs$ = this.asmCreateCustomerFacade.createCustomer(\n      this.collectDataFromRegisterForm()\n    );\n\n    obs$.subscribe({\n      next: (result: User) => this.onRegisterUserSuccess(result),\n      error: (error: HttpErrorModel) => this.onRegisterUserFail(error),\n    });\n\n    obs$.subscribe({\n      complete: () => this.isLoading$.next(false),\n    });\n  }\n\n  collectDataFromRegisterForm(): CustomerRegistrationForm {\n    return {\n      firstName: this.createdCustomer.firstName,\n      lastName: this.createdCustomer.lastName,\n      emailAddress: this.createdCustomer.email,\n    };\n  }\n\n  closeModal(reason?: unknown): void {\n    this.launchDialogService.closeDialog(reason);\n  }\n\n  closeDialogInfoAlert(): void {\n    this.showDialogInfoAlert = false;\n  }\n\n  closeDialogBackendErroAlert(index: number): void {\n    this.showDialogBackendErrorAlerts[index] = false;\n  }\n\n  protected onRegisterUserSuccess(user: User): void {\n    this.launchDialogService.closeDialog(user);\n  }\n\n  protected onRegisterUserFail(error: HttpErrorModel): void {\n    this.isLoading$.next(false);\n    this.backendErrorMessages = [];\n    this.showDialogBackendErrorAlerts = [];\n\n    const unknownError = 'httpHandlers.unknownError';\n    const errorDetails = error.details ?? [];\n\n    if (errorDetails.length === 0) {\n      this.addErrorMessage(unknownError);\n    }\n    errorDetails.forEach((errorDetail) => {\n      switch (errorDetail.type || '') {\n        case 'ValidationError':\n          this.addErrorMessage(\n            `asm.createCustomerForm.validationErrors.${errorDetail.subject}`\n          );\n          break;\n        case 'AssistedServiceDuplicatedUidError':\n          this.addErrorMessage(\n            'asm.createCustomerForm.badRequestDuplicatedEmail',\n            {\n              emailAddress: this.createdCustomer.email,\n            }\n          );\n          break;\n        default:\n          this.addErrorMessage(unknownError);\n      }\n    });\n  }\n\n  protected addErrorMessage(key: string, options?: unknown): void {\n    this.translationService\n      .translate(key, options)\n      .pipe(first())\n      .subscribe((text) => {\n        this.backendErrorMessages.push(text);\n        this.showDialogBackendErrorAlerts.push(true);\n      });\n  }\n}\n","<div\n  class=\"cx-modal-container cx-asm-dialog\"\n  [cxFocus]=\"focusConfig\"\n  (esc)=\"closeModal('Escape clicked')\"\n>\n  <div class=\"cx-modal-content\">\n    <ng-container>\n      <form (ngSubmit)=\"submitForm()\" [formGroup]=\"registerForm\">\n        <!-- Modal Header -->\n        <div class=\"cx-dialog-header modal-header\">\n          <h2 class=\"title modal-title\">\n            {{ 'asm.createCustomerForm.title' | cxTranslate }}\n          </h2>\n        </div>\n        <!-- Modal Body -->\n        <div class=\"cx-dialog-body modal-body\">\n          <div class=\"message-container\">\n            <cx-message\n              *ngIf=\"showDialogInfoAlert\"\n              [text]=\"'asm.createCustomerForm.createAccountAlert' | cxTranslate\"\n              [type]=\"globalMessageType.MSG_TYPE_INFO\"\n              (closeMessage)=\"closeDialogInfoAlert()\"\n            >\n            </cx-message>\n            <ng-container\n              *ngFor=\"let errorMessage of backendErrorMessages; let i = index\"\n            >\n              <cx-message\n                *ngIf=\"showDialogBackendErrorAlerts[i]\"\n                [text]=\"errorMessage\"\n                [type]=\"globalMessageType.MSG_TYPE_ERROR\"\n                (closeMessage)=\"closeDialogBackendErroAlert(i)\"\n              >\n              </cx-message>\n            </ng-container>\n          </div>\n\n          <div *ngIf=\"!(isLoading$ | async); else loading\">\n            <div class=\"form-group\">\n              <label>\n                <span class=\"label-content\">{{\n                  'asm.createCustomerForm.firstName.label' | cxTranslate\n                }}</span>\n                <input\n                  required=\"true\"\n                  class=\"form-control\"\n                  placeholder=\"{{\n                    'asm.createCustomerForm.firstName.placeholder' | cxTranslate\n                  }}\"\n                  formControlName=\"firstName\"\n                  name=\"text\"\n                />\n                <cx-form-errors\n                  [control]=\"registerForm.get('firstName')\"\n                ></cx-form-errors>\n              </label>\n            </div>\n\n            <div class=\"form-group\">\n              <label>\n                <span class=\"label-content\">{{\n                  'asm.createCustomerForm.lastName.label' | cxTranslate\n                }}</span>\n                <input\n                  required=\"true\"\n                  class=\"form-control\"\n                  placeholder=\"{{\n                    'asm.createCustomerForm.lastName.placeholder' | cxTranslate\n                  }}\"\n                  name=\"text\"\n                  formControlName=\"lastName\"\n                />\n                <cx-form-errors\n                  [control]=\"registerForm.get('lastName')\"\n                ></cx-form-errors>\n              </label>\n            </div>\n\n            <div class=\"form-group\">\n              <label>\n                <span class=\"label-content\">{{\n                  'asm.createCustomerForm.emailAddress.label' | cxTranslate\n                }}</span>\n                <input\n                  required=\"true\"\n                  class=\"form-control\"\n                  placeholder=\"{{\n                    'asm.createCustomerForm.emailAddress.placeholder'\n                      | cxTranslate\n                  }}\"\n                  name=\"email\"\n                  formControlName=\"email\"\n                />\n                <cx-form-errors\n                  [control]=\"registerForm.get('email')\"\n                ></cx-form-errors>\n              </label>\n            </div>\n          </div>\n        </div>\n        <!-- Modal Footer -->\n        <div class=\"modal-footer\">\n          <button\n            type=\"submit\"\n            class=\"\n              btn\n              cx-asm-create-customer-btn cx-asm-create-customer-btn-create\n            \"\n          >\n            {{ 'asm.createCustomerForm.createAccount' | cxTranslate }}\n          </button>\n          <button\n            type=\"button\"\n            class=\"\n              btn\n              cx-asm-create-customer-btn cx-asm-create-customer-btn-cancel\n            \"\n            (click)=\"closeModal('Cancel click')\"\n          >\n            {{ 'asm.createCustomerForm.cancel' | cxTranslate }}\n          </button>\n        </div>\n      </form>\n    </ng-container>\n  </div>\n</div>\n\n<ng-template #loading>\n  <div class=\"cx-spinner\"><cx-spinner></cx-spinner></div>\n</ng-template>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { DIALOG_TYPE, LayoutConfig } from '@spartacus/storefront';\nimport { AsmCreateCustomerFormComponent } from './asm-create-customer-form.component';\n\nexport const defaultAsmCreateCustomerFormLayoutConfig: LayoutConfig = {\n  launch: {\n    ASM_CREATE_CUSTOMER_FORM: {\n      inlineRoot: true,\n      component: AsmCreateCustomerFormComponent,\n      dialogType: DIALOG_TYPE.DIALOG,\n    },\n  },\n};\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\nimport {\n  UntypedFormBuilder,\n  UntypedFormGroup,\n  Validators,\n} from '@angular/forms';\n\n@Component({\n  selector: 'cx-csagent-login-form',\n  templateUrl: './csagent-login-form.component.html',\n})\nexport class CSAgentLoginFormComponent implements OnInit {\n  csAgentLoginForm: UntypedFormGroup;\n\n  @Input()\n  csAgentTokenLoading = false;\n\n  @Output()\n  submitEvent = new EventEmitter<{ userId: string; password: string }>();\n\n  constructor(protected fb: UntypedFormBuilder) {}\n\n  ngOnInit(): void {\n    this.csAgentLoginForm = this.fb.group({\n      userId: ['', [Validators.required]],\n      password: ['', [Validators.required]],\n    });\n  }\n\n  onSubmit(): void {\n    if (this.csAgentLoginForm.valid) {\n      this.submitEvent.emit({\n        userId: this.csAgentLoginForm.get('userId')?.value,\n        password: this.csAgentLoginForm.get('password')?.value,\n      });\n    } else {\n      this.csAgentLoginForm.markAllAsTouched();\n    }\n  }\n}\n","<form\n  (ngSubmit)=\"onSubmit()\"\n  [formGroup]=\"csAgentLoginForm\"\n  *ngIf=\"!csAgentTokenLoading\"\n>\n  <label>\n    <input\n      required=\"true\"\n      type=\"text\"\n      formControlName=\"userId\"\n      placeholder=\"{{ 'asm.loginForm.userId.label' | cxTranslate }}\"\n      [attr.aria-label]=\"'asm.loginForm.userId.label' | cxTranslate\"\n    />\n    <cx-form-errors [control]=\"csAgentLoginForm.get('userId')\"></cx-form-errors>\n  </label>\n\n  <label>\n    <input\n      required=\"true\"\n      type=\"password\"\n      placeholder=\"{{ 'asm.loginForm.password.label' | cxTranslate }}\"\n      formControlName=\"password\"\n      [attr.aria-label]=\"'asm.loginForm.password.label' | cxTranslate\"\n      cxPasswordVisibilitySwitch\n    />\n    <cx-form-errors\n      [control]=\"csAgentLoginForm.get('password')\"\n    ></cx-form-errors>\n  </label>\n  <button type=\"submit\">\n    {{ 'asm.loginForm.submit' | cxTranslate }}\n  </button>\n</form>\n\n<cx-dot-spinner\n  *ngIf=\"csAgentTokenLoading\"\n  aria-hidden=\"false\"\n  [attr.aria-label]=\"'common.loading' | cxTranslate\"\n></cx-dot-spinner>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  Component,\n  ElementRef,\n  EventEmitter,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Output,\n  QueryList,\n  ViewChild,\n  ViewChildren,\n} from '@angular/core';\nimport {\n  UntypedFormBuilder,\n  UntypedFormGroup,\n  Validators,\n} from '@angular/forms';\nimport { AsmService } from '@spartacus/asm/core';\nimport { AsmConfig, CustomerSearchPage } from '@spartacus/asm/root';\n\nimport { User } from '@spartacus/core';\nimport {\n  DirectionMode,\n  DirectionService,\n  LAUNCH_CALLER,\n  LaunchDialogService,\n} from '@spartacus/storefront';\nimport { Observable, Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\n@Component({\n  selector: 'cx-customer-selection',\n  templateUrl: './customer-selection.component.html',\n  host: {\n    '(document:click)': 'onDocumentClick($event)',\n  },\n})\nexport class CustomerSelectionComponent implements OnInit, OnDestroy {\n  customerSelectionForm: UntypedFormGroup;\n  protected subscription = new Subscription();\n  searchResultsLoading$: Observable<boolean>;\n  searchResults: Observable<CustomerSearchPage>;\n  selectedCustomer: User | undefined;\n\n  @Output()\n  submitEvent = new EventEmitter<{ customerId?: string }>();\n\n  @ViewChild('resultList') resultList: ElementRef;\n  @ViewChild('searchTerm') searchTerm: ElementRef;\n\n  @ViewChild('createCustomerLink') createCustomerLink: ElementRef;\n  @ViewChildren('searchResultItem') searchResultItems: QueryList<\n    ElementRef<HTMLElement>\n  >;\n\n  activeFocusedButtonIndex = -1;\n\n  // TODO(CXSPA-3091): make LaunchDialogService are required dependency\n  constructor(\n    fb: UntypedFormBuilder,\n    asmService: AsmService,\n    config: AsmConfig,\n    directionService: DirectionService,\n    // eslint-disable-next-line @typescript-eslint/unified-signatures\n    launchDialogService: LaunchDialogService\n  );\n  /**\n   * @deprecated since 6.1\n   */\n  constructor(\n    fb: UntypedFormBuilder,\n    asmService: AsmService,\n    config: AsmConfig,\n    directionService: DirectionService\n  );\n\n  constructor(\n    protected fb: UntypedFormBuilder,\n    protected asmService: AsmService,\n    protected config: AsmConfig,\n    protected directionService: DirectionService,\n    @Optional() protected launchDialogService?: LaunchDialogService\n  ) {}\n\n  ngOnInit(): void {\n    this.customerSelectionForm = this.fb.group({\n      searchTerm: ['', Validators.required],\n    });\n    this.asmService.customerSearchReset();\n    this.searchResultsLoading$ =\n      this.asmService.getCustomerSearchResultsLoading();\n    this.searchResults = this.asmService.getCustomerSearchResults();\n\n    this.subscription.add(\n      this.customerSelectionForm.controls.searchTerm.valueChanges\n        .pipe(debounceTime(300))\n        .subscribe((searchTermValue) => {\n          this.handleSearchTerm(searchTermValue);\n        })\n    );\n  }\n\n  protected handleSearchTerm(searchTermValue: string) {\n    if (\n      !!this.selectedCustomer &&\n      searchTermValue !== this.selectedCustomer.name\n    ) {\n      this.selectedCustomer = undefined;\n    }\n    if (Boolean(this.selectedCustomer)) {\n      return;\n    }\n    this.asmService.customerSearchReset();\n    this.activeFocusedButtonIndex = -1;\n    if (searchTermValue.trim().length >= 3) {\n      this.asmService.customerSearch({\n        query: searchTermValue,\n        pageSize: this.config.asm?.customerSearch?.maxResults,\n      });\n    }\n  }\n\n  selectCustomerFromList(event: UIEvent, customer: User) {\n    this.selectedCustomer = customer;\n    this.customerSelectionForm.controls.searchTerm.setValue(\n      this.selectedCustomer.name\n    );\n    this.asmService.customerSearchReset();\n    this.searchTerm.nativeElement.focus();\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  onSubmit(): void {\n    if (this.customerSelectionForm.valid && !!this.selectedCustomer) {\n      this.submitEvent.emit({ customerId: this.selectedCustomer.customerId });\n    } else {\n      this.customerSelectionForm.markAllAsTouched();\n    }\n  }\n\n  onDocumentClick(event: UIEvent) {\n    if (Boolean(this.resultList)) {\n      if (\n        this.resultList.nativeElement.contains(event.target) ||\n        this.searchTerm.nativeElement.contains(event.target)\n      ) {\n        return;\n      } else {\n        this.asmService.customerSearchReset();\n      }\n    }\n  }\n\n  closeResults(event: UIEvent) {\n    this.asmService.customerSearchReset();\n    this.searchTerm.nativeElement.focus();\n    event.preventDefault();\n    event.stopPropagation();\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n    this.asmService.customerSearchReset();\n  }\n\n  /**\n   * set focus to the first searched item\n   * @param event keyboard event\n   */\n  focusFirstItem(event: UIEvent): void {\n    event.preventDefault();\n    this.activeFocusedButtonIndex = 0;\n    this.updateItemIndex(this.activeFocusedButtonIndex);\n  }\n  /**\n   * set mouse cursor to the end of search text\n   * @param event keyboard event\n   */\n  setSelectionEnd(event: UIEvent): void {\n    event.preventDefault();\n    if (this.searchTerm.nativeElement.value?.length) {\n      const selectionStart = this.searchTerm.nativeElement.value.length;\n      this.searchTerm.nativeElement.selectionStart = selectionStart;\n      this.searchTerm.nativeElement.selectionEnd = selectionStart;\n    }\n  }\n  /**\n   * set focus on previous searh result item.  If no previous item then go to end of item.\n   * @param event keyboard event\n   */\n  focusPreviousChild(event: UIEvent): void {\n    event.preventDefault();\n    this.activeFocusedButtonIndex--;\n    if (this.activeFocusedButtonIndex < 0) {\n      this.activeFocusedButtonIndex = this.searchResultItems.length - 1;\n    }\n    this.updateItemIndex(this.activeFocusedButtonIndex);\n  }\n  /**\n   * set focus on next searh result item.  if no next item then go to the first item\n   * @param event keyboard event\n   */\n  focusNextChild(event: UIEvent): void {\n    event.preventDefault();\n    this.activeFocusedButtonIndex++;\n    if (this.activeFocusedButtonIndex > this.searchResultItems.length - 1) {\n      this.activeFocusedButtonIndex = 0;\n    }\n    this.updateItemIndex(this.activeFocusedButtonIndex);\n  }\n  /**\n   * set focus to input search text\n   * @param event keyboard event\n   */\n  focusInputText(event: KeyboardEvent): void {\n    event.preventDefault();\n    this.activeFocusedButtonIndex = -1;\n    this.searchTerm.nativeElement.focus();\n    if (this.searchTerm.nativeElement.value?.length) {\n      let selectionPos = this.searchTerm.nativeElement.selectionEnd;\n      const searchTermLength = this.searchTerm.nativeElement.value.length;\n\n      if (this.isBackNavigation(event)) {\n        selectionPos = selectionPos <= 0 ? 0 : selectionPos - 1;\n      } else if (this.isForwardsNavigation(event)) {\n        selectionPos =\n          selectionPos >= searchTermLength\n            ? searchTermLength\n            : selectionPos + 1;\n      } else if (event.code === 'Home') {\n        selectionPos = 0;\n      } else if (event.code === 'End') {\n        selectionPos = searchTermLength;\n      }\n      this.searchTerm.nativeElement.selectionStart = selectionPos;\n      this.searchTerm.nativeElement.selectionEnd = selectionPos;\n    }\n  }\n  /**\n   * set focus to selected item\n   * @param {number} selectedIndex - current selected item index\n   */\n  updateItemIndex(selectedIndex: number): void {\n    this.searchResultItems.toArray()?.[selectedIndex]?.nativeElement.focus();\n  }\n\n  createCustomer(): void {\n    this.asmService.customerSearchReset();\n    this.launchDialogService?.openDialogAndSubscribe(\n      LAUNCH_CALLER.ASM_CREATE_CUSTOMER_FORM,\n      this.createCustomerLink\n    );\n  }\n  /**\n   * Verifies whether the user navigates into a subgroup of the main group menu.\n   *\n   * @param {KeyboardEvent} event - Keyboard event\n   * @returns {boolean} -'true' if the user navigates into the subgroup, otherwise 'false'.\n   * @protected\n   */\n  protected isForwardsNavigation(event: KeyboardEvent): boolean {\n    return (\n      (event.code === 'ArrowRight' && this.isLTRDirection()) ||\n      (event.code === 'ArrowLeft' && this.isRTLDirection())\n    );\n  }\n\n  /**\n   * Verifies whether the user navigates from a subgroup back to the main group menu.\n   *\n   * @param {KeyboardEvent} event - Keyboard event\n   * @returns {boolean} -'true' if the user navigates back into the main group menu, otherwise 'false'.\n   * @protected\n   */\n  protected isBackNavigation(event: KeyboardEvent): boolean {\n    return (\n      (event.code === 'ArrowLeft' && this.isLTRDirection()) ||\n      (event.code === 'ArrowRight' && this.isRTLDirection())\n    );\n  }\n  protected isLTRDirection(): boolean {\n    return this.directionService.getDirection() === DirectionMode.LTR;\n  }\n\n  protected isRTLDirection(): boolean {\n    return this.directionService.getDirection() === DirectionMode.RTL;\n  }\n}\n","<form (ngSubmit)=\"onSubmit()\" [formGroup]=\"customerSelectionForm\">\n  <label>\n    <input\n      required=\"true\"\n      #searchTerm\n      type=\"text\"\n      formControlName=\"searchTerm\"\n      [attr.aria-label]=\"'asm.customerSearch.searchTerm.label' | cxTranslate\"\n      placeholder=\"{{ 'asm.customerSearch.searchTerm.label' | cxTranslate }}\"\n      (keydown.arrowdown)=\"focusFirstItem($event)\"\n      (keydown.end)=\"setSelectionEnd($event)\"\n    />\n    <cx-form-errors\n      [control]=\"customerSelectionForm.get('searchTerm')\"\n    ></cx-form-errors>\n  </label>\n  <button type=\"submit\" [class.active]=\"selectedCustomer\">\n    {{ 'asm.customerSearch.submit' | cxTranslate }}\n  </button>\n</form>\n\n<div *ngIf=\"searchResults | async as results\" class=\"asm-results\" #resultList>\n  <button\n    #searchResultItem\n    *ngFor=\"let result of results.entries; let i = index\"\n    [tabindex]=\"activeFocusedButtonIndex === i ? 0 : -1\"\n    [attr.aria-selected]=\"activeFocusedButtonIndex === i\"\n    [class.active]=\"activeFocusedButtonIndex === i\"\n    (keydown.arrowup)=\"focusPreviousChild($event)\"\n    (keydown.arrowdown)=\"focusNextChild($event)\"\n    (keydown.arrowright)=\"focusInputText($event)\"\n    (keydown.arrowleft)=\"focusInputText($event)\"\n    (keydown.enter)=\"selectCustomerFromList($event, result)\"\n    (keydown.escape)=\"closeResults($event)\"\n    (keydown.home)=\"focusInputText($event)\"\n    (keydown.end)=\"focusInputText($event)\"\n    (click)=\"selectCustomerFromList($event, result)\"\n  >\n    <span class=\"result-name\">{{ result.name }}</span>\n    <span class=\"result-id\">{{ result.uid }}</span>\n  </button>\n\n  <!-- TODO:(CXSPA-3090) for next major release remove feature level -->\n  <ng-container *cxFeatureLevel=\"'!6.1'\">\n    <button\n      #searchResultItem\n      (click)=\"closeResults($event)\"\n      (keydown.enter)=\"closeResults($event)\"\n      (keydown.escape)=\"closeResults($event)\"\n      (keydown.arrowright)=\"focusInputText($event)\"\n      (keydown.arrowleft)=\"focusInputText($event)\"\n      (keydown.home)=\"focusInputText($event)\"\n      (keydown.end)=\"focusInputText($event)\"\n      [class.active]=\"activeFocusedButtonIndex === 0\"\n      [attr.aria-selected]=\"activeFocusedButtonIndex === 0\"\n      *ngIf=\"\n        !(searchResultsLoading$ | async) &&\n        searchTerm.value.length >= 3 &&\n        !!results.entries &&\n        results.entries.length <= 0\n      \"\n    >\n      {{ 'asm.customerSearch.noMatch' | cxTranslate }}\n    </button>\n  </ng-container>\n  <ng-container *cxFeatureLevel=\"'6.1'\">\n    <button\n      #searchResultItem\n      (click)=\"createCustomer()\"\n      (keydown.escape)=\"closeResults($event)\"\n      (keydown.arrowright)=\"focusInputText($event)\"\n      (keydown.arrowleft)=\"focusInputText($event)\"\n      (keydown.home)=\"focusInputText($event)\"\n      (keydown.end)=\"focusInputText($event)\"\n      [class.active]=\"activeFocusedButtonIndex === 0\"\n      [attr.aria-selected]=\"activeFocusedButtonIndex === 0\"\n      *ngIf=\"\n        !(searchResultsLoading$ | async) &&\n        searchTerm.value.length >= 3 &&\n        !!results.entries &&\n        results.entries.length <= 0\n      \"\n    >\n      <span>{{ 'asm.customerSearch.noMatchResult' | cxTranslate }}</span>\n      <span #createCustomerLink class=\"linkStyleLabel\">{{\n        'asm.customerSearch.createCustomer' | cxTranslate\n      }}</span>\n    </button>\n  </ng-container>\n</div>\n\n<div class=\"asm-results\" *ngIf=\"searchResultsLoading$ | async\">\n  <cx-dot-spinner\n    aria-hidden=\"false\"\n    [attr.aria-label]=\"'common.loading' | cxTranslate\"\n  ></cx-dot-spinner>\n</div>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'formatTimer',\n})\nexport class FormatTimerPipe implements PipeTransform {\n  transform(totalSeconds: number): string {\n    if (totalSeconds < 0) {\n      totalSeconds = 0;\n    }\n    const minutes: number = Math.floor(totalSeconds / 60);\n    const seconds: number = totalSeconds % 60;\n    let zeroPaddedMinutes: string;\n    if (minutes < 10) {\n      zeroPaddedMinutes = ('00' + minutes).slice(-2);\n    } else {\n      zeroPaddedMinutes = minutes + '';\n    }\n    const zeroPaddedSeconds: string = ('00' + seconds).slice(-2);\n    return `${zeroPaddedMinutes}:${zeroPaddedSeconds}`;\n  }\n}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { ChangeDetectorRef, Component, OnDestroy, OnInit } from '@angular/core';\nimport { AsmConfig } from '@spartacus/asm/root';\nimport { RoutingService, UserIdService } from '@spartacus/core';\nimport { Subscription } from 'rxjs';\nimport { distinctUntilChanged } from 'rxjs/operators';\nimport { AsmComponentService } from '../services/asm-component.service';\n\n@Component({\n  selector: 'cx-asm-session-timer',\n  templateUrl: './asm-session-timer.component.html',\n})\nexport class AsmSessionTimerComponent implements OnInit, OnDestroy {\n  protected subscriptions = new Subscription();\n  protected interval: any;\n  protected maxStartDelayInSeconds = 60000;\n  timeLeft: number;\n  expiredTime: number;\n\n  constructor(\n    protected config: AsmConfig,\n    protected asmComponentService: AsmComponentService,\n    protected routingService: RoutingService,\n    protected changeDetectorRef: ChangeDetectorRef,\n    protected userIdService: UserIdService\n  ) {}\n\n  ngOnInit(): void {\n    this.initTimer();\n    this.interval = setInterval(() => {\n      const currentSeconds = new Date().getTime() / 1000;\n      this.timeLeft = Math.floor(this.expiredTime - currentSeconds);\n      if (this.timeLeft <= 0) {\n        clearInterval(this.interval);\n        this.asmComponentService.logoutCustomerSupportAgentAndCustomer();\n      }\n      this.changeDetectorRef.markForCheck();\n    }, 1000);\n\n    this.resetOnNavigate();\n    this.resetOnCustomerSessionChange();\n  }\n\n  protected resetOnNavigate(): void {\n    this.subscriptions.add(\n      this.routingService.isNavigating().subscribe((isNavigating) => {\n        if (isNavigating) {\n          this.resetTimer();\n        }\n      })\n    );\n  }\n\n  protected resetOnCustomerSessionChange(): void {\n    this.subscriptions.add(\n      this.userIdService\n        .getUserId()\n        .pipe(distinctUntilChanged())\n        .subscribe(() => this.resetTimer())\n    );\n  }\n\n  protected initTimer(): void {\n    const timeoutPropertyInSeconds = this.getTimerStartDelayInSeconds();\n    const currentSeconds = new Date().getTime() / 1000;\n    this.timeLeft = timeoutPropertyInSeconds;\n    this.expiredTime = currentSeconds + this.timeLeft;\n  }\n\n  resetTimer(): void {\n    if (this.timeLeft > 0) {\n      this.initTimer();\n    }\n  }\n\n  protected getTimerStartDelayInSeconds(): number {\n    if (\n      this.config.asm?.agentSessionTimer?.startingDelayInSeconds === undefined\n    ) {\n      return 600;\n    }\n    if (\n      this.config.asm.agentSessionTimer.startingDelayInSeconds >\n      this.maxStartDelayInSeconds\n    ) {\n      return this.maxStartDelayInSeconds;\n    } else {\n      return this.config.asm.agentSessionTimer.startingDelayInSeconds;\n    }\n  }\n  ngOnDestroy(): void {\n    this.subscriptions.unsubscribe();\n    if (this.interval) {\n      clearInterval(this.interval);\n    }\n  }\n}\n","<span class=\"label\">{{ 'asm.agentSessionTimer.label' | cxTranslate }}:</span>\n<span class=\"time\"\n  >{{ timeLeft | formatTimer }}\n  {{ 'asm.agentSessionTimer.minutes' | cxTranslate }}</span\n>\n<button\n  class=\"reset\"\n  title=\"{{ 'asm.agentSessionTimer.reset' | cxTranslate }}\"\n  (click)=\"resetTimer()\"\n></button>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  Component,\n  ElementRef,\n  OnDestroy,\n  OnInit,\n  Optional,\n  ViewChild,\n} from '@angular/core';\nimport { AsmDialogActionEvent } from '@spartacus/asm/customer-360/root';\nimport { FeatureModulesService, User } from '@spartacus/core';\nimport { LaunchDialogService, LAUNCH_CALLER } from '@spartacus/storefront';\nimport { UserAccountFacade } from '@spartacus/user/account/root';\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport { AsmComponentService } from '../services/asm-component.service';\n\n@Component({\n  selector: 'cx-customer-emulation',\n  templateUrl: './customer-emulation.component.html',\n})\nexport class CustomerEmulationComponent implements OnInit, OnDestroy {\n  customer: User;\n  isCustomerEmulationSessionInProgress$: Observable<boolean>;\n\n  isAsmCustomer360Configured: boolean | undefined = false;\n  isAsmCustomer360Loaded$ = new BehaviorSubject<boolean>(false);\n\n  @ViewChild('asmCustomer360Launcher')\n  asmCustomer360LauncherElement: ElementRef;\n\n  protected subscription = new Subscription();\n\n  constructor(\n    asmComponentService: AsmComponentService,\n    userAccountFacade: UserAccountFacade,\n    // eslint-disable-next-line @typescript-eslint/unified-signatures\n    launchDialogService: LaunchDialogService,\n    featureModules: FeatureModulesService\n  );\n  /**\n   * @deprecated since 7.0\n   */\n  constructor(\n    asmComponentService: AsmComponentService,\n    userAccountFacade: UserAccountFacade\n  );\n  constructor(\n    protected asmComponentService: AsmComponentService,\n    protected userAccountFacade: UserAccountFacade,\n    // TODO(CXSPA-3090): Remove optional flag in 7.0\n    @Optional() protected launchDialogService?: LaunchDialogService,\n    @Optional() protected featureModules?: FeatureModulesService\n  ) {}\n\n  ngOnInit() {\n    this.isAsmCustomer360Configured =\n      this.featureModules?.isConfigured('asmCustomer360');\n    if (this.isAsmCustomer360Configured) {\n      // trigger lazy loading of the Customer 360 feature:\n      this.featureModules?.resolveFeature('asmCustomer360').subscribe(() => {\n        this.isAsmCustomer360Loaded$.next(true);\n      });\n    }\n\n    this.subscription.add(\n      this.userAccountFacade.get().subscribe((user) => {\n        if (user) {\n          this.customer = user;\n        }\n      })\n    );\n    this.isCustomerEmulationSessionInProgress$ =\n      this.asmComponentService.isCustomerEmulationSessionInProgress();\n  }\n\n  logoutCustomer() {\n    this.asmComponentService.logoutCustomer();\n  }\n\n  openAsmCustomer360() {\n    this.subscription.add(\n      this.isAsmCustomer360Loaded$\n        .pipe(filter((isReady) => Boolean(isReady)))\n        .subscribe(() => {\n          const data = { customer: this.customer };\n          this.launchDialogService?.openDialogAndSubscribe(\n            LAUNCH_CALLER.ASM_CUSTOMER_360,\n            this.asmCustomer360LauncherElement,\n            data\n          );\n\n          this.subscription.add(\n            this.launchDialogService?.dialogClose\n              .pipe(filter((result) => Boolean(result)))\n              .subscribe((event: AsmDialogActionEvent) => {\n                this.asmComponentService.handleAsmDialogAction(event);\n              })\n          );\n        })\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n}\n","<ng-container *ngIf=\"isCustomerEmulationSessionInProgress$ | async\">\n  <div class=\"cx-asm-customerInfo\">\n    <label class=\"cx-asm-name\">{{ customer?.name }}</label>\n    <label class=\"cx-asm-uid\">{{ customer?.uid }}</label>\n  </div>\n  <cx-asm-bind-cart></cx-asm-bind-cart>\n  <ng-container *cxFeatureLevel=\"'6.6'\">\n    <button\n      *ngIf=\"isAsmCustomer360Configured && customer\"\n      #asmCustomer360Launcher\n      class=\"cx-360-button\"\n      (click)=\"openAsmCustomer360()\"\n    >\n      {{ 'asm.asmCustomer360Button' | cxTranslate }}\n    </button>\n  </ng-container>\n  <button formcontrolname=\"logoutCustomer\" (click)=\"logoutCustomer()\">\n    {{ 'asm.endSession' | cxTranslate }}\n  </button>\n</ng-container>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { AsmService } from '@spartacus/asm/core';\nimport { AsmUi } from '@spartacus/asm/root';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'cx-asm-toggle-ui',\n  templateUrl: './asm-toggle-ui.component.html',\n})\nexport class AsmToggleUiComponent implements OnInit, OnDestroy {\n  protected subscription = new Subscription();\n  isCollapsed: boolean;\n\n  constructor(protected asmService: AsmService) {}\n\n  ngOnInit(): void {\n    this.subscription.add(\n      this.asmService.getAsmUiState().subscribe((uiState: AsmUi) => {\n        this.isCollapsed =\n          uiState.collapsed === undefined ? false : uiState.collapsed;\n      })\n    );\n  }\n\n  toggleUi(): void {\n    this.asmService.updateAsmUiState({ collapsed: !this.isCollapsed });\n  }\n\n  ngOnDestroy(): void {\n    this.subscription.unsubscribe();\n  }\n}\n","<a class=\"toggleUi\" (click)=\"toggleUi()\" tabindex=\"0\" role=\"button\">\n  <span [ngClass]=\"!isCollapsed ? 'collapseIcon' : 'expandIcon'\"></span>\n  <span *ngIf=\"!isCollapsed\" class=\"label\">\n    {{ 'asm.toggleUi.collapse' | cxTranslate }}\n  </span>\n  <span *ngIf=\"isCollapsed\" class=\"label\">\n    {{ 'asm.toggleUi.expand' | cxTranslate }}\n  </span>\n</a>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  Component,\n  ElementRef,\n  HostBinding,\n  OnDestroy,\n  OnInit,\n  Optional,\n  ViewChild,\n} from '@angular/core';\nimport { AsmService } from '@spartacus/asm/core';\nimport {\n  AsmDeepLinkParameters,\n  AsmUi,\n  CsAgentAuthService,\n  CustomerListColumnActionType,\n} from '@spartacus/asm/root';\nimport {\n  AuthService,\n  FeatureConfigService,\n  GlobalMessageService,\n  GlobalMessageType,\n  HttpErrorModel,\n  RoutingService,\n  User,\n} from '@spartacus/core';\nimport {\n  ICON_TYPE,\n  LAUNCH_CALLER,\n  LaunchDialogService,\n} from '@spartacus/storefront';\nimport { UserAccountFacade } from '@spartacus/user/account/root';\nimport { Observable, Subscription, combineLatest, of } from 'rxjs';\nimport {\n  distinctUntilChanged,\n  filter,\n  map,\n  switchMap,\n  take,\n  tap,\n} from 'rxjs/operators';\nimport { CustomerListAction } from '../customer-list/customer-list.model';\nimport { AsmComponentService } from '../services/asm-component.service';\ninterface CartTypeKey {\n  [key: string]: string;\n}\n\nexport const CART_TYPE_KEY: CartTypeKey = {\n  active: 'asm.activeCartAlertInfo',\n  inactive: 'asm.saveInactiveCartAlertInfo',\n};\n@Component({\n  selector: 'cx-asm-main-ui',\n  templateUrl: './asm-main-ui.component.html',\n})\nexport class AsmMainUiComponent implements OnInit, OnDestroy {\n  customerSupportAgentLoggedIn$: Observable<boolean>;\n  csAgentTokenLoading$: Observable<boolean>;\n  customer$: Observable<User | undefined>;\n  isCollapsed$: Observable<boolean> | undefined;\n  iconTypes = ICON_TYPE;\n\n  showDeeplinkCartInfoAlert$: Observable<boolean> =\n    this.asmComponentService.shouldShowDeeplinkCartInfoAlert();\n  deeplinkCartAlertKey: string = '';\n\n  showCreateCustomerSuccessfullyAlert = false;\n\n  globalMessageType = GlobalMessageType;\n\n  @HostBinding('class.hidden') disabled = false;\n\n  protected startingCustomerSession = false;\n  showCustomerEmulationInfoAlert = true;\n\n  subscription: Subscription = new Subscription();\n\n  @ViewChild('customerListLink') element: ElementRef;\n  @ViewChild('addNewCustomerLink') addNewCustomerLink: ElementRef;\n\n  constructor(\n    authService: AuthService,\n    csAgentAuthService: CsAgentAuthService,\n    asmComponentService: AsmComponentService,\n    globalMessageService: GlobalMessageService,\n    routingService: RoutingService,\n    asmService: AsmService,\n    userAccountFacade: UserAccountFacade,\n    launchDialogService: LaunchDialogService\n  );\n  /**\n   * @deprecated since 7.0\n   */\n  constructor(\n    authService: AuthService,\n    csAgentAuthService: CsAgentAuthService,\n    asmComponentService: AsmComponentService,\n    globalMessageService: GlobalMessageService,\n    routingService: RoutingService,\n    asmService: AsmService,\n    userAccountFacade: UserAccountFacade,\n    launchDialogService: LaunchDialogService,\n    // eslint-disable-next-line @typescript-eslint/unified-signatures\n    featureConfig: FeatureConfigService\n  );\n  constructor(\n    protected authService: AuthService,\n    protected csAgentAuthService: CsAgentAuthService,\n    protected asmComponentService: AsmComponentService,\n    protected globalMessageService: GlobalMessageService,\n    protected routingService: RoutingService,\n    protected asmService: AsmService,\n    protected userAccountFacade: UserAccountFacade,\n    protected launchDialogService: LaunchDialogService,\n    @Optional() protected featureConfig?: FeatureConfigService\n  ) {}\n\n  ngOnInit(): void {\n    this.customerSupportAgentLoggedIn$ = this.csAgentAuthService\n      .isCustomerSupportAgentLoggedIn()\n      .pipe(\n        distinctUntilChanged(),\n        tap((loggedIn) => {\n          if (!loggedIn) {\n            this.closeModal();\n          }\n        })\n      );\n\n    this.csAgentTokenLoading$ =\n      this.csAgentAuthService.getCustomerSupportAgentTokenLoading();\n    this.customer$ = this.authService.isUserLoggedIn().pipe(\n      switchMap((isLoggedIn) => {\n        if (isLoggedIn) {\n          this.handleCustomerSessionStartRedirection();\n          return this.userAccountFacade.get();\n        } else {\n          return of(undefined);\n        }\n      })\n    );\n    this.isCollapsed$ = this.asmService\n      .getAsmUiState()\n      .pipe(\n        map((uiState: AsmUi) =>\n          uiState.collapsed === undefined ? false : uiState.collapsed\n        )\n      );\n    this.subscription.add(\n      this.launchDialogService.dialogClose\n        .pipe(filter((result) => Boolean(result)))\n        .subscribe((result: CustomerListAction | User | string) => {\n          if (typeof result !== 'string') {\n            if ('selectedUser' in result) {\n              this.startCustomerEmulationSession(result.selectedUser);\n              if (\n                result.actionType === CustomerListColumnActionType.ORDER_HISTORY\n              ) {\n                this.routingService.go({ cxRoute: 'orders' });\n              }\n            } else if ('customerId' in result) {\n              this.startCustomerEmulationSession({\n                customerId: result.customerId,\n              });\n              this.showCreateCustomerSuccessfullyAlert = true;\n              this.routingService.go('/');\n            }\n            if (\n              'actionType' in result &&\n              result.actionType === CustomerListColumnActionType.ACTIVE_CART\n            ) {\n              this.routingService.go({ cxRoute: 'cart' });\n            }\n          }\n        })\n    );\n    this.subscribeForDeeplink();\n  }\n\n  /**\n   * When agent is logged in and deep link has customerID,\n   * call logout if has customer emulated(userLoggedin) but not emulated by deep link.\n   * call startSessionWithParameters\n   */\n  protected subscribeForDeeplink(): void {\n    if (this.featureConfig?.isLevel('6.2')) {\n      if (this.asmComponentService.isEmulateInURL()) {\n        //Always route to home page to avoid 404\n        this.routingService.go('/');\n      }\n      // TODO(CXSPA-3090): Use asmDeepLinkService only in 7.0.\n      const parameters = this.asmComponentService.getDeepLinkUrlParams() ?? {\n        customerId: this.asmComponentService.getSearchParameter('customerId'),\n        orderId: this.asmComponentService.getSearchParameter('orderId'),\n        ticketId: this.asmComponentService.getSearchParameter('ticketId'),\n        cartId: this.asmComponentService.getSearchParameter('cartId'),\n        cartType: this.asmComponentService.getSearchParameter('cartType'),\n        emulated: false,\n      };\n      this.deeplinkCartAlertKey = CART_TYPE_KEY[parameters.cartType || ''];\n      this.subscription.add(\n        combineLatest([\n          this.customerSupportAgentLoggedIn$,\n          this.authService.isUserLoggedIn(),\n          this.asmComponentService.isEmulatedByDeepLink(),\n        ]).subscribe(([agentLoggedIn, userLoggedin, isEmulatedByDeepLink]) => {\n          if (agentLoggedIn && parameters.customerId) {\n            if (!isEmulatedByDeepLink && userLoggedin) {\n              this.confirmSwitchCustomer(parameters.customerId);\n            } else {\n              setTimeout(() =>\n                this.startSessionWithParameters({\n                  ...parameters,\n                  emulated: isEmulatedByDeepLink,\n                })\n              );\n            }\n          }\n        })\n      );\n    }\n  }\n\n  protected confirmSwitchCustomer(switchCustomerId: string): void {\n    this.customer$\n      .pipe(\n        filter((curCustomer) => !!curCustomer),\n        take(1)\n      )\n      .subscribe((curCustomer) => {\n        if (curCustomer?.customerId !== switchCustomerId) {\n          this.userAccountFacade.getById(switchCustomerId).subscribe({\n            next: (switchCustomer) => {\n              this.launchDialogService.openDialogAndSubscribe(\n                LAUNCH_CALLER.ASM_SWITCH_CUSTOMER,\n                this.element,\n                { curCustomer: curCustomer, switchCustomer: switchCustomer }\n              );\n            },\n            error: (error: HttpErrorModel) => {\n              this.globalMessageService.add(\n                error.details?.[0].message ?? '',\n                GlobalMessageType.MSG_TYPE_ERROR\n              );\n            },\n          });\n        } else {\n          this.asmComponentService.setEmulatedByDeepLink(true);\n        }\n      });\n  }\n\n  /**\n   * If url contains customerId and we haven't emulatedFromURL, we'll change the isEmulatedByDeepLink flag and\n   * start emulate customer in URL.\n   */\n  protected startSessionWithParameters(parameters: any): void {\n    if (!parameters.emulated) {\n      this.asmComponentService.setEmulatedByDeepLink(true);\n      this.startCustomerEmulationSession(\n        {\n          customerId: parameters.customerId,\n        },\n        parameters\n      );\n    }\n  }\n\n  protected handleCustomerSessionStartRedirection(): void {\n    this.asmComponentService\n      .isCustomerEmulationSessionInProgress()\n      .pipe(take(1))\n      .subscribe((isCustomerEmulated) => {\n        if (this.startingCustomerSession && isCustomerEmulated) {\n          this.startingCustomerSession = false;\n          this.globalMessageService.remove(GlobalMessageType.MSG_TYPE_ERROR);\n          this.routingService.go('/');\n        }\n      });\n  }\n\n  loginCustomerSupportAgent({\n    userId,\n    password,\n  }: {\n    userId: string;\n    password: string;\n  }): void {\n    this.csAgentAuthService.authorizeCustomerSupportAgent(userId, password);\n  }\n\n  logout(): void {\n    this.asmComponentService.logoutCustomerSupportAgentAndCustomer();\n  }\n\n  startCustomerEmulationSession(\n    { customerId }: { customerId?: string },\n    parameters?: AsmDeepLinkParameters\n  ): void {\n    if (customerId) {\n      this.csAgentAuthService.startCustomerEmulationSession(customerId);\n      this.startingCustomerSession = true;\n      this.showCustomerEmulationInfoAlert = true;\n      this.showCreateCustomerSuccessfullyAlert = false;\n      if (parameters) {\n        // TODO(CXSPA-3090): Remove feature flag in 7.0\n        if (this.featureConfig?.isLevel('6.3')) {\n          this.asmComponentService.handleDeepLinkNavigation({\n            customerId,\n            ...parameters,\n          });\n        } else {\n          // TODOi(CXSPA-3090): Remove this implementation in 7.0\n          this.handleDeepLinkParamsAfterStartSession(parameters);\n        }\n      }\n    } else {\n      this.globalMessageService.add(\n        { key: 'asm.error.noCustomerId' },\n        GlobalMessageType.MSG_TYPE_ERROR\n      );\n    }\n  }\n\n  protected handleDeepLinkParamsAfterStartSession(\n    parameters: AsmDeepLinkParameters\n  ) {\n    if (\n      (parameters.cartType === 'active' ||\n        parameters.cartType === 'inactive') &&\n      parameters.cartId\n    ) {\n      return;\n    }\n\n    if (parameters.cartType === 'saved' && parameters.cartId) {\n      // Navigate to saved cart\n      this.routingService.go('my-account/saved-cart/' + parameters.cartId);\n    } else if (parameters.orderId) {\n      // Navigate to order details\n      this.routingService.go({\n        cxRoute: 'orderDetails',\n        params: { code: parameters.orderId },\n      });\n    } else if (parameters.ticketId) {\n      // Navigate to support ticket details\n      this.routingService.go({\n        cxRoute: 'supportTicketDetails',\n        params: { ticketCode: parameters.ticketId },\n      });\n    }\n  }\n\n  hideUi(): void {\n    this.disabled = true;\n    this.asmComponentService.unload();\n  }\n\n  showCustomList(): void {\n    this.launchDialogService.openDialogAndSubscribe(\n      LAUNCH_CALLER.ASM_CUSTOMER_LIST,\n      this.element\n    );\n  }\n\n  closeModal(): void {\n    this.launchDialogService.closeDialog('logout');\n  }\n\n  createCustomer(): void {\n    this.launchDialogService?.openDialogAndSubscribe(\n      LAUNCH_CALLER.ASM_CREATE_CUSTOMER_FORM,\n      this.addNewCustomerLink\n    );\n  }\n\n  closeDialogConfirmationAlert(): void {\n    this.showCreateCustomerSuccessfullyAlert = false;\n  }\n\n  closeDeeplinkCartInfoAlert(): void {\n    this.asmComponentService.setShowDeeplinkCartInfoAlert(false);\n  }\n\n  closeCustomerEmulationInfoAlert(): void {\n    this.showCustomerEmulationInfoAlert = false;\n  }\n\n  ngOnDestroy() {\n    this.subscription?.unsubscribe();\n  }\n}\n","<div class=\"asm-bar\">\n  <div class=\"asm-bar-branding\">\n    <img\n      class=\"logo\"\n      src=\"data:image/png;base64,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\"\n      width=\"48\"\n      height=\"24\"\n      alt=\"{{ 'asm.mainLogoLabel' | cxTranslate }}\"\n    />\n\n    <div class=\"asm-title\">\n      {{ 'asm.mainTitle' | cxTranslate }}\n    </div>\n  </div>\n  <div class=\"asm-bar-actions\">\n    <div\n      class=\"cx-asm-customer-list\"\n      *ngIf=\"customerSupportAgentLoggedIn$ | async\"\n    >\n      <a\n        #customerListLink\n        tabindex=\"0\"\n        role=\"button\"\n        class=\"cx-asm-customer-list-link\"\n        (click)=\"showCustomList()\"\n      >\n        <cx-icon [type]=\"iconTypes.USER_FRIENDS\"></cx-icon>\n        <span>{{ 'asm.customers' | cxTranslate }}</span></a\n      >\n    </div>\n\n    <cx-asm-toggle-ui></cx-asm-toggle-ui>\n\n    <cx-asm-session-timer\n      *ngIf=\"customerSupportAgentLoggedIn$ | async\"\n    ></cx-asm-session-timer>\n\n    <button\n      class=\"close\"\n      title=\"{{ 'asm.hideUi' | cxTranslate }}\"\n      *ngIf=\"\n        !(customerSupportAgentLoggedIn$ | async) &&\n        !(csAgentTokenLoading$ | async)\n      \"\n      (click)=\"hideUi()\"\n    ></button>\n\n    <button\n      class=\"logout\"\n      title=\"{{ 'asm.logout' | cxTranslate }}\"\n      *ngIf=\"customerSupportAgentLoggedIn$ | async\"\n      (click)=\"logout()\"\n    ></button>\n  </div>\n</div>\n\n<ng-container *ngIf=\"!(isCollapsed$ | async) as notCollapsed\">\n  <ng-container\n    *ngIf=\"customerSupportAgentLoggedIn$ | async; else showLoginForm\"\n  >\n    <ng-container *ngIf=\"customer$ | async; else showCustomerSelection\">\n      <cx-customer-emulation *ngIf=\"notCollapsed\"></cx-customer-emulation>\n      <!-- TODO:(CXSPA-3090) for next major release remove feature level -->\n      <ng-container *cxFeatureLevel=\"'6.1'\">\n        <cx-message\n          *ngIf=\"notCollapsed && showCreateCustomerSuccessfullyAlert\"\n          [text]=\"'asm.createCustomerSuccessfullyAlert' | cxTranslate\"\n          [type]=\"globalMessageType.MSG_TYPE_CONFIRMATION\"\n          (closeMessage)=\"closeDialogConfirmationAlert()\"\n        >\n        </cx-message>\n      </ng-container>\n      <ng-container *cxFeatureLevel=\"'6.2'\">\n        <cx-message\n          *ngIf=\"showDeeplinkCartInfoAlert$ | async\"\n          [text]=\"deeplinkCartAlertKey | cxTranslate\"\n          [type]=\"globalMessageType.MSG_TYPE_INFO\"\n          (closeMessage)=\"closeDeeplinkCartInfoAlert()\"\n        >\n        </cx-message>\n      </ng-container>\n      <ng-container *cxFeatureLevel=\"'6.3'\">\n        <cx-message\n          *ngIf=\"notCollapsed && showCustomerEmulationInfoAlert\"\n          [text]=\"'asm.startCustomerEmulationAlertInfo' | cxTranslate\"\n          [type]=\"globalMessageType.MSG_TYPE_INFO\"\n          (closeMessage)=\"closeCustomerEmulationInfoAlert()\"\n        >\n        </cx-message>\n      </ng-container>\n    </ng-container>\n    <ng-template #showCustomerSelection>\n      <cx-customer-selection\n        *ngIf=\"notCollapsed\"\n        (submitEvent)=\"startCustomerEmulationSession($event)\"\n      ></cx-customer-selection>\n    </ng-template>\n  </ng-container>\n\n  <ng-template #showLoginForm>\n    <cx-csagent-login-form\n      *ngIf=\"notCollapsed\"\n      (submitEvent)=\"loginCustomerSupportAgent($event)\"\n      [csAgentTokenLoading]=\"csAgentTokenLoading$ | async\"\n    ></cx-csagent-login-form>\n  </ng-template>\n</ng-container>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './asm-component.service';\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { Component, OnInit } from '@angular/core';\nimport { User } from '@spartacus/core';\nimport { FocusConfig, LaunchDialogService } from '@spartacus/storefront';\nimport { take } from 'rxjs/operators';\nimport { AsmComponentService } from '../services';\n\nexport enum SWITCH_CUSTOMER_DIALOG_ACTION {\n  CANCEL = 'CANCEL',\n  SWITCH = 'SWITCH',\n}\n\nexport interface SwitchCustomerData {\n  curCustomer: User;\n  switchCustomer: User;\n}\n\n@Component({\n  selector: 'cx-asm-switch-customer-dialog',\n  templateUrl: './asm-switch-customer-dialog.component.html',\n})\nexport class AsmSwitchCustomerDialogComponent implements OnInit {\n  SWITCH_CUSTOMER_DIALOG_ACTION = SWITCH_CUSTOMER_DIALOG_ACTION;\n\n  focusConfig: FocusConfig = {\n    trap: true,\n    block: true,\n    autofocus: true,\n    focusOnEscape: true,\n  };\n\n  curCustomerName: string;\n  switchCustomerName: string;\n  iconTypes: any;\n\n  constructor(\n    protected launchDialogService: LaunchDialogService,\n    protected asmComponentService: AsmComponentService\n  ) {}\n\n  ngOnInit(): void {\n    this.launchDialogService.data$\n      .pipe(take(1))\n      .subscribe((data: SwitchCustomerData) => {\n        this.curCustomerName = data.curCustomer.name || '';\n        this.switchCustomerName = data.switchCustomer.name || '';\n      });\n  }\n\n  closeModal(reason: SWITCH_CUSTOMER_DIALOG_ACTION): void {\n    if (reason === SWITCH_CUSTOMER_DIALOG_ACTION.SWITCH) {\n      this.asmComponentService.logoutCustomer();\n    }\n    this.launchDialogService.closeDialog(reason);\n  }\n}\n","<div\n  class=\"cx-asm-switch-customer-dialog cx-modal-container cx-asm-dialog\"\n  [cxFocus]=\"focusConfig\"\n  (esc)=\"closeModal(SWITCH_CUSTOMER_DIALOG_ACTION.CANCEL)\"\n>\n  <div class=\"cx-modal-content\">\n    <!-- Modal Header -->\n    <div class=\"cx-dialog-header modal-header\">\n      <div>\n        <span>\n          <cx-icon type=\"WARNING\"></cx-icon>\n        </span>\n        <span id=\"asm-switch-customer-dialog-title\" class=\"title modal-title\">\n          {{ 'asm.switchCustomer.dialog.title' | cxTranslate }}\n        </span>\n      </div>\n    </div>\n\n    <!-- Modal Body -->\n    <div class=\"cx-dialog-body modal-body\">\n      <div class=\"cx-dialog-row switch-customer-content\">\n        <div class=\"cx-dialog-item\">\n          {{\n            'asm.switchCustomer.dialog.body'\n              | cxTranslate\n                : {\n                    customerA: curCustomerName,\n                    customerB: switchCustomerName\n                  }\n          }}\n        </div>\n      </div>\n    </div>\n\n    <!-- Modal Footer -->\n    <div class=\"cx-dialog-footer modal-footer\">\n      <button\n        (click)=\"closeModal(SWITCH_CUSTOMER_DIALOG_ACTION.SWITCH)\"\n        [attr.aria-label]=\"\n          'asm.switchCustomer.dialog.actions.switch' | cxTranslate\n        \"\n        class=\"btn btn-primary\"\n        type=\"button\"\n      >\n        {{ 'asm.switchCustomer.dialog.actions.switch' | cxTranslate }}\n      </button>\n\n      <button\n        (click)=\"closeModal(SWITCH_CUSTOMER_DIALOG_ACTION.CANCEL)\"\n        [attr.aria-label]=\"'common.cancel' | cxTranslate\"\n        class=\"btn btn-secondary\"\n        type=\"button\"\n      >\n        {{ 'common.cancel' | cxTranslate }}\n      </button>\n    </div>\n  </div>\n</div>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  Component,\n  ElementRef,\n  OnDestroy,\n  OnInit,\n  Optional,\n  ViewChild,\n} from '@angular/core';\nimport { UntypedFormControl } from '@angular/forms';\nimport {\n  AsmConfig,\n  AsmCustomerListFacade,\n  CustomerListColumnActionType,\n  CustomerListsPage,\n  CustomerSearchOptions,\n  CustomerSearchPage,\n} from '@spartacus/asm/root';\nimport {\n  SortModel,\n  TranslationService,\n  User,\n  OccConfig,\n  FeatureConfigService,\n} from '@spartacus/core';\nimport {\n  BREAKPOINT,\n  BreakpointService,\n  FocusConfig,\n  ICON_TYPE,\n  LAUNCH_CALLER,\n  LaunchDialogService,\n} from '@spartacus/storefront';\nimport { combineLatest, NEVER, Observable, Subscription } from 'rxjs';\nimport { distinctUntilChanged, map, tap } from 'rxjs/operators';\nimport { CustomerListAction } from './customer-list.model';\n\n@Component({\n  selector: 'cx-customer-list',\n  templateUrl: './customer-list.component.html',\n})\nexport class CustomerListComponent implements OnInit, OnDestroy {\n  protected DEFAULT_PAGE_SIZE = 5;\n\n  focusConfig: FocusConfig = {\n    trap: true,\n    block: true,\n    autofocus: 'customer-list-selector',\n    focusOnEscape: true,\n  };\n\n  iconTypes = ICON_TYPE;\n\n  BREAKPOINT = BREAKPOINT;\n\n  selectedUserGroupId: string | undefined;\n\n  customerSearchPage$: Observable<CustomerSearchPage | undefined>;\n\n  customerListsPage$: Observable<CustomerListsPage | undefined>;\n\n  selectedCustomer: User;\n\n  currentPage = 0;\n\n  maxPage = 0;\n\n  loaded = false;\n\n  sorts: SortModel[] | null;\n\n  sortCode: string | undefined;\n\n  breakpoint$: Observable<BREAKPOINT>;\n\n  customerListConfig: Required<AsmConfig>['asm']['customerList'];\n\n  customerSearchLoading$: Observable<boolean>;\n\n  customerSearchError$: Observable<boolean>;\n\n  pageSize: number;\n\n  listsError = false;\n\n  listsEmpty = false;\n\n  enableAsmB2bCustomerList = false;\n\n  customerListColumnActionType = CustomerListColumnActionType;\n\n  searchBox: UntypedFormControl = new UntypedFormControl();\n\n  protected teardown: Subscription = new Subscription();\n\n  @ViewChild('addNewCustomerLink') addNewCustomerLink: ElementRef;\n\n  constructor(\n    launchDialogService: LaunchDialogService,\n    breakpointService: BreakpointService,\n    asmConfig: AsmConfig,\n    translation: TranslationService,\n    asmCustomerListFacade: AsmCustomerListFacade,\n    // eslint-disable-next-line @typescript-eslint/unified-signatures\n    featureConfig?: FeatureConfigService,\n    // eslint-disable-next-line @typescript-eslint/unified-signatures\n    occConfig?: OccConfig\n  );\n\n  /**\n   * @deprecated since 7.0\n   */\n  constructor(\n    launchDialogService: LaunchDialogService,\n    breakpointService: BreakpointService,\n    asmConfig: AsmConfig,\n    translation: TranslationService,\n    asmCustomerListFacade: AsmCustomerListFacade\n  );\n\n  constructor(\n    protected launchDialogService: LaunchDialogService,\n    protected breakpointService: BreakpointService,\n    protected asmConfig: AsmConfig,\n    protected translation: TranslationService,\n    protected asmCustomerListFacade: AsmCustomerListFacade,\n    // TODO:(CXSPA-3090) for next major release remove feature level\n    @Optional() protected featureConfig?: FeatureConfigService,\n    @Optional() protected occConfig?: OccConfig\n  ) {\n    this.breakpoint$ = this.getBreakpoint();\n  }\n\n  ngOnInit(): void {\n    this.pageSize =\n      this.asmConfig.asm?.customerList?.pageSize ?? this.DEFAULT_PAGE_SIZE;\n    this.customerListConfig = this.asmConfig?.asm?.customerList;\n\n    this.customerListsPage$ =\n      this.asmCustomerListFacade.getCustomerListsState().pipe(\n        tap((state) => (this.listsError = !!state.error)),\n        map((state) => {\n          if (state?.data?.userGroups?.length === 0) {\n            this.listsEmpty = true;\n            return undefined;\n          } else {\n            return state.data;\n          }\n        }),\n        distinctUntilChanged(),\n        tap((result) => {\n          // set the first value of this.customerListsPage$ to be selected\n          if (!this.selectedUserGroupId) {\n            this.selectedUserGroupId = result?.userGroups?.[0]?.uid;\n            this.sorts = null;\n            this.fetchCustomers();\n          }\n        })\n      ) ?? NEVER;\n\n    this.customerSearchLoading$ = this.asmCustomerListFacade\n      .getCustomerListCustomersSearchResultsLoading()\n      .pipe(tap((loading) => (this.loaded = !loading)));\n    this.teardown.add(this.customerSearchLoading$.subscribe());\n    this.teardown.add(() =>\n      this.asmCustomerListFacade.customerListCustomersSearchReset()\n    );\n\n    this.customerSearchError$ =\n      this.asmCustomerListFacade.getCustomerListCustomersSearchResultsError();\n\n    this.customerSearchPage$ = this.asmCustomerListFacade\n      .getCustomerListCustomersSearchResults()\n      .pipe(\n        tap((result) => {\n          if (result?.sorts) {\n            this.sorts = result.sorts;\n            this.sortCode = result.pagination?.sort;\n          }\n          if (result?.entries.length < this.pageSize) {\n            this.maxPage = result.pagination?.currentPage ?? 0;\n          } else {\n            this.maxPage = this.currentPage + 1;\n          }\n        })\n      );\n  }\n\n  ngOnDestroy(): void {\n    this.teardown.unsubscribe();\n  }\n\n  changePage(page: number): void {\n    const options: CustomerSearchOptions = {\n      customerListId: this.selectedUserGroupId,\n      pageSize: this.pageSize,\n      currentPage: page,\n      sort: this.sortCode,\n    };\n    if (this.searchBox?.value) {\n      options.query = this.searchBox.value;\n    }\n\n    this.asmCustomerListFacade.customerListCustomersSearch(options);\n  }\n\n  fetchCustomers(): void {\n    // TODO: (CXSPA-2722 for remove ) Remove FeatureConfigService for 7.0\n    this.enableAsmB2bCustomerList =\n      (this.featureConfig?.isLevel('6.1') ?? false) &&\n      this.selectedUserGroupId === 'b2bCustomerList';\n    if (this.selectedUserGroupId) {\n      const options: CustomerSearchOptions = {\n        customerListId: this.selectedUserGroupId,\n        pageSize: this.pageSize,\n        currentPage: this.currentPage,\n      };\n      if (this.sortCode) {\n        options.sort = this.sortCode;\n      }\n      if (this.searchBox?.value) {\n        options.query = this.searchBox.value;\n      }\n\n      this.asmCustomerListFacade.customerListCustomersSearchReset();\n\n      this.asmCustomerListFacade.customerListCustomersSearch(options);\n    }\n    this.updateCustomerListColumns();\n  }\n\n  private updateCustomerListColumns(): void {\n    const columns = this.customerListConfig?.columns || [];\n\n    for (const column of columns) {\n      if (\n        column.headerLocalizationKey ===\n          'asm.customerList.tableHeader.account' ||\n        column.headerLocalizationKey === 'hideHeaders'\n      ) {\n        column.headerLocalizationKey = this.enableAsmB2bCustomerList\n          ? 'asm.customerList.tableHeader.account'\n          : 'hideHeaders';\n      }\n      if (\n        column.headerLocalizationKey === 'asm.customerList.tableHeader.cart'\n      ) {\n        column.headerLocalizationKey = this.featureConfig?.isLevel('6.1')\n          ? column.headerLocalizationKey\n          : 'hideHeaders';\n      }\n    }\n  }\n\n  onChangeCustomerGroup(): void {\n    this.currentPage = 0;\n    this.sorts = null;\n    this.sortCode = '';\n    this.fetchCustomers();\n  }\n\n  getGroupName(\n    customerListsPage: CustomerListsPage,\n    id: string | undefined\n  ): string {\n    return (\n      customerListsPage?.userGroups?.find((userGroup) => userGroup.uid === id)\n        ?.name ?? ''\n    );\n  }\n\n  getBadgeText(customerEntry: User): string {\n    return (\n      (customerEntry.firstName?.charAt(0) ?? '') +\n      (customerEntry.lastName?.charAt(0) ?? '')\n    );\n  }\n\n  startColumnAction(\n    customerEntry: User,\n    action: CustomerListColumnActionType\n  ): void {\n    this.selectedCustomer = customerEntry;\n    const closeValue: CustomerListAction = {\n      actionType: action,\n      selectedUser: customerEntry,\n    };\n    this.closeModal(closeValue);\n  }\n\n  onKey(event: KeyboardEvent): void {\n    if (event.key === 'Enter') {\n      this.searchCustomers();\n    }\n  }\n  searchCustomers(): void {\n    this.currentPage = 0;\n    this.fetchCustomers();\n  }\n\n  isRequired(customerEntry: User, type: string): boolean {\n    if (\n      type === CustomerListColumnActionType.ACTIVE_CART &&\n      !customerEntry.lastCartId\n    ) {\n      return true;\n    }\n    if (\n      type === CustomerListColumnActionType.ORDER_HISTORY &&\n      customerEntry.hasOrder !== true\n    ) {\n      return true;\n    }\n    return false;\n  }\n\n  changeSortCode(sortCode: string): void {\n    this.sortCode = sortCode;\n    this.fetchCustomers();\n  }\n\n  goToNextPage(): void {\n    if (this.currentPage >= this.maxPage) {\n      this.currentPage = this.maxPage;\n    } else {\n      if (this.loaded) {\n        this.currentPage++;\n        this.fetchCustomers();\n      }\n    }\n  }\n\n  goToPreviousPage(): void {\n    if (this.currentPage <= 0) {\n      this.currentPage = 0;\n    } else {\n      if (this.loaded) {\n        this.currentPage--;\n        this.fetchCustomers();\n      }\n    }\n  }\n\n  closeModal(reason?: any): void {\n    this.launchDialogService.closeDialog(reason);\n  }\n\n  getSortLabels(): Observable<{\n    byNameAsc: string;\n    byNameDesc: string;\n    byOrderDateAsc: string;\n    byOrderDateDesc: string;\n    byDateAsc: string;\n    byDateDesc: string;\n  }> {\n    return combineLatest([\n      this.translation.translate('asm.customerList.tableSort.byName'),\n      this.translation.translate('asm.customerList.tableSort.byNameAsc'),\n      this.translation.translate('asm.customerList.tableSort.byNameDesc'),\n      this.translation.translate('asm.customerList.tableSort.byDateAsc'),\n      this.translation.translate('asm.customerList.tableSort.byDateDesc'),\n      this.translation.translate('asm.customerList.tableSort.byOrderDateAsc'),\n      this.translation.translate('asm.customerList.tableSort.byOrderDateDesc'),\n      this.translation.translate('asm.customerList.tableSort.byUnit'),\n      this.translation.translate('asm.customerList.tableSort.byUnitDesc'),\n    ]).pipe(\n      map(\n        ([\n          textByName,\n          textByNameAsc,\n          textByNameDesc,\n          textByDateAsc,\n          textByDateDesc,\n          textByOrderDateAsc,\n          textByOrderDateDesc,\n          textByUnit,\n          textByUnitDesc,\n        ]) => {\n          return {\n            byName: textByName,\n            byNameAsc: textByNameAsc,\n            byNameDesc: textByNameDesc,\n            byOrderDateAsc: textByOrderDateAsc,\n            byOrderDateDesc: textByOrderDateDesc,\n            byDateAsc: textByDateAsc,\n            byDateDesc: textByDateDesc,\n            byUnit: textByUnit,\n            byUnitDesc: textByUnitDesc,\n          };\n        }\n      )\n    );\n  }\n\n  createCustomer(): void {\n    this.launchDialogService.closeDialog('Create customer click');\n\n    this.launchDialogService?.openDialogAndSubscribe(\n      LAUNCH_CALLER.ASM_CREATE_CUSTOMER_FORM,\n      this.addNewCustomerLink\n    );\n  }\n\n  private getBreakpoint(): Observable<BREAKPOINT> {\n    return this.breakpointService.breakpoint$.pipe(\n      map((breakpoint) => {\n        if (breakpoint === BREAKPOINT.lg || breakpoint === BREAKPOINT.xl) {\n          breakpoint = BREAKPOINT.md;\n        }\n        return breakpoint;\n      })\n    );\n  }\n}\n","<div\n  class=\"cx-asm-customer-list cx-modal-container cx-asm-dialog\"\n  [cxFocus]=\"focusConfig\"\n  (esc)=\"closeModal('Escape clicked')\"\n>\n  <div class=\"cx-modal-content\">\n    <!-- Modal Header -->\n    <ng-container>\n      <div class=\"cx-dialog-header modal-header\">\n        <h2 id=\"asm-customer-list-title\" class=\"title modal-title\">\n          {{ 'asm.customerList.title' | cxTranslate }}\n        </h2>\n        <div id=\"asm-customer-list-desc\" class=\"cx-visually-hidden\">\n          {{ 'asm.customerList.description' | cxTranslate }}\n        </div>\n        <!-- TODO:(CXSPA-3090) for next major release remove feature level -->\n        <ng-container *cxFeatureLevel=\"'!6.1'\">\n          <ng-template *ngTemplateOutlet=\"closeButton\"></ng-template>\n        </ng-container>\n        <ng-container *cxFeatureLevel=\"'6.1'\">\n          <ng-template *ngTemplateOutlet=\"createCustomerButton\"></ng-template>\n        </ng-container>\n      </div>\n      <div\n        class=\"cx-dialog-sub-header modal-header\"\n        [class.tablet-mobile]=\"(breakpoint$ | async) !== BREAKPOINT.md\"\n        *ngIf=\"customerListsPage$ | async as customerListsPage\"\n      >\n        <!-- TODO:(CXSPA-3090) for next major release remove feature level -->\n        <ng-container *cxFeatureLevel=\"'!6.1'\">\n          <ng-template\n            *ngTemplateOutlet=\"\n              groupSelector;\n              context: { customerListsPage: customerListsPage }\n            \"\n          ></ng-template>\n        </ng-container>\n        <!-- TODO:(CXSPA-3090) for next major release remove feature level -->\n        <ng-container *cxFeatureLevel=\"'6.1'\">\n          <div\n            class=\"cx-header-select\"\n            [class.mobile]=\"(breakpoint$ | async) === BREAKPOINT.xs\"\n          >\n            <ng-template\n              *ngTemplateOutlet=\"\n                groupSelector;\n                context: { customerListsPage: customerListsPage }\n              \"\n            ></ng-template>\n            <ng-template\n              *ngTemplateOutlet=\"\n                total;\n                context: {\n                  customerSearchPage: customerSearchPage$ | async\n                }\n              \"\n            >\n            </ng-template>\n          </div>\n        </ng-container>\n\n        <div\n          class=\"cx-header-actions\"\n          [class.mobile]=\"(breakpoint$ | async) === BREAKPOINT.xs\"\n        >\n          <ng-template *ngTemplateOutlet=\"sort\"></ng-template>\n          <!-- TODO:(CXSPA-3090) for next major release remove feature level -->\n          <ng-container *cxFeatureLevel=\"'!6.1'\">\n            <ng-template *ngTemplateOutlet=\"pagination\"></ng-template>\n          </ng-container>\n          <!-- TODO:(CXSPA-3090) for next major release remove feature level -->\n          <ng-container *cxFeatureLevel=\"'6.1'\">\n            <ng-template *ngTemplateOutlet=\"search\"></ng-template>\n          </ng-container>\n        </div>\n      </div>\n      <!-- Modal Body -->\n      <div class=\"cx-dialog-body modal-body\">\n        <div class=\"cx-dialog-row\">\n          <div class=\"cx-dialog-item\">\n            <div *ngIf=\"listsEmpty\" class=\"cx-error-state\">\n              {{ 'asm.customerList.noLists' | cxTranslate }}\n            </div>\n            <div *ngIf=\"listsError\" class=\"cx-error-state\">\n              {{ 'asm.customerList.listsError' | cxTranslate }}\n            </div>\n            <div *ngIf=\"customerSearchError$ | async\" class=\"cx-error-state\">\n              {{ 'generalErrors.pageFailure' | cxTranslate }}\n            </div>\n            <cx-spinner *ngIf=\"customerSearchLoading$ | async\"></cx-spinner>\n            <div *ngIf=\"customerSearchPage$ | async as customerSearchPage\">\n              <table\n                id=\"asm-cusomer-list-table\"\n                role=\"table\"\n                class=\"table\"\n                *ngIf=\"loaded\"\n              >\n                <caption class=\"cx-visually-hidden\">\n                  {{\n                    'asm.customerList.title' | cxTranslate\n                  }}\n                </caption>\n                <thead *ngIf=\"(breakpoint$ | async) === BREAKPOINT.md\">\n                  <tr role=\"row\">\n                    <!-- TODO:(CXSPA-3090) for next major release remove feature level -->\n                    <ng-container *cxFeatureLevel=\"'!6.1'\">\n                      <th\n                        role=\"columnheader\"\n                        class=\"cx-avatar-cell\"\n                        *ngIf=\"customerListConfig?.showAvatar\"\n                      >\n                        <span class=\"cx-visually-hidden\">\n                          {{\n                            'asm.customerList.tableHeader.customer'\n                              | cxTranslate\n                          }}\n                        </span>\n                      </th>\n                    </ng-container>\n                    <th\n                      role=\"columnheader\"\n                      *ngFor=\"let column of customerListConfig?.columns\"\n                    >\n                      <span\n                        *ngIf=\"\n                          column.headerLocalizationKey &&\n                          column.headerLocalizationKey !== 'hideHeaders'\n                        \"\n                      >\n                        <!-- TODO:(CXSPA-3090) for next major release remove feature level -->\n                        <ng-container *cxFeatureLevel=\"'!6.1'\">\n                          {{ column.headerLocalizationKey | cxTranslate }}\n                        </ng-container>\n                        <ng-container *cxFeatureLevel=\"'6.1'\">\n                          <!-- TODO:(CXSPA-3090) for next major release replace the translation lable -->\n                          <ng-container\n                            *ngIf=\"\n                              column.headerLocalizationKey ===\n                              'asm.customerList.tableHeader.customer'\n                            \"\n                          >\n                            {{\n                              'asm.customerList.tableHeader.customerName'\n                                | cxTranslate\n                            }}\n                          </ng-container>\n                          <!-- TODO:(CXSPA-3090) for next major release replace the translation lable -->\n                          <ng-container\n                            *ngIf=\"\n                              column.headerLocalizationKey ===\n                              'asm.customerList.tableHeader.email'\n                            \"\n                          >\n                            {{\n                              'asm.customerList.tableHeader.emailId'\n                                | cxTranslate\n                            }}\n                          </ng-container>\n                          <ng-container\n                            *ngIf=\"\n                              column.headerLocalizationKey !==\n                                'asm.customerList.tableHeader.customer' &&\n                              column.headerLocalizationKey !==\n                                'asm.customerList.tableHeader.email'\n                            \"\n                          >\n                            {{ column.headerLocalizationKey | cxTranslate }}\n                          </ng-container>\n                        </ng-container>\n                      </span>\n                    </th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr\n                    role=\"row\"\n                    *ngFor=\"let customerEntry of customerSearchPage?.entries\"\n                  >\n                    <!-- TODO:(CXSPA-3090) for next major release remove feature level -->\n                    <ng-container *cxFeatureLevel=\"'!6.1'\">\n                      <td\n                        role=\"cell\"\n                        *ngIf=\"customerListConfig?.showAvatar\"\n                        class=\"cx-avatar-cell\"\n                      >\n                        <div class=\"cx-avatar\">\n                          {{ getBadgeText(customerEntry) }}\n                        </div>\n                      </td>\n                    </ng-container>\n                    <!-- multi columns if desktop -->\n                    <ng-container\n                      *ngIf=\"(breakpoint$ | async) === BREAKPOINT.md\"\n                    >\n                      <td\n                        role=\"cell\"\n                        *ngFor=\"let column of customerListConfig?.columns\"\n                      >\n                        <ng-template\n                          *ngTemplateOutlet=\"\n                            cell;\n                            context: {\n                              customerEntry: customerEntry,\n                              column: column,\n                              showHeader: false\n                            }\n                          \"\n                        ></ng-template>\n                      </td>\n                    </ng-container>\n                    <!-- two column if tablet -->\n                    <ng-container\n                      *ngIf=\"(breakpoint$ | async) === BREAKPOINT.sm\"\n                    >\n                      <td role=\"cell\" class=\"cx-multi-cell\">\n                        <ng-container\n                          *ngFor=\"\n                            let column of customerListConfig?.columns;\n                            let even = even\n                          \"\n                        >\n                          <ng-container *ngIf=\"even\">\n                            <ng-template\n                              *ngTemplateOutlet=\"\n                                cell;\n                                context: {\n                                  customerEntry: customerEntry,\n                                  column: column,\n                                  showHeader: true\n                                }\n                              \"\n                            ></ng-template>\n                          </ng-container>\n                        </ng-container>\n                      </td>\n                      <td role=\"cell\" class=\"cx-multi-cell\">\n                        <ng-container\n                          *ngFor=\"\n                            let column of customerListConfig?.columns;\n                            let odd = odd\n                          \"\n                        >\n                          <ng-container *ngIf=\"odd\">\n                            <ng-template\n                              *ngTemplateOutlet=\"\n                                cell;\n                                context: {\n                                  customerEntry: customerEntry,\n                                  column: column,\n                                  showHeader: true\n                                }\n                              \"\n                            ></ng-template>\n                          </ng-container>\n                        </ng-container>\n                      </td>\n                    </ng-container>\n                    <!-- one column if mobile -->\n                    <td\n                      role=\"cell\"\n                      class=\"cx-multi-cell\"\n                      *ngIf=\"(breakpoint$ | async) === BREAKPOINT.xs\"\n                    >\n                      <ng-container\n                        *ngFor=\"let column of customerListConfig?.columns\"\n                      >\n                        <ng-template\n                          *ngTemplateOutlet=\"\n                            cell;\n                            context: {\n                              customerEntry: customerEntry,\n                              column: column,\n                              showHeader: true\n                            }\n                          \"\n                        ></ng-template>\n                      </ng-container>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <div\n                class=\"cx-empty-state\"\n                *ngIf=\"!customerSearchPage?.entries.length\"\n              >\n                {{ 'asm.customerList.noCustomers' | cxTranslate }}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      <!-- TODO:(CXSPA-3090) for next major release remove feature level -->\n      <ng-container *cxFeatureLevel=\"'6.1'\">\n        <!-- Modal Foot -->\n        <div\n          class=\"cx-dialog-sub-header modal-header cx-dialog-foot\"\n          [class.asm-mobile-pagination]=\"\n            (breakpoint$ | async) !== BREAKPOINT.md\n          \"\n          *ngIf=\"customerListsPage$ | async as customerListsPage\"\n        >\n          <div\n            class=\"cx-header-actions\"\n            [class.mobile]=\"(breakpoint$ | async) === BREAKPOINT.xs\"\n          >\n            <div *ngIf=\"customerSearchPage$ | async as customerSearchPage\">\n              <cx-pagination\n                [pagination]=\"customerSearchPage.pagination\"\n                (viewPageEvent)=\"changePage($event)\"\n              ></cx-pagination>\n            </div>\n          </div>\n        </div>\n        <div class=\"cx-dialog-footer modal-footer\">\n          <button\n            type=\"button\"\n            class=\"btn cx-asm-customer-list-btn-cancel\"\n            (click)=\"closeModal('Cancel click')\"\n          >\n            {{ 'asm.createCustomerForm.cancel' | cxTranslate }}\n          </button>\n        </div>\n      </ng-container>\n    </ng-container>\n  </div>\n</div>\n\n<ng-template\n  #cell\n  let-customerEntry=\"customerEntry\"\n  let-column=\"column\"\n  let-showHeader=\"showHeader\"\n>\n  <div\n    class=\"cx-cell-container\"\n    *ngIf=\"column.headerLocalizationKey !== 'hideHeaders'\"\n  >\n    <span class=\"cx-header-text\" *ngIf=\"showHeader\">\n      {{ column.headerLocalizationKey | cxTranslate }}\n    </span>\n\n    <ng-container *ngIf=\"!column.actionType\">\n      <ng-container\n        *ngTemplateOutlet=\"\n          cellContent;\n          context: { column: column, customerEntry: customerEntry }\n        \"\n      ></ng-container>\n    </ng-container>\n\n    <!-- TODO:(CXSPA-3090) for next major release remove feature level -->\n    <ng-container *cxFeatureLevel=\"'6.1'\">\n      <div\n        class=\"cx-avatar\"\n        *ngIf=\"\n          customerListConfig?.showAvatar &&\n          column?.actionType === customerListColumnActionType?.START_SESSION\n        \"\n      >\n        <img\n          *ngIf=\"customerEntry?.userAvatar?.url\"\n          [attr.src]=\"\n            occConfig?.backend?.occ?.baseUrl + customerEntry?.userAvatar?.url\n          \"\n          alt=\"{{ 'asm.mainLogoLabel' | cxTranslate }}\"\n        />\n        <div class=\"cx-avatar-text\" *ngIf=\"!customerEntry?.userAvatar?.url\">\n          {{ getBadgeText(customerEntry) }}\n        </div>\n      </div>\n    </ng-container>\n\n    <button\n      *ngIf=\"column.actionType\"\n      (click)=\"startColumnAction(customerEntry, column.actionType)\"\n      class=\"btn btn-link cx-action-link cx-btn-cell\"\n      [class]=\"column.actionType === 'ACTIVE_CART' ? 'cx-cart' : ''\"\n      [disabled]=\"isRequired(customerEntry, column.actionType)\"\n      [attr.title]=\"\n        column.icon\n          ? (column.icon.captionLocalizationKey ?? column.headerLocalizationKey\n            | cxTranslate)\n          : undefined\n      \"\n      [attr.aria-label]=\"\n        column.icon\n          ? (column.icon.captionLocalizationKey ?? column.headerLocalizationKey\n            | cxTranslate)\n          : undefined\n      \"\n    >\n      <ng-container\n        *ngTemplateOutlet=\"\n          cellContent;\n          context: { column: column, customerEntry: customerEntry }\n        \"\n      ></ng-container>\n    </button>\n  </div>\n</ng-template>\n<ng-template #cellContent let-customerEntry=\"customerEntry\" let-column=\"column\">\n  <div>\n    <span *ngIf=\"!column.icon\">{{\n      column.renderer?.(customerEntry) || ''\n    }}</span>\n    <cx-icon\n      *ngIf=\"column.icon\"\n      [attr.title]=\"\n        !column.actionType\n          ? (column.icon.captionLocalizationKey ?? column.headerLocalizationKey\n            | cxTranslate)\n          : undefined\n      \"\n      [class.cx-action-color]=\"\n        column.actionType && !isRequired(customerEntry, column.actionType)\n      \"\n      [type]=\"column.icon.symbol\"\n      [attr.aria-label]=\"\n        !column.actionType\n          ? (column.icon.captionLocalizationKey ?? column.headerLocalizationKey\n            | cxTranslate)\n          : undefined\n      \"\n    ></cx-icon>\n  </div>\n</ng-template>\n\n<ng-template #search>\n  <div class=\"form-group search-wrapper\">\n    <input\n      [formControl]=\"searchBox\"\n      (keyup)=\"onKey($event)\"\n      type=\"text\"\n      class=\"form-control\"\n      placeholder=\"{{ 'asm.customerList.searchBox' | cxTranslate }}\"\n      attr.aria-label=\"{{ 'asm.customerList.enterSearchBox' | cxTranslate }}\"\n    />\n    <cx-icon\n      [type]=\"iconTypes.SEARCH\"\n      role=\"button\"\n      [attr.aria-label]=\"'storeFinder.searchNearestStores' | cxTranslate\"\n      class=\"search\"\n      (click)=\"searchCustomers()\"\n    ></cx-icon>\n  </div>\n</ng-template>\n\n<ng-template #total let-customerSearchPage=\"customerSearchPage\">\n  <span class=\"cx-total\" *ngIf=\"customerSearchPage?.pagination?.totalResults\">\n    <ng-container *ngIf=\"customerSearchPage?.pagination?.totalResults > 1\">\n      {{\n        'asm.customerList.noOfCustomers'\n          | cxTranslate: { count: customerSearchPage?.pagination?.totalResults }\n      }}\n    </ng-container>\n    <ng-container *ngIf=\"customerSearchPage?.pagination?.totalResults === 1\">\n      {{ 'asm.customerList.oneCustomer' | cxTranslate }}\n    </ng-container>\n  </span>\n</ng-template>\n\n<ng-template #sort>\n  <label>\n    <span class=\"cx-visually-hidden\">{{\n      'asm.customerList.tableSort.sortBy' | cxTranslate\n    }}</span>\n    <cx-sorting\n      class=\"sort-selector\"\n      [sortOptions]=\"sorts\"\n      [sortLabels]=\"getSortLabels() | async\"\n      (sortListEvent)=\"changeSortCode($event)\"\n      [selectedOption]=\"sortCode\"\n      placeholder=\"{{ 'asm.customerList.tableSort.sortBy' | cxTranslate }}\"\n      [cxNgSelectA11y]=\"{\n        ariaLabel: sortCode,\n        ariaControls: 'asm-cusomer-list-table'\n      }\"\n    ></cx-sorting>\n  </label>\n</ng-template>\n\n<ng-template #pagination>\n  <div class=\"cx-pagination-buttons\">\n    <div>\n      {{\n        'asm.customerList.page.page' | cxTranslate: { count: currentPage + 1 }\n      }}\n    </div>\n    <button\n      *ngIf=\"maxPage > 0\"\n      (click)=\"goToPreviousPage()\"\n      class=\"btn btn-link cx-action-link cx-btn-previous\"\n      [disabled]=\"currentPage === 0 || !loaded\"\n    >\n      <cx-icon class=\"previous\" [type]=\"iconTypes.CARET_LEFT\"></cx-icon\n      ><span>{{ 'asm.customerList.page.previous' | cxTranslate }}</span>\n    </button>\n    <button\n      *ngIf=\"maxPage > 0\"\n      (click)=\"goToNextPage()\"\n      class=\"btn btn-link cx-action-link cx-btn-next\"\n      [disabled]=\"currentPage === maxPage || !loaded\"\n    >\n      <span>{{ 'asm.customerList.page.next' | cxTranslate }}</span\n      ><cx-icon class=\"next\" [type]=\"iconTypes.CARET_RIGHT\"></cx-icon>\n    </button>\n  </div>\n</ng-template>\n\n<ng-template #groupSelector let-customerListsPage=\"customerListsPage\">\n  <label>\n    <span class=\"cx-visually-hidden\">{{\n      'asm.customerList.title' | cxTranslate\n    }}</span>\n    <ng-select\n      class=\"customer-list-selector\"\n      [searchable]=\"false\"\n      [clearable]=\"false\"\n      (change)=\"onChangeCustomerGroup()\"\n      [tabIndex]=\"0\"\n      [(ngModel)]=\"selectedUserGroupId\"\n      [items]=\"customerListsPage?.userGroups\"\n      bindLabel=\"name\"\n      bindValue=\"uid\"\n      [cxNgSelectA11y]=\"{\n        ariaLabel: getGroupName(customerListsPage, selectedUserGroupId),\n        ariaControls: 'asm-cusomer-list-table'\n      }\"\n    >\n    </ng-select>\n  </label>\n</ng-template>\n\n<ng-template #closeButton>\n  <button\n    type=\"button\"\n    class=\"close\"\n    attr.aria-label=\"{{ 'common.close' | cxTranslate }}\"\n    (click)=\"closeModal('Cross click')\"\n  >\n    <span aria-hidden=\"true\">\n      <cx-icon [type]=\"iconTypes.CLOSE\"></cx-icon>\n    </span>\n  </button>\n</ng-template>\n\n<ng-template #createCustomerButton>\n  <button\n    type=\"button\"\n    class=\"btn cx-asm-create-customer-btn\"\n    (click)=\"createCustomer()\"\n  >\n    <cx-icon [type]=\"iconTypes.USER_PLUS\"></cx-icon>\n    <span>{{ 'asm.customerList.createCustomer' | cxTranslate }}</span>\n  </button>\n</ng-template>\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { DIALOG_TYPE, LayoutConfig } from '@spartacus/storefront';\nimport { CustomerListComponent } from './customer-list.component';\n\nexport const defaultCustomerListLayoutConfig: LayoutConfig = {\n  launch: {\n    ASM_CUSTOMER_LIST: {\n      inlineRoot: true,\n      component: CustomerListComponent,\n      dialogType: DIALOG_TYPE.DIALOG,\n    },\n  },\n};\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { LayoutConfig } from '@spartacus/storefront';\nimport { AsmMainUiComponent } from './asm-main-ui/asm-main-ui.component';\n\nexport const defaultAsmLayoutConfig: LayoutConfig = {\n  launch: {\n    ASM: {\n      outlet: 'cx-storefront',\n      component: AsmMainUiComponent,\n    },\n  },\n};\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { PaginationConfig } from '@spartacus/storefront';\n\nexport const defaultAsmPaginationConfig: PaginationConfig = {\n  pagination: {\n    rangeCount: 2,\n    addPrevious: true,\n    addNext: true,\n    addStart: false,\n    addEnd: false,\n    addFirst: true,\n    addLast: true,\n    addDots: true,\n    substituteDotsForSingularPage: true,\n    dotsLabel: '···',\n  },\n};\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  DIALOG_TYPE,\n  LAUNCH_CALLER,\n  LayoutConfig,\n} from '@spartacus/storefront';\nimport { AsmBindCartDialogComponent } from './asm-bind-cart-dialog/asm-bind-cart-dialog.component';\n\nexport const defaultBindCartLayoutConfig: LayoutConfig = {\n  launch: {\n    [LAUNCH_CALLER.ASM_BIND_CART]: {\n      inlineRoot: true,\n      component: AsmBindCartDialogComponent,\n      dialogType: DIALOG_TYPE.DIALOG,\n    },\n  },\n};\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  DIALOG_TYPE,\n  LAUNCH_CALLER,\n  LayoutConfig,\n} from '@spartacus/storefront';\nimport { AsmSaveCartDialogComponent } from './asm-save-cart-dialog/asm-save-cart-dialog.component';\n\nexport const defaultSaveCartLayoutConfig: LayoutConfig = {\n  launch: {\n    [LAUNCH_CALLER.ASM_SAVE_CART]: {\n      inlineRoot: true,\n      component: AsmSaveCartDialogComponent,\n      dialogType: DIALOG_TYPE.DIALOG,\n    },\n  },\n};\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport {\n  DIALOG_TYPE,\n  LAUNCH_CALLER,\n  LayoutConfig,\n} from '@spartacus/storefront';\nimport { AsmSwitchCustomerDialogComponent } from './asm-switch-customer-dialog/asm-switch-customer-dialog.component';\n\nexport const defaultSwitchCustomerLayoutConfig: LayoutConfig = {\n  launch: {\n    [LAUNCH_CALLER.ASM_SWITCH_CUSTOMER]: {\n      inlineRoot: true,\n      component: AsmSwitchCustomerDialogComponent,\n      dialogType: DIALOG_TYPE.DIALOG,\n    },\n  },\n};\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule } from '@angular/core';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { NgSelectModule } from '@ng-select/ng-select';\nimport {\n  FeaturesConfigModule,\n  I18nModule,\n  provideDefaultConfig,\n} from '@spartacus/core';\nimport {\n  FormErrorsModule,\n  IconModule,\n  KeyboardFocusModule,\n  MessageComponentModule,\n  NgSelectA11yModule,\n  PaginationModule,\n  PasswordVisibilityToggleModule,\n  SortingModule,\n  SpinnerModule,\n} from '@spartacus/storefront';\nimport { AsmBindCartDialogComponent } from './asm-bind-cart-dialog/asm-bind-cart-dialog.component';\nimport { AsmBindCartComponent } from './asm-bind-cart/asm-bind-cart.component';\nimport { AsmCreateCustomerFormComponent } from './asm-create-customer-form/asm-create-customer-form.component';\nimport { defaultAsmCreateCustomerFormLayoutConfig } from './asm-create-customer-form/default-asm-create-customer-form-layout.config';\nimport { AsmMainUiComponent } from './asm-main-ui/asm-main-ui.component';\nimport { AsmSaveCartDialogComponent } from './asm-save-cart-dialog/asm-save-cart-dialog.component';\nimport { AsmSessionTimerComponent } from './asm-session-timer/asm-session-timer.component';\nimport { FormatTimerPipe } from './asm-session-timer/format-timer.pipe';\nimport { AsmSwitchCustomerDialogComponent } from './asm-switch-customer-dialog/asm-switch-customer-dialog.component';\nimport { AsmToggleUiComponent } from './asm-toggle-ui/asm-toggle-ui.component';\nimport { CSAgentLoginFormComponent } from './csagent-login-form/csagent-login-form.component';\nimport { CustomerEmulationComponent } from './customer-emulation/customer-emulation.component';\nimport { CustomerListComponent } from './customer-list/customer-list.component';\nimport { defaultCustomerListLayoutConfig } from './customer-list/default-customer-list-layout.config';\nimport { CustomerSelectionComponent } from './customer-selection/customer-selection.component';\nimport { defaultAsmLayoutConfig } from './default-asm-layout.config';\nimport { defaultAsmPaginationConfig } from './default-asm-pagination.config';\nimport { defaultBindCartLayoutConfig } from './default-bind-cart-layout.config';\nimport { defaultSaveCartLayoutConfig } from './default-save-cart-layout.config';\nimport { defaultSwitchCustomerLayoutConfig } from './default-switch-customer-layout.config';\nimport { DotSpinnerComponent } from './dot-spinner/dot-spinner.component';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    I18nModule,\n    FormErrorsModule,\n    IconModule,\n    NgSelectModule,\n    FormsModule,\n    SpinnerModule,\n    PasswordVisibilityToggleModule,\n    KeyboardFocusModule,\n    NgSelectA11yModule,\n    SortingModule,\n    PaginationModule,\n    MessageComponentModule,\n    FeaturesConfigModule,\n  ],\n  declarations: [\n    AsmBindCartDialogComponent,\n    AsmSaveCartDialogComponent,\n    AsmMainUiComponent,\n    CSAgentLoginFormComponent,\n    CustomerListComponent,\n    CustomerSelectionComponent,\n    AsmSessionTimerComponent,\n    FormatTimerPipe,\n    CustomerEmulationComponent,\n    AsmToggleUiComponent,\n    AsmBindCartComponent,\n    AsmSwitchCustomerDialogComponent,\n    DotSpinnerComponent,\n    AsmCreateCustomerFormComponent,\n  ],\n  exports: [\n    AsmBindCartDialogComponent,\n    AsmSaveCartDialogComponent,\n    AsmMainUiComponent,\n    CSAgentLoginFormComponent,\n    CustomerListComponent,\n    CustomerSelectionComponent,\n    AsmSessionTimerComponent,\n    FormatTimerPipe,\n    CustomerEmulationComponent,\n    AsmToggleUiComponent,\n    AsmBindCartComponent,\n    AsmSwitchCustomerDialogComponent,\n    DotSpinnerComponent,\n    AsmCreateCustomerFormComponent,\n  ],\n  providers: [\n    provideDefaultConfig(defaultAsmLayoutConfig),\n    provideDefaultConfig(defaultBindCartLayoutConfig),\n    provideDefaultConfig(defaultSaveCartLayoutConfig),\n    provideDefaultConfig(defaultSwitchCustomerLayoutConfig),\n    provideDefaultConfig(defaultCustomerListLayoutConfig),\n    provideDefaultConfig(defaultAsmPaginationConfig),\n    provideDefaultConfig(defaultAsmCreateCustomerFormLayoutConfig),\n  ],\n})\nexport class AsmComponentsModule {}\n","/*\n * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>\n *\n * SPDX-License-Identifier: Apache-2.0\n */\n\nexport * from './asm-bind-cart-dialog/asm-bind-cart-dialog.component';\nexport * from './asm-bind-cart/asm-bind-cart.component';\nexport * from './asm-components.module';\nexport * from './asm-create-customer-form/asm-create-customer-form.component';\nexport * from './asm-main-ui/asm-main-ui.component';\nexport * from './asm-save-cart-dialog/asm-save-cart-dialog.component';\nexport * from './asm-session-timer/asm-session-timer.component';\nexport * from './asm-session-timer/format-timer.pipe';\nexport * from './asm-switch-customer-dialog/asm-switch-customer-dialog.component';\nexport * from './asm-toggle-ui/asm-toggle-ui.component';\nexport * from './csagent-login-form/csagent-login-form.component';\nexport * from './customer-emulation/customer-emulation.component';\nexport * from './customer-list/customer-list.component';\nexport * from './customer-selection/customer-selection.component';\nexport * from './dot-spinner/dot-spinner.component';\nexport * from './services/index';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n"],"names":["i2","i3","i4","i1","i5","i6.AsmComponentService","i7","i8","i9.DotSpinnerComponent","i4.DotSpinnerComponent","i6","i7.DotSpinnerComponent","i2.AsmComponentService","i4.FormatTimerPipe","i1.AsmComponentService","i6.AsmBindCartComponent","i3.AsmComponentService","i8.CSAgentLoginFormComponent","i9.CustomerSelectionComponent","i10.AsmSessionTimerComponent","i11.CustomerEmulationComponent","i12.AsmToggleUiComponent"],"mappings":"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"}