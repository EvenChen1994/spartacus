/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { ChangeDetectionStrategy, Component, EventEmitter, Input, Output, } from '@angular/core';
import { BREAKPOINT } from '@spartacus/storefront';
import { map } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "@spartacus/storefront";
import * as i2 from "@angular/common";
import * as i3 from "../asm-customer-360-product-item/asm-customer-360-product-item.component";
import * as i4 from "@spartacus/core";
export class AsmCustomer360ProductListingComponent {
    constructor(breakpointService) {
        this.breakpointService = breakpointService;
        this.clickHeader = new EventEmitter();
        this.selectProduct = new EventEmitter();
    }
    ngOnInit() {
        this.numberofColumns$ = this.getNumberofColumns();
    }
    toggleShowMore() {
        this.showMore = !this.showMore;
    }
    getNumberofColumns() {
        return this.breakpointService.breakpoint$.pipe(map((breakpoint) => {
            switch (breakpoint) {
                case BREAKPOINT.xl:
                    return 3;
                case BREAKPOINT.lg:
                    return 2;
                default:
                    return 1;
            }
        }));
    }
}
AsmCustomer360ProductListingComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: AsmCustomer360ProductListingComponent, deps: [{ token: i1.BreakpointService }], target: i0.ɵɵFactoryTarget.Component });
AsmCustomer360ProductListingComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "15.2.9", type: AsmCustomer360ProductListingComponent, selector: "cx-asm-customer-360-product-listing", inputs: { emptyResultDescription: "emptyResultDescription", headerInactive: "headerInactive", headerText: "headerText", products: "products", headerTemplate: "headerTemplate" }, outputs: { clickHeader: "clickHeader", selectProduct: "selectProduct" }, ngImport: i0, template: "<div class=\"product-listing\" *ngIf=\"products?.length; else emptyResultTemplate\">\n  <div\n    class=\"product-listing-header\"\n    role=\"heading\"\n    aria-level=\"4\"\n    [attr.aria-label]=\"headerText\"\n  >\n    <button\n      [attr.aria-label]=\"headerText\"\n      [disabled]=\"headerInactive\"\n      [class.inactive]=\"headerInactive\"\n      class=\"title-link link\"\n      (click)=\"clickHeader.emit()\"\n    >\n      {{ headerText }}\n    </button>\n    <ng-container *ngIf=\"headerTemplate\">\n      <ng-container *ngTemplateOutlet=\"headerTemplate\"></ng-container>\n    </ng-container>\n  </div>\n  <ng-container *ngIf=\"numberofColumns$ | async as numberofColumns\">\n    <div\n      class=\"product-listing-items\"\n      [ngClass]=\"'column-' + numberofColumns\"\n      [class.show-more]=\"showMore\"\n    >\n      <ng-container *ngFor=\"let product of products; let i = index\">\n        <cx-asm-customer-360-product-item\n          *ngIf=\"showMore || i < numberofColumns\"\n          [product]=\"product\"\n          [quantity]=\"product?.quantity\"\n          (selectProduct)=\"selectProduct.emit($event)\"\n        ></cx-asm-customer-360-product-item>\n      </ng-container>\n    </div>\n    <ng-container *ngIf=\"products.length > numberofColumns\">\n      <button\n        class=\"link cx-action-link show-hide-button\"\n        (click)=\"toggleShowMore()\"\n      >\n        <span *ngIf=\"!showMore; else showLess\">{{\n          'asmCustomer360.productListing.showMore' | cxTranslate\n        }}</span>\n        <ng-template #showLess>\n          <span *ngIf=\"showMore\">{{\n            'asmCustomer360.productListing.showLess' | cxTranslate\n          }}</span>\n        </ng-template>\n      </button>\n    </ng-container>\n  </ng-container>\n</div>\n\n<ng-template #emptyResultTemplate>\n  <div class=\"empty-result-description\">\n    {{ emptyResultDescription }}\n  </div>\n</ng-template>\n", dependencies: [{ kind: "directive", type: i2.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { kind: "directive", type: i2.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i2.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.NgTemplateOutlet, selector: "[ngTemplateOutlet]", inputs: ["ngTemplateOutletContext", "ngTemplateOutlet", "ngTemplateOutletInjector"] }, { kind: "component", type: i3.AsmCustomer360ProductItemComponent, selector: "cx-asm-customer-360-product-item", inputs: ["product", "quantity", "isOrderEntry"], outputs: ["selectProduct"] }, { kind: "pipe", type: i2.AsyncPipe, name: "async" }, { kind: "pipe", type: i4.TranslatePipe, name: "cxTranslate" }], changeDetection: i0.ChangeDetectionStrategy.OnPush });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "15.2.9", ngImport: i0, type: AsmCustomer360ProductListingComponent, decorators: [{
            type: Component,
            args: [{ selector: 'cx-asm-customer-360-product-listing', changeDetection: ChangeDetectionStrategy.OnPush, template: "<div class=\"product-listing\" *ngIf=\"products?.length; else emptyResultTemplate\">\n  <div\n    class=\"product-listing-header\"\n    role=\"heading\"\n    aria-level=\"4\"\n    [attr.aria-label]=\"headerText\"\n  >\n    <button\n      [attr.aria-label]=\"headerText\"\n      [disabled]=\"headerInactive\"\n      [class.inactive]=\"headerInactive\"\n      class=\"title-link link\"\n      (click)=\"clickHeader.emit()\"\n    >\n      {{ headerText }}\n    </button>\n    <ng-container *ngIf=\"headerTemplate\">\n      <ng-container *ngTemplateOutlet=\"headerTemplate\"></ng-container>\n    </ng-container>\n  </div>\n  <ng-container *ngIf=\"numberofColumns$ | async as numberofColumns\">\n    <div\n      class=\"product-listing-items\"\n      [ngClass]=\"'column-' + numberofColumns\"\n      [class.show-more]=\"showMore\"\n    >\n      <ng-container *ngFor=\"let product of products; let i = index\">\n        <cx-asm-customer-360-product-item\n          *ngIf=\"showMore || i < numberofColumns\"\n          [product]=\"product\"\n          [quantity]=\"product?.quantity\"\n          (selectProduct)=\"selectProduct.emit($event)\"\n        ></cx-asm-customer-360-product-item>\n      </ng-container>\n    </div>\n    <ng-container *ngIf=\"products.length > numberofColumns\">\n      <button\n        class=\"link cx-action-link show-hide-button\"\n        (click)=\"toggleShowMore()\"\n      >\n        <span *ngIf=\"!showMore; else showLess\">{{\n          'asmCustomer360.productListing.showMore' | cxTranslate\n        }}</span>\n        <ng-template #showLess>\n          <span *ngIf=\"showMore\">{{\n            'asmCustomer360.productListing.showLess' | cxTranslate\n          }}</span>\n        </ng-template>\n      </button>\n    </ng-container>\n  </ng-container>\n</div>\n\n<ng-template #emptyResultTemplate>\n  <div class=\"empty-result-description\">\n    {{ emptyResultDescription }}\n  </div>\n</ng-template>\n" }]
        }], ctorParameters: function () { return [{ type: i1.BreakpointService }]; }, propDecorators: { emptyResultDescription: [{
                type: Input
            }], headerInactive: [{
                type: Input
            }], headerText: [{
                type: Input
            }], products: [{
                type: Input
            }], headerTemplate: [{
                type: Input
            }], clickHeader: [{
                type: Output
            }], selectProduct: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXNtLWN1c3RvbWVyLTM2MC1wcm9kdWN0LWxpc3RpbmcuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL2FzbS9jdXN0b21lci0zNjAvY29tcG9uZW50cy9hc20tY3VzdG9tZXItMzYwLXByb2R1Y3QtbGlzdGluZy9hc20tY3VzdG9tZXItMzYwLXByb2R1Y3QtbGlzdGluZy5jb21wb25lbnQudHMiLCIuLi8uLi8uLi8uLi8uLi8uLi9mZWF0dXJlLWxpYnMvYXNtL2N1c3RvbWVyLTM2MC9jb21wb25lbnRzL2FzbS1jdXN0b21lci0zNjAtcHJvZHVjdC1saXN0aW5nL2FzbS1jdXN0b21lci0zNjAtcHJvZHVjdC1saXN0aW5nLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFFSCxPQUFPLEVBQ0wsdUJBQXVCLEVBQ3ZCLFNBQVMsRUFDVCxZQUFZLEVBQ1osS0FBSyxFQUVMLE1BQU0sR0FFUCxNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLEVBQUUsVUFBVSxFQUFxQixNQUFNLHVCQUF1QixDQUFDO0FBRXRFLE9BQU8sRUFBRSxHQUFHLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQzs7Ozs7O0FBU3JDLE1BQU0sT0FBTyxxQ0FBcUM7SUEwQmhELFlBQXNCLGlCQUFvQztRQUFwQyxzQkFBaUIsR0FBakIsaUJBQWlCLENBQW1CO1FBVDFELGdCQUFXLEdBQXVCLElBQUksWUFBWSxFQUFFLENBQUM7UUFHckQsa0JBQWEsR0FBMEIsSUFBSSxZQUFZLEVBQUUsQ0FBQztJQU1HLENBQUM7SUFFOUQsUUFBUTtRQUNOLElBQUksQ0FBQyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztJQUNwRCxDQUFDO0lBRUQsY0FBYztRQUNaLElBQUksQ0FBQyxRQUFRLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ2pDLENBQUM7SUFFUyxrQkFBa0I7UUFDMUIsT0FBTyxJQUFJLENBQUMsaUJBQWlCLENBQUMsV0FBVyxDQUFDLElBQUksQ0FDNUMsR0FBRyxDQUFDLENBQUMsVUFBVSxFQUFFLEVBQUU7WUFDakIsUUFBUSxVQUFVLEVBQUU7Z0JBQ2xCLEtBQUssVUFBVSxDQUFDLEVBQUU7b0JBQ2hCLE9BQU8sQ0FBQyxDQUFDO2dCQUNYLEtBQUssVUFBVSxDQUFDLEVBQUU7b0JBQ2hCLE9BQU8sQ0FBQyxDQUFDO2dCQUNYO29CQUNFLE9BQU8sQ0FBQyxDQUFDO2FBQ1o7UUFDSCxDQUFDLENBQUMsQ0FDSCxDQUFDO0lBQ0osQ0FBQzs7a0lBakRVLHFDQUFxQztzSEFBckMscUNBQXFDLHNVQzNCbEQsNDREQTBEQTsyRkQvQmEscUNBQXFDO2tCQUxqRCxTQUFTOytCQUNFLHFDQUFxQyxtQkFFOUIsdUJBQXVCLENBQUMsTUFBTTt3R0FJL0Msc0JBQXNCO3NCQURyQixLQUFLO2dCQUlOLGNBQWM7c0JBRGIsS0FBSztnQkFJTixVQUFVO3NCQURULEtBQUs7Z0JBSU4sUUFBUTtzQkFEUCxLQUFLO2dCQUlOLGNBQWM7c0JBRGIsS0FBSztnQkFJTixXQUFXO3NCQURWLE1BQU07Z0JBSVAsYUFBYTtzQkFEWixNQUFNIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIFNQRFgtRmlsZUNvcHlyaWdodFRleHQ6IDIwMjMgU0FQIFNwYXJ0YWN1cyB0ZWFtIDxzcGFydGFjdXMtdGVhbUBzYXAuY29tPlxuICpcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuaW1wb3J0IHtcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENvbXBvbmVudCxcbiAgRXZlbnRFbWl0dGVyLFxuICBJbnB1dCxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG4gIFRlbXBsYXRlUmVmLFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFByb2R1Y3QgfSBmcm9tICdAc3BhcnRhY3VzL2NvcmUnO1xuaW1wb3J0IHsgQlJFQUtQT0lOVCwgQnJlYWtwb2ludFNlcnZpY2UgfSBmcm9tICdAc3BhcnRhY3VzL3N0b3JlZnJvbnQnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5pbXBvcnQgeyBQcm9kdWN0SXRlbSB9IGZyb20gJy4vcHJvZHVjdC1pdGVtLm1vZGVsJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnY3gtYXNtLWN1c3RvbWVyLTM2MC1wcm9kdWN0LWxpc3RpbmcnLFxuICB0ZW1wbGF0ZVVybDogJy4vYXNtLWN1c3RvbWVyLTM2MC1wcm9kdWN0LWxpc3RpbmcuY29tcG9uZW50Lmh0bWwnLFxuICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbn0pXG5leHBvcnQgY2xhc3MgQXNtQ3VzdG9tZXIzNjBQcm9kdWN0TGlzdGluZ0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgpXG4gIGVtcHR5UmVzdWx0RGVzY3JpcHRpb246IHN0cmluZztcblxuICBASW5wdXQoKVxuICBoZWFkZXJJbmFjdGl2ZTogYm9vbGVhbjtcblxuICBASW5wdXQoKVxuICBoZWFkZXJUZXh0OiBzdHJpbmc7XG5cbiAgQElucHV0KClcbiAgcHJvZHVjdHM6IEFycmF5PFByb2R1Y3RJdGVtIHwgUHJvZHVjdD47XG5cbiAgQElucHV0KClcbiAgaGVhZGVyVGVtcGxhdGU6IFRlbXBsYXRlUmVmPHZvaWQ+O1xuXG4gIEBPdXRwdXQoKVxuICBjbGlja0hlYWRlcjogRXZlbnRFbWl0dGVyPHZvaWQ+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIEBPdXRwdXQoKVxuICBzZWxlY3RQcm9kdWN0OiBFdmVudEVtaXR0ZXI8UHJvZHVjdD4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgbnVtYmVyb2ZDb2x1bW5zJDogT2JzZXJ2YWJsZTxudW1iZXI+O1xuXG4gIHNob3dNb3JlOiBib29sZWFuO1xuXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBicmVha3BvaW50U2VydmljZTogQnJlYWtwb2ludFNlcnZpY2UpIHt9XG5cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5udW1iZXJvZkNvbHVtbnMkID0gdGhpcy5nZXROdW1iZXJvZkNvbHVtbnMoKTtcbiAgfVxuXG4gIHRvZ2dsZVNob3dNb3JlKCk6IHZvaWQge1xuICAgIHRoaXMuc2hvd01vcmUgPSAhdGhpcy5zaG93TW9yZTtcbiAgfVxuXG4gIHByb3RlY3RlZCBnZXROdW1iZXJvZkNvbHVtbnMoKTogT2JzZXJ2YWJsZTxudW1iZXI+IHtcbiAgICByZXR1cm4gdGhpcy5icmVha3BvaW50U2VydmljZS5icmVha3BvaW50JC5waXBlKFxuICAgICAgbWFwKChicmVha3BvaW50KSA9PiB7XG4gICAgICAgIHN3aXRjaCAoYnJlYWtwb2ludCkge1xuICAgICAgICAgIGNhc2UgQlJFQUtQT0lOVC54bDpcbiAgICAgICAgICAgIHJldHVybiAzO1xuICAgICAgICAgIGNhc2UgQlJFQUtQT0lOVC5sZzpcbiAgICAgICAgICAgIHJldHVybiAyO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICB9XG59XG4iLCI8ZGl2IGNsYXNzPVwicHJvZHVjdC1saXN0aW5nXCIgKm5nSWY9XCJwcm9kdWN0cz8ubGVuZ3RoOyBlbHNlIGVtcHR5UmVzdWx0VGVtcGxhdGVcIj5cbiAgPGRpdlxuICAgIGNsYXNzPVwicHJvZHVjdC1saXN0aW5nLWhlYWRlclwiXG4gICAgcm9sZT1cImhlYWRpbmdcIlxuICAgIGFyaWEtbGV2ZWw9XCI0XCJcbiAgICBbYXR0ci5hcmlhLWxhYmVsXT1cImhlYWRlclRleHRcIlxuICA+XG4gICAgPGJ1dHRvblxuICAgICAgW2F0dHIuYXJpYS1sYWJlbF09XCJoZWFkZXJUZXh0XCJcbiAgICAgIFtkaXNhYmxlZF09XCJoZWFkZXJJbmFjdGl2ZVwiXG4gICAgICBbY2xhc3MuaW5hY3RpdmVdPVwiaGVhZGVySW5hY3RpdmVcIlxuICAgICAgY2xhc3M9XCJ0aXRsZS1saW5rIGxpbmtcIlxuICAgICAgKGNsaWNrKT1cImNsaWNrSGVhZGVyLmVtaXQoKVwiXG4gICAgPlxuICAgICAge3sgaGVhZGVyVGV4dCB9fVxuICAgIDwvYnV0dG9uPlxuICAgIDxuZy1jb250YWluZXIgKm5nSWY9XCJoZWFkZXJUZW1wbGF0ZVwiPlxuICAgICAgPG5nLWNvbnRhaW5lciAqbmdUZW1wbGF0ZU91dGxldD1cImhlYWRlclRlbXBsYXRlXCI+PC9uZy1jb250YWluZXI+XG4gICAgPC9uZy1jb250YWluZXI+XG4gIDwvZGl2PlxuICA8bmctY29udGFpbmVyICpuZ0lmPVwibnVtYmVyb2ZDb2x1bW5zJCB8IGFzeW5jIGFzIG51bWJlcm9mQ29sdW1uc1wiPlxuICAgIDxkaXZcbiAgICAgIGNsYXNzPVwicHJvZHVjdC1saXN0aW5nLWl0ZW1zXCJcbiAgICAgIFtuZ0NsYXNzXT1cIidjb2x1bW4tJyArIG51bWJlcm9mQ29sdW1uc1wiXG4gICAgICBbY2xhc3Muc2hvdy1tb3JlXT1cInNob3dNb3JlXCJcbiAgICA+XG4gICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBwcm9kdWN0IG9mIHByb2R1Y3RzOyBsZXQgaSA9IGluZGV4XCI+XG4gICAgICAgIDxjeC1hc20tY3VzdG9tZXItMzYwLXByb2R1Y3QtaXRlbVxuICAgICAgICAgICpuZ0lmPVwic2hvd01vcmUgfHwgaSA8IG51bWJlcm9mQ29sdW1uc1wiXG4gICAgICAgICAgW3Byb2R1Y3RdPVwicHJvZHVjdFwiXG4gICAgICAgICAgW3F1YW50aXR5XT1cInByb2R1Y3Q/LnF1YW50aXR5XCJcbiAgICAgICAgICAoc2VsZWN0UHJvZHVjdCk9XCJzZWxlY3RQcm9kdWN0LmVtaXQoJGV2ZW50KVwiXG4gICAgICAgID48L2N4LWFzbS1jdXN0b21lci0zNjAtcHJvZHVjdC1pdGVtPlxuICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgPC9kaXY+XG4gICAgPG5nLWNvbnRhaW5lciAqbmdJZj1cInByb2R1Y3RzLmxlbmd0aCA+IG51bWJlcm9mQ29sdW1uc1wiPlxuICAgICAgPGJ1dHRvblxuICAgICAgICBjbGFzcz1cImxpbmsgY3gtYWN0aW9uLWxpbmsgc2hvdy1oaWRlLWJ1dHRvblwiXG4gICAgICAgIChjbGljayk9XCJ0b2dnbGVTaG93TW9yZSgpXCJcbiAgICAgID5cbiAgICAgICAgPHNwYW4gKm5nSWY9XCIhc2hvd01vcmU7IGVsc2Ugc2hvd0xlc3NcIj57e1xuICAgICAgICAgICdhc21DdXN0b21lcjM2MC5wcm9kdWN0TGlzdGluZy5zaG93TW9yZScgfCBjeFRyYW5zbGF0ZVxuICAgICAgICB9fTwvc3Bhbj5cbiAgICAgICAgPG5nLXRlbXBsYXRlICNzaG93TGVzcz5cbiAgICAgICAgICA8c3BhbiAqbmdJZj1cInNob3dNb3JlXCI+e3tcbiAgICAgICAgICAgICdhc21DdXN0b21lcjM2MC5wcm9kdWN0TGlzdGluZy5zaG93TGVzcycgfCBjeFRyYW5zbGF0ZVxuICAgICAgICAgIH19PC9zcGFuPlxuICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgPC9idXR0b24+XG4gICAgPC9uZy1jb250YWluZXI+XG4gIDwvbmctY29udGFpbmVyPlxuPC9kaXY+XG5cbjxuZy10ZW1wbGF0ZSAjZW1wdHlSZXN1bHRUZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cImVtcHR5LXJlc3VsdC1kZXNjcmlwdGlvblwiPlxuICAgIHt7IGVtcHR5UmVzdWx0RGVzY3JpcHRpb24gfX1cbiAgPC9kaXY+XG48L25nLXRlbXBsYXRlPlxuIl19