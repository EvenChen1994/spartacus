/*
 * SPDX-FileCopyrightText: 2023 SAP Spartacus team <spartacus-team@sap.com>
 *
 * SPDX-License-Identifier: Apache-2.0
 */
import { createReducer, on } from '@ngrx/store';
import { PickupOptionActions } from '../../actions';
export const initialState = [];
export const pickupOptionReducer = createReducer(initialState, on(PickupOptionActions.SetPickupOption, (state, { payload }) => {
    const newState = state.filter((entry) => entry.entryNumber !== payload.entryNumber);
    return [...newState, payload];
}), on(PickupOptionActions.RemovePickupOption, (state, { payload }) => {
    return state
        .filter((entry) => entry.entryNumber !== payload.entryNumber)
        .map((entry) => ({
        ...entry,
        entryNumber: entry.entryNumber > payload.entryNumber
            ? entry.entryNumber - 1
            : entry.entryNumber,
    }));
}), on(PickupOptionActions.RemoveAllPickupOptions, (_state) => initialState));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGlja3VwLW9wdGlvbi5yZWR1Y2VyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vLi4vZmVhdHVyZS1saWJzL3BpY2t1cC1pbi1zdG9yZS9jb3JlL3N0b3JlL3JlZHVjZXJzL3BpY2t1cC1vcHRpb24vcGlja3VwLW9wdGlvbi5yZWR1Y2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0dBSUc7QUFFSCxPQUFPLEVBQUUsYUFBYSxFQUFFLEVBQUUsRUFBRSxNQUFNLGFBQWEsQ0FBQztBQUNoRCxPQUFPLEVBQUUsbUJBQW1CLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFHcEQsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFzQyxFQUFFLENBQUM7QUFFbEUsTUFBTSxDQUFDLE1BQU0sbUJBQW1CLEdBQUcsYUFBYSxDQUM5QyxZQUFZLEVBQ1osRUFBRSxDQUNBLG1CQUFtQixDQUFDLGVBQWUsRUFDbkMsQ0FBQyxLQUF3QyxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtJQUN4RCxNQUFNLFFBQVEsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUMzQixDQUFDLEtBQUssRUFBRSxFQUFFLENBQUMsS0FBSyxDQUFDLFdBQVcsS0FBSyxPQUFPLENBQUMsV0FBVyxDQUNyRCxDQUFDO0lBQ0YsT0FBTyxDQUFDLEdBQUcsUUFBUSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ2hDLENBQUMsQ0FDRixFQUNELEVBQUUsQ0FDQSxtQkFBbUIsQ0FBQyxrQkFBa0IsRUFDdEMsQ0FBQyxLQUF3QyxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRTtJQUN4RCxPQUFPLEtBQUs7U0FDVCxNQUFNLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxXQUFXLEtBQUssT0FBTyxDQUFDLFdBQVcsQ0FBQztTQUM1RCxHQUFHLENBQUMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDZixHQUFHLEtBQUs7UUFDUixXQUFXLEVBQ1QsS0FBSyxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUMsV0FBVztZQUNyQyxDQUFDLENBQUMsS0FBSyxDQUFDLFdBQVcsR0FBRyxDQUFDO1lBQ3ZCLENBQUMsQ0FBQyxLQUFLLENBQUMsV0FBVztLQUN4QixDQUFDLENBQUMsQ0FBQztBQUNSLENBQUMsQ0FDRixFQUNELEVBQUUsQ0FDQSxtQkFBbUIsQ0FBQyxzQkFBc0IsRUFDMUMsQ0FBQyxNQUF5QyxFQUFFLEVBQUUsQ0FBQyxZQUFZLENBQzVELENBQ0YsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBTUERYLUZpbGVDb3B5cmlnaHRUZXh0OiAyMDIzIFNBUCBTcGFydGFjdXMgdGVhbSA8c3BhcnRhY3VzLXRlYW1Ac2FwLmNvbT5cbiAqXG4gKiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuICovXG5cbmltcG9ydCB7IGNyZWF0ZVJlZHVjZXIsIG9uIH0gZnJvbSAnQG5ncngvc3RvcmUnO1xuaW1wb3J0IHsgUGlja3VwT3B0aW9uQWN0aW9ucyB9IGZyb20gJy4uLy4uL2FjdGlvbnMnO1xuaW1wb3J0IHsgUGlja3VwT3B0aW9uU3RhdGUgfSBmcm9tICcuLi8uLi9waWNrdXAtb3B0aW9uLXN0YXRlJztcblxuZXhwb3J0IGNvbnN0IGluaXRpYWxTdGF0ZTogUGlja3VwT3B0aW9uU3RhdGVbJ3BpY2t1cE9wdGlvbiddID0gW107XG5cbmV4cG9ydCBjb25zdCBwaWNrdXBPcHRpb25SZWR1Y2VyID0gY3JlYXRlUmVkdWNlcihcbiAgaW5pdGlhbFN0YXRlLFxuICBvbihcbiAgICBQaWNrdXBPcHRpb25BY3Rpb25zLlNldFBpY2t1cE9wdGlvbixcbiAgICAoc3RhdGU6IFBpY2t1cE9wdGlvblN0YXRlWydwaWNrdXBPcHRpb24nXSwgeyBwYXlsb2FkIH0pID0+IHtcbiAgICAgIGNvbnN0IG5ld1N0YXRlID0gc3RhdGUuZmlsdGVyKFxuICAgICAgICAoZW50cnkpID0+IGVudHJ5LmVudHJ5TnVtYmVyICE9PSBwYXlsb2FkLmVudHJ5TnVtYmVyXG4gICAgICApO1xuICAgICAgcmV0dXJuIFsuLi5uZXdTdGF0ZSwgcGF5bG9hZF07XG4gICAgfVxuICApLFxuICBvbihcbiAgICBQaWNrdXBPcHRpb25BY3Rpb25zLlJlbW92ZVBpY2t1cE9wdGlvbixcbiAgICAoc3RhdGU6IFBpY2t1cE9wdGlvblN0YXRlWydwaWNrdXBPcHRpb24nXSwgeyBwYXlsb2FkIH0pID0+IHtcbiAgICAgIHJldHVybiBzdGF0ZVxuICAgICAgICAuZmlsdGVyKChlbnRyeSkgPT4gZW50cnkuZW50cnlOdW1iZXIgIT09IHBheWxvYWQuZW50cnlOdW1iZXIpXG4gICAgICAgIC5tYXAoKGVudHJ5KSA9PiAoe1xuICAgICAgICAgIC4uLmVudHJ5LFxuICAgICAgICAgIGVudHJ5TnVtYmVyOlxuICAgICAgICAgICAgZW50cnkuZW50cnlOdW1iZXIgPiBwYXlsb2FkLmVudHJ5TnVtYmVyXG4gICAgICAgICAgICAgID8gZW50cnkuZW50cnlOdW1iZXIgLSAxXG4gICAgICAgICAgICAgIDogZW50cnkuZW50cnlOdW1iZXIsXG4gICAgICAgIH0pKTtcbiAgICB9XG4gICksXG4gIG9uKFxuICAgIFBpY2t1cE9wdGlvbkFjdGlvbnMuUmVtb3ZlQWxsUGlja3VwT3B0aW9ucyxcbiAgICAoX3N0YXRlOiBQaWNrdXBPcHRpb25TdGF0ZVsncGlja3VwT3B0aW9uJ10pID0+IGluaXRpYWxTdGF0ZVxuICApXG4pO1xuIl19