<cx-spinner class="overlay" *ngIf="isUpdating$ | async"> </cx-spinner>
<div>
  <div>
    <label style="float: left; font-size: 22px; font-weight: 600; color: #14293A;">My information</label>
    <button
      style="float: right; font-size: 16px; font-family: Open sans; color: #1672B7;border: none; background-color: transparent;"
      *ngIf="!isEditingProfile" (click)="onEdit()"> {{ 'common.edit' | cxTranslate }} </button>
  </div>
  <div *ngIf="!isEditingProfile" style="clear:both">
    <div style="display:flex">
      <label style="font-weight: 600; width: 120px; color:#212738 ">
        {{ 'updateProfileForm.title' | cxTranslate }}
      </label>
      <label style="font-weight: 400; color:#6C7079">
        {{(user$ | async)?.title}}
      </label>
    </div>
    <div style="display: flex">
      <label style=" font-weight: 600; width: 120px; color:#212738 ">
        <span class="">{{
          'updateProfileForm.firstName.label' | cxTranslate
          }}</span>
      </label>
      <label style="font-weight: 400; color:#6C7079">
        {{(user$ | async)?.firstName}} {{(user$ | async)?.lastName}}
      </label>
    </div>
    <div style="display: flex">
      <label style="font-weight: 600; width: 120px; color:#212738 ">
        <span class="">{{
          'updateProfileForm.customerId' | cxTranslate
          }}</span>
      </label>
      <label style="font-weight: 400; color:#6C7079">
        {{(user$ | async)?.customerId}}
      </label>
    </div>
  </div>


  <div *ngIf="isEditingProfile" style="clear:both" class="user-form">
    <form (ngSubmit)="onSubmit()" [formGroup]="form">
      <label style="width:fit-content; font-weight: 600; width: 160px; color:#212738 ">
        <span class="label-content">{{
          'updateProfileForm.title' | cxTranslate
          }}</span>
        <ng-select style="background-color:#FBFBFB" [clearable]="false" [searchable]="false" formControlName="titleCode"
          id="title-select" [cxNgSelectA11y]="{
            ariaLabel: 'updateProfileForm.title' | cxTranslate
          }">
          <ng-option *ngFor="let title of titles$ | async" [value]="title.code">{{
            title.name
            }}</ng-option>
        </ng-select>
      </label>
      <label style="width:fit-content; font-weight: 600; width: 160px; color:#212738 ">
        <span class="label-content">{{
          'updateProfileForm.firstName.label' | cxTranslate
          }}</span>
        <input required="true" type="text" class="form-control" name="firstName" placeholder="{{
            'updateProfileForm.firstName.placeholder' | cxTranslate
          }}" formControlName="firstName" />
        <cx-form-errors [control]="form.get('firstName')"></cx-form-errors>
      </label>

      <label style="width:fit-content; font-weight: 600; width: 160px; color:#212738 ">
        <span class="label-content">{{
          'updateProfileForm.lastName.label' | cxTranslate
          }}</span>
        <input required="true" type="text" class="form-control" name="lastName"
          placeholder="{{ 'updateProfileForm.lastName.placeholder' | cxTranslate }}" formControlName="lastName" />
        <cx-form-errors [control]="form.get('lastName')"></cx-form-errors>
      </label>

      <label style="width:fit-content; font-weight: 600; width: 160px; color:#212738 ">
        <span class="label-content">{{
          'updateProfileForm.customerId' | cxTranslate
          }}</span>
        <input required="true" type="text" class="form-control" name="customerId" formControlName="customerId"
          readonly />
        <cx-form-errors [control]="form.get('lastName')"></cx-form-errors>
      </label>
    </form>
    <div style="display: flex">
      <button class="btn" (click)="cancelEdit()">{{ 'common.cancel' | cxTranslate }}</button>

      <button class="btn btn-block btn-primary" (click)="onSubmit()">
        {{ 'common.save' | cxTranslate }}
      </button>
    </div>
  </div>
</div>