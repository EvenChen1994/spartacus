1 The cart reload is slow shall we show a loader in meantime ?
2 Check if rather that page location if we can use data argument for cms to distinguish between the location
3 Button on Address Card in store finder is not entirely clickable
4 Do we want to use cmsService to check the page, user can change the routes and it might fail?
5 Break down the container component for checkout as similar presentation is used in review; order details and order history.
6 See below for details (pickup-location.effect.ts)




***************************************************************

Hi
@Mateusz Kolasa
, further to
@Surya Singh
â€™s post above, we have another problem. We need to reload the active cart. This is done via the active-cart.service.ts
/**
   * Reloads active cart
   */
  reloadActiveCart() {
    combineLatest([this.getActiveCartId(), this.userIdService.takeUserId()])
      .pipe(
        take(1),
        map(([cartId, userId]) => {
          this.multiCartFacade.loadCart({
            cartId,
            userId,
            extraData: { active: true },
          });
        })
      )
      .subscribe();
  }
However, there is a problem with this method (and indeed many of the other methods in this service).
They call subscribe within the service and return void, rather than returning the observable.
This means that we cannot call the method in eg a switchMap in an effect and then do other operations afterwards only once we know that the call has completed.
We are aware that we cannot trivially just change services so wondered what we should do here, as at the moment, there is no way to call the method and then do something after it has completed.

***********************************************
