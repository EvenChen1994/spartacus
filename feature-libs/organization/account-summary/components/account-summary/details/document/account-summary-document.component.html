<ng-container *ngIf="accountSummary$ | async as accountSummary">
  <div>
    <!-- HEADER -->
    <div class="cx-account-summary-document-header">
      <h2>
        {{ 'orgAccountSummary.document.header' | cxTranslate }}
      </h2>
    </div>

    <!-- BODY -->
    <div class="cx-account-summary-document-body">
      <ng-container *ngIf="accountSummary?.pagination?.totalResults > 0; else noDocument">
        <div></div>

        <!-- Select Form and Pagination Top -->
        <div class="cx-account-summary-document-sort top">
          <label class="cx-account-summary-document-form-group form-group"
          ><span>
              {{ 'orgAccountSummary.sortBy' | cxTranslate }}
            </span>
            <cx-sorting
              [sortOptions]="accountSummary.sorts"
              [sortLabels]="getSortLabels(accountSummary.sorts) | async"
              (sortListEvent)="changeSortCode($event)"
              [selectedOption]="accountSummary.pagination.sort"
              placeholder="{{ 'orgAccountSummary.sortBy' | cxTranslate }}"
              [ariaLabel]="'orgAccountSummary.sortDocuments' | cxTranslate"
              ariaControls="account-summary-document-table"
            ></cx-sorting>
          </label>
          <div *ngIf="accountSummary?.pagination?.totalPages > 1" class="cx-account-summary-document-pagination">
            <cx-pagination
              [pagination]="accountSummary.pagination"
              (viewPageEvent)="pageChange($event)"
            ></cx-pagination>
          </div>
        </div>

        <!-- TABLE -->
        <table id="account-summary-document-table" class="table cx-account-summary-document-table">
          <thead class="cx-account-summary-document-thead-mobile">
          <th scope="col">
            {{ 'orgAccountSummary.document.id' | cxTranslate }}
          </th>
          <th scope="col">
            {{ 'orgAccountSummary.document.type' | cxTranslate }}
          </th>
          <th scope="col">
            {{ 'orgAccountSummary.document.date' | cxTranslate }}
          </th>
          <th scope="col">
            {{ 'orgAccountSummary.document.dueDate' | cxTranslate }}
          </th>
          <th scope="col">
            {{ 'orgAccountSummary.document.originalAmount' | cxTranslate }}
          </th>
          <th scope="col">
            {{ 'orgAccountSummary.document.openAmount' | cxTranslate }}
          </th>
          <th scope="col">
            {{ 'orgAccountSummary.document.status' | cxTranslate }}
          </th>
          <th scope="col"> </th>
          </thead>
          <tbody>
          <tr *ngFor="let document of accountSummary?.documents" class="cx-account-summary-document-row">
            <td class="cx-account-summary-document-code">
              <div class="cx-account-summary-document-label">
                {{ 'orgAccountSummary.document.id' | cxTranslate }}
              </div>
              <div class="cx-account-summary-document-value">{{ document?.documentNumber }}</div>
            </td>
            <td class="cx-account-summary-document-type">
              <div class="cx-account-summary-document-label">
                {{ 'orgAccountSummary.document.type' | cxTranslate }}
              </div>
              <div class="cx-account-summary-document-value">{{ document?.documentType?.name }}</div>
            </td>
            <td class="cx-account-summary-document-date">
              <div class="cx-account-summary-document-label">
                {{ 'orgAccountSummary.document.date' | cxTranslate }}
              </div>
              <div class="cx-account-summary-document-value">
                {{ document?.date | cxDate: 'longDate' }}
              </div>
            </td>
            <td class="cx-account-summary-document-date">
              <div class="cx-account-summary-document-label">
                {{ 'orgAccountSummary.document.dueDate' | cxTranslate }}
              </div>
              <div class="cx-account-summary-document-value">
                {{ document?.dueDate | cxDate: 'longDate' }}
              </div>
            </td>
            <td class="cx-account-summary-document-monetary">
              <div class="cx-account-summary-document-label">
                {{ 'orgAccountSummary.document.originalAmount' | cxTranslate }}
              </div>
              <div class="cx-account-summary-document-value">{{ document?.formattedAmount }}</div>
            </td>
            <td class="cx-account-summary-document-monetary">
              <div class="cx-account-summary-document-label">
                {{ 'orgAccountSummary.document.openAmount' | cxTranslate }}
              </div>
              <div class="cx-account-summary-document-value">{{ document?.formattedOpenAmount }}</div>
            </td>
            <td class="cx-account-summary-document-status">
              <div class="cx-account-summary-document-label">
                {{ 'orgAccountSummary.document.status' | cxTranslate }}
              </div>
              <div class="cx-account-summary-document-value">
                <span [ngClass]="{'open': 'status-open', 'closed': 'status-closed'}[document?.status]">
                  {{ document?.status }}
                </span>
              </div>
            </td>
            <td class="cx-account-summary-document-attachment">
              <div class="cx-account-summary-document-label">
                {{ 'orgAccountSummary.document.attachment' | cxTranslate }}
              </div>
              <div class="cx-account-summary-document-value">{{ document?.documentMedia ? 'View' : ' '}}</div>
            </td>
          </tr>
          </tbody>
        </table>

        <!-- Select Form and Pagination Bottom -->
        <div class="cx-account-summary-document-sort bottom">
          <div *ngIf="accountSummary.pagination.totalPages > 1" class="cx-account-summary-document-pagination">
            <cx-pagination
              [pagination]="accountSummary.pagination"
              (viewPageEvent)="pageChange($event)"
            ></cx-pagination>
          </div>
        </div>

      </ng-container>

      <!-- NO DOCUMENT CONTAINER -->
      <ng-template #noDocument>
        <div class="cx-account-summary-document-no-document" >
          {{ 'orgAccountSummary.document.noneFound' | cxTranslate }}
        </div>
      </ng-template>
    </div>
  </div>
</ng-container>
