   <ng-container *ngIf="!(loading$ | async);else loading">
    <!-- HEADER -->
    <div class="cx-cdp-body">
       <h2  style="white-space: nowrap">
          {{ 'cdpOrderHistory.ordersAndReturns' | cxTranslate }}
          <h3 >
            <span style="display: inline-block">
             <a class="cx-cdp-link-underline"
                [routerLink]="
                {
                cxRoute: 'orders'
                } | cxUrl
                ">{{ 'cdpOrderHistory.showMore' | cxTranslate}} </a>
              </span>
          </h3>
       </h2>
    </div>
    <div class="cx-cdp-body">
       <section *ngIf="orders$ | async as orders; else noOrders">
          <table   *ngFor="let order of orders.orders; else noOrders"
             role="table"
             id="cx-cdp-table"
             class="table cx-cdp-body-table">
             <!-- BODY --> 
             <tbody >
                <!-- HEADER ROW-->
                <tr
                   role="row"
                   >
                   <td role="cell" class="cx-header">
                      <span class="cx-purchase">
                         Purchased - Store
                      </span>
                   </td>
                   <td  class="cx-header"></td>
                   <td  class="cx-header">
                      <div class="cx-order-number">
                         OrderNumber({{ order?.code }})
                      </div>
                   </td>
                </tr>
                <!-- BODY ROW -->
                <tr
                   role="row"
                   >
                   <!-- IMAGE -->
                   <td role="cell"  >
                      <div *ngFor="let prdt of  orderImage[order.code]" >
                         <div *ngFor="let img of prdt.images;" >
                            <img *ngIf=" img.format === 'thumbnail' " [src]="img.url" width="88" height="88" class="slide active" >
                         </div>
                      </div>
                   </td>
                   <td >
                      <div *ngFor="let prdt of  orderImage[order.code]" >{{prdt.name}}</div>
                      <p>
                         PurchasedIn Store {{order.placed  | cxDate: 'd, MMMM, yyyy'}}<br>
                         Ordered Items:{{orderDetail[order.code]?.deliveryItemsQuantity}}<br>
                         <br>
                         TotalPrice: ${{ order.total.value }}
                      </p>
                   </td>
                   <td>
                      <div class="cx-cdp-link-underline">
                         <br>
                         <br>
                         <a class="cx-cdp-link-underline-color"
                            [routerLink]="
                            {
                            cxRoute: 'orderDetails',
                            params: order
                            } | cxUrl
                            ">{{ 'cdpOrderHistory.orderDetails' | cxTranslate}} </a>
                      </div>
                   </td>
                </tr>
             </tbody>
          </table>
       </section>
    </div>
 </ng-container>
 <ng-template #loading>
    <div class="cx-spinner">
       <cx-spinner></cx-spinner>
    </div>
 </ng-template>
 <ng-template #noOrders>
  <div >
     <h3>No Orders</h3>
  </div>
</ng-template>